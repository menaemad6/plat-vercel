{% extends "profile-layout.html" %}
{% load static %}


{% block head %}


{% if mode == 'normal' %}
<!-- Page Title  -->
<title>{{platform.website_title}} - {{lecture.title}}</title>
<!-- Page Title  -->
{% else %}
<!-- Page Title  -->
<title>{{platform.website_title}} - {{lecture.title}} - {{part.title}}</title>
<!-- Page Title  -->
{% endif %}


<style>
  .bullet-active {
    background-color: blue;
    padding: 10px;
    border-radius: 10px;
    color: white;
    font-size: 10px;
  }



  .progress-bar {
    width: 100%;
    height: 20px;
    background-color: #f1f1f1;
  }

  .progress {
    width: 0%;
    height: 20px;
    background-color: #4caf50;
  }


  input[type=radio]+label {
    color: white;
    background-color: #7a6ad8;
  }

  input[type=radio]:hover+label {
    color: white;
    background-color: #6255ad;
  }

  input[type=radio]:checked+label {
    color: white;
    background-color: #ffab00;
  }


  /* Progress Bar  */
  #myProgress {
    width: 100%;
    height: 30px;
    background-color: #5b5e5e;
  }

  #myBar {
    width: 80%;
    height: 100%;
    background-color: #04AA6D;
    text-align: center;
    /* To center it horizontally (if you want) */
    line-height: 30px;
    /* To center it vertically */
    color: white;
  }

  /* Progress Bar  */
</style>



<!-- Circle Progress Chart  -->
<style>
  .progress-chart {
    width: 200px;
    height: 200px;
    position: relative;
  }

  .circle {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 10px solid #eaeaea;
    border-top-color: #7a6ad8;
    animation: progress-animation 2s linear infinite;
  }

  .inner-text {
    position: absolute;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    font-family: Arial, sans-serif;
    font-size: 20px;
    color: #7a6ad8;
  }

  #percentage {
    font-size: 40px;
    font-weight: bold;
  }

  @keyframes progress-animation {
    0% {
      transform: rotate(-90deg);
    }

    100% {
      transform: rotate(270deg);
    }
  }
</style>
<!-- Circle Progress Chart  -->




<!-- Custom Modal For Discount  -->
<style>
  .custom-modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    justify-content: center;
    align-items: center;
    transition: opacity 0.3s ease;
  }

  .custom-modal.active {
    display: flex;
    opacity: 1;
  }

  .custom-modal-content {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    max-width: 500px;
    width: 90%;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    animation: fadeIn 0.3s ease;
  }

  .close-button {
    cursor: pointer;
    color: red;
    font-weight: bold;
    float: right;
    font-size: 20px;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
<!-- Custom Modal For Discount  -->


<!-- Discount Card  -->
<style>
  .special-offer {
    margin-top: 50px;
    background-color: #fff;
    border-radius: 25px;
    padding: 30px 120px;
    display: inline-block;
    position: relative;
  }

  .special-offer span.offer {
    position: absolute;
    left: 0;
    top: 0;
    background-color: #7a6ad8;
    width: 80px;
    padding: 30px 8px;
    line-height: 25px;
    height: 120px;
    border-radius: 15px 60px 60px 15px;
    display: inline-block;
    text-align: center;
    color: #fff;
    font-size: 16px;
    text-transform: uppercase;
    text-align: left;
  }

  .special-offer span.offer em {
    font-size: 28px;
    font-style: normal;
    font-weight: 600;
  }

  .special-offer h6 {
    font-size: 15px;
    color: #4a4a4a;
    text-transform: uppercase;
    font-weight: 400;
    margin-bottom: 15px;
  }

  .special-offer h6 em {
    font-style: normal;
    color: #7a6ad8;
    font-weight: 600;
  }

  .special-offer h4 {
    font-size: 22px;
    font-weight: 600;
  }

  .special-offer h4 em {
    font-style: normal;
    color: #7a6ad8;
  }

  .right-angle-link {
    position: absolute;
    right: 30px;
    top: 35px;
    width: 50px;
    height: 50px;
    display: inline-block;
    text-align: center;
    line-height: 50px;
    background-color: #7a6ad8;
    color: #fff;
    border-radius: 50%;
  }
</style>
<!-- Discount Card  -->



<!-- Social Media Section  -->
<style>
  /* Define the animation keyframes */
  @keyframes slideLeft {
    0% {
      transform: translateX(100%);
    }

    100% {
      transform: translateX(-100%);
    }
  }

  /* Container for the scrolling effect */
  .social-media-section {
    overflow: hidden;
    white-space: nowrap;
    position: relative;
  }

  /* The animated element */
  .social-media-section p {
    display: inline-block;
    animation: slideLeft 15s linear infinite;
  }

  /* Ensure that the items are not squished together */
  .social-media-section span {
    display: inline-block;
    margin-right: 15px;
    /* Adjust as needed */
  }
</style>
<!-- Social Media Section  -->




{% endblock head %}


{% block content %}


{% if msg_ar %}
<div class="bs-toast toast toast-placement-ex m-2 bg-{{msg_color}} bottom-0 end-0 show" role="alert"
  aria-live="assertive" aria-atomic="true">
  <div class="toast-header">
    <i class="bx bx-bell me-2"></i>
    <div class="me-auto fw-semibold">Error</div>
    <small>Just Now</small>
    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
  </div>
  <div class="toast-body">
    {% if LANGUAGE_CODE == 'ar' %}
    {{msg_ar}}
    {% else %}
    {{msg_en}}
    {% endif %}
  </div>
</div>
{% endif %}






<!-- Navbar Container  -->
<div class="container">
  <div class="row">


    <div class="col-12">


      <!-- ***** Navbar ***** -->
      <div class="background-header" style="z-index: 999; padding: 0; margin: 0;">

        <header class="header-area header-sticky">
          <div class="container">
            <div class="row">
              <div class="col-12" style="overflow: visible; padding: 0; margin: 0;">
                <nav class="main-nav" style="overflow: visible; ">

                  <div
                    style="width: 100%;padding: 15px;   display: flex; justify-content: space-between; align-items: center; ">
                    <!-- ***** Logo Start ***** -->



                    <div style=" display: flex; justify-content: center; align-items: center; height: 100%; ">
                      <a href="{% url 'home' %}" class="logo"
                        style="padding: 0; margin: 0; display: flex; justify-content: center; align-items: center; height: 100%;">
                        <h1 style="padding: 0; margin: 0;">
                          {% if platform %}

                          {% if platform.image_logo %}
                          <img src="{{platform.image_logo.url}}" style="width: 100%; height: 50px;" />
                          {% else%}
                          {{platform.text_logo}}
                          {% endif %}

                          {% else %}

                          {% if LANGUAGE_CODE == 'ar' %}
                          اسم المعلم
                          {% else %}
                          Teacher Name
                          {% endif %}

                          {% endif %}
                        </h1>
                      </a>
                    </div>

                    <!-- ***** Logo End ***** -->

                    <!-- Toogle  -->
                    <div>
                      <button class="btn" type="button" data-bs-toggle="offcanvas" data-bs-target="#menu"
                        aria-controls="offcanvasWithBackdrop">
                        <i class="bx bx-menu text-white" style="font-size: 40px;"></i>
                      </button>
                    </div>

                    <!-- Toogle  -->

                  </div>





                  <div class="offcanvas offcanvas-end" tabindex="-1" id="menu"
                    aria-labelledby="offcanvasWithBackdropLabel" style="background-color: #7b6ada;  -webkit-box-shadow: -11px 0px 25px 2px rgba(0,0,0,0.38);
                  -moz-box-shadow: -11px 0px 25px 2px rgba(0,0,0,0.38);
                  box-shadow: -11px 0px 25px 2px rgba(0,0,0,0.38);">

                    <div class="offcanvas-header"
                      style="display: flex; justify-content: center; align-items: center; padding-top: 40px;">
                      <button type="button" class="text-reset" data-bs-dismiss="offcanvas" aria-label="Close" style="border: none; background: rgba(255, 255, 255, 0.2);
    border-radius: 16px; padding: 10px 20px;">
                        <i class="fa-solid fa-xmark" style="color: white; font-size: 40px; "></i>
                      </button>
                    </div>

                    <hr>

                    <div class="offcanvas-body">



                      <div class="menu-links ">
                        <div class="container">
                          <div class="row">

                            <div class="col-12 mb-3">
                              <div class="menu-link-active"
                                style="background-color: #f1f0fe; width: 100%; height: 50px; border-radius: 15px;">
                                <a href="{% url 'home' %}"
                                  style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-end; padding: 10px;">
                                  <div style="display: flex; flex-direction: row; align-items: center;">
                                    <div
                                      style="display: flex; height: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      الرئيسية
                                      {% else %}
                                      Home
                                      {% endif %}
                                    </div>
                                    <div style="background-color: #7b6ada; border-radius: 15px; padding: 3px;">
                                      <i class="bx bx-home text-white" style="font-size: 25px;"></i>
                                    </div>
                                  </div>
                                </a>
                              </div>
                            </div>

                            <div class="col-12 mb-3">
                              <div class="menu-link"
                                style="background-color: #f1f0fe; width: 100%; height: 50px; border-radius: 15px;">
                                <a href="{% url 'grades' %}"
                                  style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-end; padding: 10px;">
                                  <div style="display: flex; flex-direction: row; align-items: center;">
                                    <div
                                      style="display: flex; height: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      المحاضرات
                                      {% else %}
                                      Lectures
                                      {% endif %}
                                    </div>
                                    <div style="background-color: #7b6ada; border-radius: 15px; padding: 3px;">
                                      <i class="bx bx-file text-white" style="font-size: 25px;"></i>
                                    </div>
                                  </div>
                                </a>
                              </div>
                            </div>

                            <div class="col-12 mb-3">
                              <div class="menu-link"
                                style="background-color: #f1f0fe; width: 100%; height: 50px; border-radius: 15px;">

                                <form action="{% url 'set_language' %}" method="post" class="w-100">
                                  {% csrf_token %}
                                  <input name="next" type="hidden" value="{{ request.get_full_path|slice:'3:' }}">


                                  {% if LANGUAGE_CODE == 'ar' %}
                                  <button type='submit' name='language' value='en'
                                    style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-end; padding: 10px; border: none;border-radius: 15px; ">
                                    <div style="display: flex; flex-direction: row; align-items: center;">
                                      <div
                                        style="display: flex; height: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                        الانجليزية
                                      </div>
                                      <div style="background-color: #7b6ada; border-radius: 15px; padding: 3px;">
                                        <i class="bx bx-globe text-white" style="font-size: 25px;"></i>
                                      </div>
                                    </div>
                                  </button>
                                  {% else %}
                                  <button type='submit' name='language' value='ar'
                                    style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-end; padding: 10px; border: none;border-radius: 15px; ">
                                    <div style="display: flex; flex-direction: row; align-items: center;">
                                      <div
                                        style="display: flex; height: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                        Arabic
                                      </div>
                                      <div style="background-color: #7b6ada; border-radius: 15px; padding: 3px;">
                                        <i class="bx bx-globe text-white" style="font-size: 25px;"></i>
                                      </div>
                                    </div>
                                  </button>
                                  {% endif %}




                                </form>

                              </div>
                            </div>


                            {% if user_profile %}

                            {% if user_profile.instructor == False %}
                            <div class="col-12 mb-3">
                              <div class="menu-link"
                                style="background-color: #f1f0fe; width: 100%; height: 50px; border-radius: 15px;">
                                <a href="{% url 'main' user %}"
                                  style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-end; padding: 10px;">
                                  <div style="display: flex; flex-direction: row; align-items: center;">
                                    <div
                                      style="display: flex; height: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      الملف الشخصي
                                      {% else %}
                                      Profile
                                      {% endif %}
                                    </div>
                                    <div style="background-color: #7b6ada; border-radius: 15px; padding: 3px;">
                                      <i class="bx bx-user text-white" style="font-size: 25px;"></i>
                                    </div>
                                  </div>
                                </a>
                              </div>
                            </div>

                            <div class="col-12 mb-3">
                              <div class="menu-link"
                                style="background-color: #f1f0fe; width: 100%; height: 50px; border-radius: 15px;">
                                <a href="{% url 'inbox' user %}"
                                  style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-end; padding: 10px;">
                                  <div style="display: flex; flex-direction: row; align-items: center;">
                                    <div
                                      style="display: flex; height: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      الأسئلة
                                      {% else %}
                                      Questions
                                      {% endif %}
                                    </div>
                                    <div style="background-color: #7b6ada; border-radius: 15px; padding: 3px;">
                                      <i class="bx bx-question-mark text-white" style="font-size: 25px;"></i>
                                    </div>
                                  </div>
                                </a>
                              </div>
                            </div>

                            <div class="col-12 mb-3">
                              <div class="menu-link"
                                style="background-color: #f1f0fe; width: 100%; height: 50px; border-radius: 15px;">
                                <a href="{% url 'notifications' user %}"
                                  style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-end; padding: 10px;">
                                  <div style="display: flex; flex-direction: row; align-items: center;">
                                    <div
                                      style="display: flex; height: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      الإشعارات
                                      {% else %}
                                      Notifications
                                      {% endif %}
                                      {% if notifications > 0 %}
                                      <span
                                        class="flex-shrink-0 badge badge-center rounded-pill bg-danger w-px-20 h-px-20"
                                        style="margin-left: 10px;">{{notifications}}</span>
                                      {% endif %}
                                    </div>
                                    <div style="background-color: #7b6ada; border-radius: 15px; padding: 3px;">
                                      <i class="bx bxs-bell-ring text-white" style="font-size: 25px;"></i>
                                    </div>
                                  </div>
                                </a>
                              </div>
                            </div>

                            {% else %}
                            <div class="col-12 mb-3">
                              <div class="menu-link"
                                style="background-color: #f1f0fe; width: 100%; height: 50px; border-radius: 15px;">
                                <a href="{% url 'dashboard-page' %}"
                                  style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-end; padding: 10px;">
                                  <div style="display: flex; flex-direction: row; align-items: center;">
                                    <div
                                      style="display: flex; height: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      لوحة التحكم
                                      {% else %}
                                      Dashboard
                                      {% endif %}
                                    </div>
                                    <div style="background-color: #7b6ada; border-radius: 15px; padding: 3px;">
                                      <i class="bx bxs-dashboard text-white" style="font-size: 25px;"></i>
                                    </div>
                                  </div>
                                </a>
                              </div>
                            </div>

                            <div class="col-12 mb-3">
                              <div class="menu-link"
                                style="background-color: #f1f0fe; width: 100%; height: 50px; border-radius: 15px;">
                                <a href="{% url 'dashboard-page' %}"
                                  style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-end; padding: 10px;">
                                  <div style="display: flex; flex-direction: row; align-items: center;">
                                    <div
                                      style="display: flex; height: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      الاكواد
                                      {% else %}
                                      Codes
                                      {% endif %}
                                    </div>
                                    <div style="background-color: #7b6ada; border-radius: 15px; padding: 3px;">
                                      <i class="bx bx-barcode text-white" style="font-size: 25px;"></i>
                                    </div>
                                  </div>
                                </a>
                              </div>
                            </div>

                            {% endif %}

                            <hr class="mt-1 mb-3">


                            <div class="col-12 mb-3">
                              <div class="menu-link"
                                style="background-color: #f1f0fe; width: 100%; height: 50px; border-radius: 15px;">
                                <a href="{% url 'logout' %}"
                                  style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-end; padding: 10px;">
                                  <div style="display: flex; flex-direction: row; align-items: center;">
                                    <div
                                      style="display: flex; height: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      تسجيل الخروج
                                      {% else %}
                                      Log Out
                                      {% endif %}
                                    </div>
                                    <div style="background-color: #7b6ada; border-radius: 15px; padding: 3px;">
                                      <i class="bx bx-log-out text-white" style="font-size: 25px;"></i>
                                    </div>
                                  </div>
                                </a>
                              </div>
                            </div>


                            {% else %}

                            <hr class="mt-3 mb-5">
                            <div class="col-12 mb-3">
                              <div class="menu-link"
                                style="background-color: #f1f0fe; width: 100%; height: 50px; border-radius: 15px;">
                                <a href="{% url 'signup' %}"
                                  style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-end; padding: 10px;">
                                  <div style="display: flex; flex-direction: row; align-items: center;">
                                    <div
                                      style="display: flex; height: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      انشاء حساب جديد
                                      {% else %}
                                      Register
                                      {% endif %}
                                    </div>
                                    <div style="background-color: #7b6ada; border-radius: 15px; padding: 3px;">
                                      <i class="bx bx-plus text-white" style="font-size: 25px;"></i>
                                    </div>
                                  </div>
                                </a>
                              </div>
                            </div>

                            <div class="col-12 mb-3">
                              <div class="menu-link"
                                style="background-color: #f1f0fe; width: 100%; height: 50px; border-radius: 15px;">
                                <a href="{% url 'login' %}"
                                  style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-end; padding: 10px;">
                                  <div style="display: flex; flex-direction: row; align-items: center;">
                                    <div
                                      style="display: flex; height: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      تسجيل الدخول
                                      {% else %}
                                      Login
                                      {% endif %}
                                    </div>
                                    <div style="background-color: #7b6ada; border-radius: 15px; padding: 3px;">
                                      <i class="bx bx-log-in text-white" style="font-size: 25px;"></i>
                                    </div>
                                  </div>
                                </a>
                              </div>
                            </div>



                            {% endif %}


                            {% if user_profile %}
                            {% if user_profile.instructor == True %}
                            <div class="col-12" style="display: flex; justify-content: center">
                              <div class="menu-link"
                                style="position: absolute; bottom: 10px; background-color: #f1f0fe; width: 90%; height: 90px; border-radius: 15px;">
                                <a href="{% url 'dashboard-page' %}"
                                  style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-start; padding: 10px;">
                                  <div style="display: flex; flex-direction: row;  align-items: center; width: 100%;">

                                    <div>

                                      {% if user_profile.image %}
                                      <img src="{{user_profile.image.url}}" alt class="rounded-circle"
                                        style="width: 70px; height: 70px;" />
                                      {% else %}
                                      <img src="{% static 'blank-profile-picture.jpg' %}" alt class="rounded-circle"
                                        style="width: 70px; height: 70px;" />
                                      {% endif %}


                                    </div>
                                    <div
                                      style="display: flex; height: 100%; justify-content: center; width: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                      {% if user_profile.name %}
                                      {{user_profile.name}}
                                      {% else %}
                                      {{user_profile.user.username}}
                                      {% endif %}
                                    </div>

                                  </div>
                                </a>
                              </div>
                            </div>
                            {% else %}
                            <div class="col-12" style="display: flex; justify-content: center">
                              <div class="menu-link"
                                style="position: absolute; bottom: 10px; background-color: #f1f0fe; width: 90%; height: 90px; border-radius: 15px;">
                                <a href="{% url 'main' user %}"
                                  style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: flex-start; padding: 10px;">
                                  <div style="display: flex; flex-direction: row;  align-items: center; width: 100%;">

                                    <div>

                                      {% if user_profile.image %}
                                      <img src="{{user_profile.image.url}}" alt class="rounded-circle"
                                        style="width: 70px; height: 70px;" />
                                      {% else %}
                                      <img src="{% static 'blank-profile-picture.jpg' %}" alt class="rounded-circle"
                                        style="width: 70px; height: 70px;" />
                                      {% endif %}


                                    </div>
                                    <div
                                      style="display: flex; height: 100%; justify-content: center; flex-direction: column; width: 100%; align-items: center; margin-right: 15px; font-size: 20px; font-weight: 600; color: black;">
                                      <div>
                                        {% if user_profile.name %}
                                        {{user_profile.name}}
                                        {% else %}
                                        {{user_profile.user.username}}
                                        {% endif %}
                                      </div>

                                      <div>
                                        <p class="text-black"
                                          style="padding: 0; margin: 0;  font-size: 15px; font-weight: 400;">
                                          {{user_profile.money}} EGP</p>
                                      </div>
                                    </div>

                                  </div>
                                </a>
                              </div>
                            </div>
                            {% endif %}
                            {% endif %}


                          </div>
                        </div>







                      </div>

                    </div>
                  </div>

                </nav>
              </div>
            </div>
          </div>
        </header>

      </div>
      <!-- ***** Navbar ***** -->


    </div>

  </div>
</div>
<!-- Navbar Container  -->






<!-- Layout wrapper -->
<div class="layout-wrapper layout-content-navbar" style="margin-top: 100px;">


  <!-- Content wrapper -->
  <div class="content-wrapper">
    <!-- Content -->




    <!-- Header Section  -->
    <div class="container-fluid" style="padding: 0; margin: 0; overflow: hidden;" data-aos="fade-down"
      data-aos-delay="200" data-aos-duration="600">
      <div class="row" style="overflow: hidden;">
        <div class="col-12" style="overflow: hidden;">



          <div class="hero" style="overflow: hidden; padding-bottom: 400px;">

            <div class="hero__title">
              <div class="container">
                <div class="row">

                  <div class="col-12 mt-4">
                    <div>
                      <h2 style="color: black;">{{lecture.title}}</h2>
                    </div>
                  </div>

                  <div class="col-12">
                    <div class="lecture-stats">
                      <div class="lecture-stat">
                        <div class="lecture-diffrent">
                          {{videos_count}}
                          <i class="fa-solid fa-video" style="font-size: 18px; padding-left: 5px;"></i>
                        </div>
                        <div class="lecture-same">
                          {% if LANGUAGE_CODE == 'ar' %}
                          فيديوهات
                          {% else %}
                          Videos
                          {% endif %}
                        </div>

                      </div>

                      <div class="lecture-stat">
                        <div class="lecture-diffrent">
                          {{assignments_count}}
                          <i class="fa-solid fa-file" style="font-size: 18px; padding-left: 5px;"></i>
                        </div>
                        <div class="lecture-same">
                          {% if LANGUAGE_CODE == 'ar' %}
                          اختبارات
                          {% else %}
                          Tests
                          {% endif %}
                        </div>

                      </div>

                      <div class="lecture-stat">
                        <div class="lecture-diffrent">
                          {{attachments_count}}
                          <i class="fa-solid fa-folder-closed" style="font-size: 18px; padding-left: 5px;"></i>
                        </div>
                        <div class="lecture-same">
                          {% if LANGUAGE_CODE == 'ar' %}
                          مرفقات
                          {% else %}
                          Attachments
                          {% endif %}
                        </div>

                      </div>
                    </div>



                    <div class="lecture-details">
                      <div class="lecture-description" style="color: black;">
                        {{lecture.caption}}
                      </div>
                    </div>

                  </div>


                </div>
              </div>
            </div>


            <div class="cube"></div>
            <div class="cube"></div>
            <div class="cube"></div>
            <div class="cube"></div>
            <div class="cube"></div>
            <div class="cube"></div>
          </div>


        </div>
      </div>
    </div>
    <!-- Header Section  -->




    <div class="container-xxl flex-grow-1 container-p-y">


      <!-- <div class="row">
        <div class="col-lg-12 mb-4 order-0">
          <div class="card">
            <div class="d-flex align-items-end row">

              <div class="col-12">
                <div class="lecture-page-header rounded"
                  style="background-repeat: no-repeat; background-size: cover; background:#7a6ad8 url('{% static 'profile/assets/img/elements/lecture-background.png' %}'); ">
                  <div class="rounded lecture-page-header-card"
                    style=" width: 100%; height: 100%;  backdrop-filter: blur(8px);">
                    <div class="card-body" style="padding-top: 40px;">
                      <div class="lecture-stats">
                        <div class="lecture-stat">
                          <div class="lecture-diffrent">
                            {{videos_count}}+
                            <i class="fa-solid fa-video" style="font-size: 18px; padding-left: 5px;"></i>
                          </div>
                          <div class="lecture-same">Videos</div>
                        </div>

                        <div class="lecture-stat">
                          <div class="lecture-diffrent">
                            {{assignments_count}}+
                            <i class="fa-solid fa-file" style="font-size: 18px; padding-left: 5px;"></i>
                          </div>
                          <div class="lecture-same">Tests</div>
                        </div>

                        <div class="lecture-stat">
                          <div class="lecture-diffrent">
                            {{links_count}}+
                            <i class="fa-solid fa-folder-closed" style="font-size: 18px; padding-left: 5px;"></i>
                          </div>
                          <div class="lecture-same">Attachments</div>
                        </div>
                      </div>

                      <div class="lecture-details">
                        <div class="lecture-title">
                          {{lecture.title}}
                        </div>
                        <div class="lecture-description">
                          {{lecture.caption}}
                        </div>
                      </div>


                    </div>
                  </div>
                </div>
              </div>




            </div>
          </div>
        </div>
      </div> -->


      <div class="row purchase-card-margin" style="position: relative;">


        {% if mode == 'normal' %}
        <!-- Purchase Section -->
        <div class="col-md-5 col-12  mb-4 purchase-card" data-aos="fade-down" data-aos-delay="200"
          data-aos-duration="600">
          <div class="purchase-card-padding">
            <div class="card" style="  backdrop-filter: blur(10px) saturate(180%);
              -webkit-backdrop-filter: blur(10px) saturate(180%);
              background-color: rgba(255, 255, 255, 0.575);
              border: 1px solid rgba(209, 213, 219, 0.3);">
              <div class="card-header d-flex align-items-center justify-content-between" style="padding: 15px;">
                <div class="lecture-img" style="width: 100%;">
                  {% if lecture.image %}
                  <img src="{{lecture.image.url}}" class="rounded w-100">
                  {% else %}
                  <img src="{% static 'blank-lecture.jpeg' %}" class="rounded w-100">
                  {% endif %}
                </div>
              </div>
              <div class="card-body" style="padding: 15px;">

                <div class="">

                  {% if status == 'instructor' %}
                  <button type="button" data-bs-toggle="offcanvas" data-bs-target="#settingsOffcanvas"
                    aria-controls="offcanvasStart" class="btn btn-primary w-100">
                    {% if LANGUAGE_CODE == 'ar' %}
                    الإعدادات
                    {% else %}
                    Settings
                    {% endif %}
                  </button>

                  {% endif %}

                  {% if status == 'purchased' %}
                  <button type="button" class="btn btn-primary w-100">
                    {% if LANGUAGE_CODE == 'ar' %}
                    لقد اشتريت هذه المحاضرة
                    {% else %}
                    You Purchased This Lecture
                    {% endif %}
                  </button>

                  {% endif %}

                  {% if status == 'not-purchased' %}
                  <button type="button" data-bs-toggle="modal" data-bs-target="#purchase" class="btn btn-primary w-100">
                    {% if LANGUAGE_CODE == 'ar' %}
                    شراء
                    {% else %}
                    Purchase
                    {% endif %}
                  </button>

                  {% endif %}

                  {% if status == 'not-logged' %}
                  <button type="button" data-bs-toggle="modal" data-bs-target="#error-login"
                    class="btn btn-primary w-100">
                    {% if LANGUAGE_CODE == 'ar' %}
                    شراء
                    {% else %}
                    Purchase
                    {% endif %}
                  </button>

                  {% endif %}


                </div>

                <div class="mt-5 p-2">
                  <div class="d-flex justify-content-between">
                    <div class="d-flex align-items-center">
                      <i class="fa-solid fa-clock text-primary" style="font-size: 20px;"></i>
                      <div style="margin-left: 10px;">
                        {% if LANGUAGE_CODE == 'ar' %}
                        المحتوى
                        {% else %}
                        Content
                        {% endif %}
                      </div>
                    </div>
                    <div class="d-flex align-items-center">
                      <div>{{lecture.duration}}
                        {% if LANGUAGE_CODE == 'ar' %}
                        دقيقة
                        {% else %}
                        min
                        {% endif %}

                      </div>
                    </div>
                  </div>
                  <hr>
                  <div class="d-flex justify-content-between">
                    <div class="d-flex align-items-center">
                      <i class="fa-solid fa-question-circle text-primary" style="font-size: 20px;"></i>
                      <div style="margin-left: 10px;">
                        {% if LANGUAGE_CODE == 'ar' %}
                        اجمالي عدد الاسئلة
                        {% else %}
                        Total Questions
                        {% endif %}
                      </div>
                    </div>
                    <div class="d-flex align-items-center">
                      <div>{{total_questions_number}}
                        {% if LANGUAGE_CODE == 'ar' %}
                        سؤال
                        {% else %}
                        Question
                        {% endif %}
                      </div>
                    </div>
                  </div>
                </div>



              </div>
            </div>
          </div>
        </div>
        <!--/ Purchase Section -->


        <!-- Main Part -->
        <div class="col-md-7 col-12 mb-4">

          <div class="card" style="padding: 0;">
            <div class="card-body" style="height: fit-content; padding: 0;">
              <!-- If Active Video  -->
              {% if active_part %}

              {% if active_part.video %}
              <video src="{{active_part.video.url}}" controls="on" style="width: 100%;"></video>
              {% endif %}

              {% if active_part.video_url %}
              <video src="{{active_part.video_url}}" controls="on" style="width: 100%;"></video>
              {% endif %}

              {% if active_part.youtube_url %}
              <iframe style="border-radius: 10px;" width="100%" height="500" src="{{active_part.youtube_url}}"
                title="YouTube video player" frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen></iframe>
              {% endif %}

              {% else %}
              <!-- If Active Video  -->

              <!-- Photo  -->

              {% if lecture.image %}
              <img src="{{lecture.image.url}}" class="rounded w-100">
              {% else %}
              <img src="{% static 'blank-lecture.jpeg' %}" class="rounded w-100">
              {% endif %}

              <!-- Photo  -->
              {% endif %}
            </div>
          </div>

        </div>
        <!--/ Main Part -->


        {% endif %}





        {% if mode == 'video' %}
        <!-- Video Section -->
        <div class="col-12 mb-4">

          <div class="container-fluid">
            <div class="row" style="display: flex; justify-content: center; align-items: center;">

              <div class="col-12 col-md-8">
                <div class="card" style="padding: 0;">


                  {% if user_profile.instructor == True %}
                  <!-- Video Player  -->
                  <div class="card-body" style="height: fit-content; padding: 0;">
                    <!-- If youtube video  -->
                    {% if part.youtube_url %}
                    <iframe style="border-radius: 10px;" width="100%" height="500" src="{{part.youtube_url}}"
                      title="YouTube video player" frameborder="0"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                      allowfullscreen></iframe>
                    {% endif %}
                    <!-- If youtube video  -->

                    {% if part.video %}
                    <!-- if media player video  -->
                    <video src="{{part.video.url}}" controls="on" style="width: 100%;"></video>
                    <!-- if media player video  -->
                    {% endif %}


                    {% if part.video_url %}
                    <!-- if External player video  -->

                    <!-- <video src="{{part.video_url}}" controls="on" style="width: 100%;"></video> -->

                    <!-- if External player video  -->


                    <div style="position:relative;padding-top:56.25%;">
                      <iframe
                        src="https://iframe.mediadelivery.net/embed/269228/{{part.video_url}}?autoplay=false&loop=false&muted=false&preload=true&responsive=true"
                        loading="lazy" style="border:0;position:absolute;top:0;height:100%;width:100%;"
                        allow="accelerometer;gyroscope;autoplay;encrypted-media;picture-in-picture;"
                        allowfullscreen="true"></iframe>
                    </div>



                    <div style="position:relative;padding-top:56.25%;">
                      <iframe
                        src="https://player.vdocipher.com/v2/?otp=20160313versUSE323VNaeqA5PLHOXfhi6Sq2AjWbXI6kzWLnBVkTpaCdEquzdZ8&playbackInfo=eyJ2aWRlb0lkIjoiYTMxMDkxMjRjODk4NGU2MGEyMTc2OTYyN2U0NGY2MjUifQ=="
                        style="border:0;position:absolute;top:0;height:100%;width:100%;" allowFullScreen="true"
                        allow="encrypted-media"></iframe>
                    </div>


                    {% endif %}
                  </div>

                  <div class="card-header d-flex align-items-center justify-content-center"
                    style="padding: 0; padding-bottom: 10px;">
                    <h4 class="card-title" style=" color: black; font-weight: bold;">{{part.title}}</h4>
                  </div>
                  <!-- Video Player  -->
                  {% endif %}






                  {% if user_profile.instructor == False %}

                  {% if limit == 'exceed'  %}
                  <!-- If Student Exceeded Views Limit Number  -->
                  <div class="card-body" style="height: fit-content; padding: 0;">
                    <div class="illu" style="width: 100%; height: 300px; border-radius: 15px;">
                      <img src="{% static 'main/assets/images/app/error-no-data.svg' %}"
                        style="width: 100%; height: 100%;">
                    </div>
                  </div>

                  <div class="card-header d-flex align-items-center justify-content-center"
                    style="padding: 15px; padding-bottom: 5px;">
                    <h4 class="card-title" style="color: black; font-weight: bold;">
                      {% if LANGUAGE_CODE == 'ar' %}
                      لقد تجاوزت حد عدد المشاهدات
                      {% else %}
                      You Have Exceeded The Views Limit Number
                      {% endif %}
                    </h4>

                  </div>

                  <div class="card-header d-flex align-items-center justify-content-center"
                    style="padding: 15px; padding-bottom: 10px;">
                    <div class="lecture-stats">
                      <div class="lecture-stat">
                        <div class="lecture-diffrent">
                          {{user_part.views}}
                          <i class="fa-solid fa-eye" style="font-size: 18px; padding-left: 5px;"></i>
                        </div>
                        <div class="lecture-same">
                          {% if LANGUAGE_CODE == 'ar' %}
                          مشاهدة
                          {% else %}
                          View
                          {% endif %}
                        </div>
                      </div>

                      <div class="lecture-stat">
                        <div class="lecture-diffrent">
                          1
                          <i class="fa-solid fa-mobile" style="font-size: 18px; padding-left: 5px;"></i>
                        </div>
                        <div class="lecture-same">
                          {% if LANGUAGE_CODE == 'ar' %}
                          جهاز
                          {% else %}
                          Device
                          {% endif %}
                        </div>
                      </div>
                    </div>
                  </div>




                  <!-- If Student Exceeded Views Limit Number  -->
                  {% endif %}

                  {% if limit == 'not-exceed'  %}
                  <!-- If Student Didnt Exceed Views Limit Number  -->

                  <!-- Video Player  -->
                  <div class="card-body" style="height: fit-content; padding: 0;">
                    <!-- If youtube video  -->
                    {% if part.youtube_url %}
                    <iframe style="border-radius: 10px;" width="100%" height="500" src="{{part.youtube_url}}"
                      title="YouTube video player" frameborder="0"
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                      allowfullscreen></iframe>
                    {% endif %}
                    <!-- If youtube video  -->

                    {% if part.video %}
                    <!-- if media player video  -->
                    <video src="{{part.video.url}}" controls="on" style="width: 100%;"></video>
                    <!-- if media player video  -->
                    {% endif %}


                    {% if part.video_url %}
                    <!-- if External player video  -->
                    <video src="{{part.video_url}}" controls="on" style="width: 100%;"></video>
                    <!-- if External player video  -->
                    {% endif %}
                  </div>

                  <div class="card-header d-flex align-items-center justify-content-center"
                    style="padding: 0; padding-bottom: 10px;">
                    <h4 class="card-title" style=" color: black; font-weight: bold;">{{part.title}}</h4>
                  </div>

                  <div class="card-header d-flex align-items-center justify-content-center"
                    style="padding: 0; padding-bottom: 10px;">

                    <div class="lecture-stats">
                      <div class="lecture-stat">
                        <div class="lecture-diffrent">
                          {{user_part.views}}
                          <i class="fa-solid fa-eye" style="font-size: 18px; padding-left: 5px;"></i>
                        </div>
                        <div class="lecture-same">
                          {% if LANGUAGE_CODE == 'ar' %}
                          مشاهدة
                          {% else %}
                          View
                          {% endif %}
                        </div>
                      </div>

                      <div class="lecture-stat">
                        <div class="lecture-diffrent">
                          1
                          <i class="fa-solid fa-mobile" style="font-size: 18px; padding-left: 5px;"></i>
                        </div>
                        <div class="lecture-same">
                          {% if LANGUAGE_CODE == 'ar' %}
                          جهاز
                          {% else %}
                          Device
                          {% endif %}
                        </div>

                      </div>
                    </div>




                  </div>
                  <!-- Video Player  -->


                  <!-- If Student Didnt Exceed Views Limit Number  -->

                  {% endif %}

                  {% endif %}



                </div>

              </div>
            </div>
          </div>

        </div>
        <!--/ Video Section -->
        {% endif %}



        {% if mode == 'lecture_code_students' %}
        <!-- Lecture Code Students Section -->

        <div class="col-12 mb-4">

          <div class="container-fluid">
            <div class="row" style="display: flex; justify-content: center; align-items: center;">

              <div class="col-12 ">
                <div class="card">
                  <div class="card-body" style="height: fit-content; display: flex; justify-content: center;">


                    <img src="{{code.qr_code.url}}" style="width: 30%; height: 30%;" class="d-md-block d-none">
                    <img src="{{code.qr_code.url}}" style="width: 100%; height: 1000%;" class="d-md-none d-sm-block">

                  </div>
                </div>

              </div>
            </div>
          </div>

        </div>

        <div class="col-12 mb-4">

          <div class="container-fluid">
            <div class="row" style="display: flex; justify-content: center; align-items: center;">

              <div class="col-12">
                <div class="card">
                  <div class="card-body" style="height: fit-content;">

                    {% if code_students %}
                    <div class="table-responsive text-nowrap">
                      <table class="table">
                        <thead>
                          <tr class="text-nowrap">
                            <th class="t-name">
                              {% if LANGUAGE_CODE == 'ar' %}
                              الاسم
                              {% else %}
                              Name
                              {% endif %}
                            </th>
                            <th class="t-date">
                              {% if LANGUAGE_CODE == 'ar' %}
                              التاريخ
                              {% else %}
                              Date
                              {% endif %}
                            </th>
                            <th class="t-view-profile"></th>
                          </tr>
                        </thead>

                        <tbody>
                          {% for x in code_students %}
                          <tr>
                            <td class="t-name">{{x.user_name}}</td>
                            <td class="t-date">{{x.created_at}}</td>
                            <td class="t-view-profile">
                              <a class="btn btn-outline-primary" href="{% url 'main' x.user.username %}">
                                {% if LANGUAGE_CODE == 'ar' %}
                                عرض الملف الشخصي
                                {% else %}
                                View Profile
                                {% endif %}
                              </a>
                            </td>
                          </tr>
                          {% endfor %}
                        </tbody>

                      </table>
                    </div>
                    {% else %}
                    <div style="width: 100%; display: flex; justify-content: center; align-items: center;">
                      <h5>
                        {% if LANGUAGE_CODE == 'ar' %}
                        لم يدخل أي طلاب بهذا الرابط بعد.
                        {% else %}
                        No Students Entered With This Link Yet.
                        {% endif %}
                      </h5>
                    </div>
                    {% endif %}

                  </div>
                </div>

              </div>
            </div>
          </div>

        </div>

        <!--/ Lecture Code Students Section -->
        {% endif %}




        {% if mode == 'lecture_discount_students' %}
        <!-- Lecture Discount Students Section -->
        <div class="col-12 mb-4">

          <div class="container-fluid">
            <div class="row" style="display: flex; justify-content: center; align-items: center;">

              <div class="col-12">
                <div class="card">
                  <div class="card-body" style="height: fit-content;">

                    {% if code_students %}
                    <div class="table-responsive text-nowrap">
                      <table class="table">
                        <thead>
                          <tr class="text-nowrap">
                            <th class="t-name">
                              {% if LANGUAGE_CODE == 'ar' %}
                              الاسم
                              {% else %}
                              Name
                              {% endif %}
                            </th>
                            <th class="t-date">
                              {% if LANGUAGE_CODE == 'ar' %}
                              التاريخ
                              {% else %}
                              Date
                              {% endif %}
                            </th>
                            <th class="t-view-profile"></th>
                          </tr>
                        </thead>

                        <tbody>
                          {% for x in code_students %}
                          <tr>
                            <td class="t-name">{{x.user_name}}</td>
                            <td class="t-date">{{x.created_at}}</td>
                            <td class="t-view-profile">
                              <a class="btn btn-outline-primary" href="{% url 'main' x.user.username %}">
                                {% if LANGUAGE_CODE == 'ar' %}
                                عرض الملف الشخصي
                                {% else %}
                                View Profile
                                {% endif %}
                              </a>
                            </td>
                          </tr>
                          {% endfor %}
                        </tbody>

                      </table>
                    </div>
                    {% else %}
                    <div style="width: 100%; display: flex; justify-content: center; align-items: center;">
                      <h5>
                        {% if LANGUAGE_CODE == 'ar' %}
                        لم يستخدم أي طالب هذا الخصم
                        {% else %}
                        No Student Used This Discount Code.
                        {% endif %}
                      </h5>
                    </div>
                    {% endif %}

                  </div>
                </div>
              </div>


            </div>
          </div>

        </div>
        <!--/ Lecture Discount Students Section -->
        {% endif %}



        {% if mode == 'assignment' %}
        <!-- Assignment Section -->
        <div class="col-12 mb-4">

          <div class="container-fluid">
            <div class="row" style="display: flex; justify-content: center; align-items: center;">




              {% if assignment_status == 'instructor' %}
              <!-- Assignment Settings  -->


              <!-- Assignment Info  -->
              <div class="col-12 col-md-8">
                <div class="card" style="padding: 0;">
                  <div class="card-header" style="display: flex; width: 100 ; justify-content: center;">
                    <button class="btn btn-primary btn-lg">
                      {{part.title}}
                    </button>
                  </div>
                  <div class="card-body" style="display: flex; width: 100%; flex-direction: column;">

                    <div class="assignment-object"
                      style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                      <div class="d-flex align-items-center">
                        <i class="fa-solid fa-question-circle text-primary" style="font-size: 20px;"></i>
                        <div style="margin-left: 10px;">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الأسئلة
                          {% else %}
                          Questions
                          {% endif %}
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <div>
                          {% if LANGUAGE_CODE == 'ar' %}
                          {{assignment.questions_count}} سؤال
                          {% else %}
                          {{assignment.questions_count}} Question
                          {% endif %}
                        </div>
                      </div>
                    </div>

                    <div class="assignment-object"
                      style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                      <div class="d-flex align-items-center">
                        <i class="fa-solid fa-clock-rotate-left text-primary" style="font-size: 20px;"></i>
                        <div style="margin-left: 10px;">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الوقت
                          {% else %}
                          Time
                          {% endif %}
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <div>
                          {% if LANGUAGE_CODE == 'ar' %}
                          {{assignment.minutes}} دقيقة
                          {% else %}
                          {{assignment.minutes}} min
                          {% endif %}
                        </div>
                      </div>
                    </div>

                    <div class="assignment-object mb-5"
                      style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                      <div class="d-flex align-items-center">
                        <i class="fa-solid fa-calendar-times text-primary" style="font-size: 20px;"></i>
                        <div style="margin-left: 10px;">
                          {% if LANGUAGE_CODE == 'ar' %}
                          التاريخ
                          {% else %}
                          Date
                          {% endif %}
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <div>{{assignment.created_at|date:"j/n/o - g:i A"}}</div>
                      </div>
                    </div>

                    <div class="mt-4" style="width: 100%; display: flex; justify-content: center;">
                      <button data-bs-toggle="offcanvas" data-bs-target="#assignmentSettingsOffcanvas"
                        aria-controls="offcanvasStart" class="btn btn-outline-primary w-100">
                        {% if LANGUAGE_CODE == 'ar' %}
                        الإعدادات
                        {% else %}
                        Settings
                        {% endif %}
                      </button>
                    </div>

                  </div>

                </div>
              </div>
              <!-- Assignment Info  -->


              <!-- Add Question -->
              <div class="col-12 mt-5">
                <div class="card" style="padding: 0;">
                  <div class="card-body" style="display: flex; width: 100%; flex-direction: column;">

                    <li class="d-flex mb-4 pb-1">
                      <button data-bs-target="#new-question-modal" type="button" data-bs-toggle="modal"
                        style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                        <div class="avatar flex-shrink-0 me-3">
                          <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                            <i class="fa-solid fa-question-circle text-primary" style="font-size: 20px;"></i>
                          </div>
                        </div>
                        <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                          <div class="me-2">
                            <h6 class="mb-0">
                              {% if LANGUAGE_CODE == 'ar' %}
                              إضافة سؤال
                              {% else %}
                              Add Question
                              {% endif %}
                            </h6>
                          </div>
                        </div>
                      </button>
                    </li>

                    <li class="d-flex pb-3">
                      <a href="{% url 'lecture' lecture.id %}"
                        style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                        <div class="avatar flex-shrink-0 me-3">
                          <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                            <i class="fa-solid fa-arrow-left text-primary" style="font-size: 20px;"></i>
                          </div>
                        </div>
                        <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                          <div class="me-2">
                            <h6 class="mb-0">
                              {% if LANGUAGE_CODE == 'ar' %}
                              العودة
                              {% else %}
                              Back
                              {% endif %}
                            </h6>
                          </div>
                        </div>
                      </a>
                    </li>

                    <div class="modal fade" id="new-question-modal" tabindex="-1" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="modalCenterTitle">
                              {% if LANGUAGE_CODE == 'ar' %}
                              إضافة سؤال جديد إلى {{assignment.assignment_name}}
                              {% else %}
                              Add New Question To {{assignment.assignment_name}}
                              {% endif %}
                            </h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                          </div>

                          <div class="modal-body">
                            <div class="row">
                              <form action="/assignment-functions" method="POST" class="w-100"
                                enctype="multipart/form-data">
                                {% csrf_token %}
                                <input type="hidden" hidden name="function-type" value="add-question">
                                <input type="hidden" hidden name="assignment-id" value="{{assignment.assignment_id}}">
                                <input type="hidden" hidden name="lecture-id" value="{{lecture.id}}">
                                <input type="hidden" hidden name="part-id" value="{{part.part_id}}">

                                <div class="nav-align-top mb-4">
                                  <ul class="nav nav-pills mb-3 nav-fill" role="tablist">
                                    <li class="nav-item">
                                      <button type="button" class="nav-link active" role="tab" data-bs-toggle="tab"
                                        data-bs-target="#choices-question"
                                        aria-controls="navs-pills-justified-choices-question" aria-selected="true">
                                        {% if LANGUAGE_CODE == 'ar' %}
                                        اختيارات
                                        {% else %}
                                        Choices
                                        {% endif %}
                                      </button>
                                    </li>
                                    <li class="nav-item">
                                      <button type="button" class="nav-link" role="tab" data-bs-toggle="tab"
                                        data-bs-target="#writing-question"
                                        aria-controls="navs-pills-justified-writing-question" aria-selected="false">
                                        {% if LANGUAGE_CODE == 'ar' %}
                                        كتابة
                                        {% else %}
                                        Writing
                                        {% endif %}
                                      </button>
                                    </li>
                                  </ul>
                                  <div class="tab-content"
                                    style="background-color: transparent; box-shadow: none; padding: 0;">

                                    <div class="tab-pane fade show active" id="choices-question" role="tabpanel">
                                      <div class="col-12 mt-3">
                                        <label for="question" class="form-label">
                                          {% if LANGUAGE_CODE == 'ar' %}
                                          السؤال
                                          {% else %}
                                          Question
                                          {% endif %}
                                        </label>
                                        <input type="text" id="question" name="question" class="form-control"
                                          placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل السؤال{% else %}Enter The Question{% endif %}"
                                          autocomplete="off" />
                                      </div>

                                      <div class="col-12 mt-3">
                                        <label for="true" class="form-label">
                                          {% if LANGUAGE_CODE == 'ar' %}
                                          الإجابة الصحيحة
                                          {% else %}
                                          True Answer
                                          {% endif %}
                                        </label>
                                        <input type="text" id="true" name="true" class="form-control"
                                          placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الإجابة الصحيحة{% else %}Enter The True Answer{% endif %}"
                                          autocomplete="off" />
                                      </div>

                                      <hr class="dropdown-divider mt-3" />

                                      <div class="col-12 mt-3">
                                        <label for="answer-1" class="form-label">
                                          {% if LANGUAGE_CODE == 'ar' %}
                                          الإجابة 1
                                          {% else %}
                                          Answer 1
                                          {% endif %}
                                        </label>
                                        <input type="text" id="answer-1" name="q_a1" class="form-control"
                                          placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الإجابة 1{% else %}Enter The Answer 1{% endif %}"
                                          autocomplete="off" />
                                      </div>

                                      <div class="col-12 mt-3">
                                        <label for="answer-2" class="form-label">
                                          {% if LANGUAGE_CODE == 'ar' %}
                                          الإجابة 2
                                          {% else %}
                                          Answer 2
                                          {% endif %}
                                        </label>
                                        <input type="text" id="answer-2" name="q_a2" class="form-control"
                                          placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الإجابة 2{% else %}Enter The Answer 2{% endif %}"
                                          autocomplete="off" />
                                      </div>

                                      <div class="col-12 mt-3">
                                        <label for="answer-3" class="form-label">
                                          {% if LANGUAGE_CODE == 'ar' %}
                                          الإجابة 3
                                          {% else %}
                                          Answer 3
                                          {% endif %}
                                        </label>
                                        <input type="text" id="answer-3" name="q_a3" class="form-control"
                                          placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الإجابة 3{% else %}Enter The Answer 3{% endif %}"
                                          autocomplete="off" />
                                      </div>

                                      <div class="col-12 mt-3">
                                        <label for="answer-4" class="form-label">
                                          {% if LANGUAGE_CODE == 'ar' %}
                                          الإجابة 4
                                          {% else %}
                                          Answer 4
                                          {% endif %}
                                        </label>
                                        <input type="text" id="answer-4" name="q_a4" class="form-control"
                                          placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الإجابة 4{% else %}Enter The Answer 4{% endif %}"
                                          autocomplete="off" />
                                      </div>

                                    </div>

                                    <div class="tab-pane fade" id="writing-question" role="tabpanel">
                                      <div class="col-12 mt-3">
                                        <label for="question" class="form-label">
                                          {% if LANGUAGE_CODE == 'ar' %}
                                          السؤال
                                          {% else %}
                                          Question
                                          {% endif %}
                                        </label>
                                        <input type="text" id="question" name="question-writing" class="form-control"
                                          placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل السؤال{% else %}Enter The Question{% endif %}"
                                          autocomplete="off" />
                                      </div>
                                    </div>

                                  </div>
                                </div>

                                <hr class="dropdown-divider mt-3" />
                                <!-- Question Image -->
                                <div class="col-12 mb-2"
                                  style="display: flex; justify-content: center; align-items: center;">
                                  <img src="" id="uploaded-image" class="group-image rounded" alt=""
                                    style="width: fit-content; max-width: 100%;">
                                </div>

                                <div class="col-12 mb-3">
                                  <label for="image-upload" class="form-label">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    صورة السؤال (غير مطلوب)
                                    {% else %}
                                    Question Image (Not Required)
                                    {% endif %}
                                  </label>
                                  <input type="file" name="question-image-upload" id="image-upload" accept="image/*"
                                    onchange="displayImage(event)" class="form-control group-image-input">
                                </div>
                                <!-- Question Image -->
                                <hr class="dropdown-divider mt-3" />

                                <div class="col-12 mt-3">
                                  <button type="submit" class="btn btn-success w-100">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    حفظ
                                    {% else %}
                                    Save
                                    {% endif %}
                                  </button>
                                </div>

                              </form>
                            </div>
                          </div>

                          <div class="modal-footer">
                            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                              {% if LANGUAGE_CODE == 'ar' %}
                              إغلاق
                              {% else %}
                              Close
                              {% endif %}
                            </button>
                          </div>

                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
              <!-- Add Question -->




              <!-- Questions  -->

              <div class="col-12 mt-5">
                <div class="card">
                  <div class="card-header" style="display: flex; justify-content: center; width: 100%;">
                    <div style="display: flex; flex-direction: row; align-items: center; ">
                      <i class="fa-solid fa-question-circle text-primary me-2" style="font-size: 30px;"></i>
                      <h3 style="display: flex; justify-content: center; padding: 0; margin: 0;">
                        {% if LANGUAGE_CODE == 'ar' %}
                        الأسئلة
                        {% else %}
                        Questions
                        {% endif %}
                      </h3>
                    </div>
                  </div>
                </div>
              </div>


              {% for x in questions_for_instructor %}
              <div class="col-12 mt-4">
                <div class="card">

                  <div class="card-header"
                    style="display:flex; position: relative; justify-content: end; width: 100%; margin: 0; padding: 0;">

                    <form action="/assignment-functions" method="POST" style="position: absolute;">
                      {% csrf_token %}
                      <input type="hidden" hidden name="function-type" value="delete-question">
                      <input type="hidden" hidden name="assignment-id" value="{{assignment.assignment_id}}">
                      <input type="hidden" hidden name="lecture-id" value="{{lecture.id}}">
                      <input type="hidden" hidden name="part-id" value="{{part.part_id}}">
                      <input type="hidden" hidden name="question-id" value="{{x.question_id}}">
                      <button type="submit" class="btn me-4">
                        <i class="fa-solid fa-trash text-danger"
                          style="font-size: 25px; position: absolute; margin-top: 13px;"></i>
                      </button>
                    </form>

                  </div>

                  <div class="card-header" style="display: flex; justify-content: center; width: 100%;">
                    <div style="display: flex; flex-direction: row; align-items: center; ">
                      <i class="fa-solid fa-question-circle text-primary me-2" style="font-size: 25px;"></i>
                      <h4 style="display: flex; justify-content: center; padding: 0; margin: 0;">
                        {% if LANGUAGE_CODE == 'ar' %}
                        {{x.question_number}} - {{x.question}}
                        {% else %}
                        {{x.question_number}} - {{x.question}}
                        {% endif %}
                      </h4>
                    </div>
                  </div>

                  {% if x.question_image %}
                  <div class="card-header"
                    style="display: flex; justify-content: center; width: 100%; margin: 10px 0px;">
                    <div style="display: flex; flex-direction: row; align-items: center; ">
                      <img src="{{x.question_image.url}}" alt="" style="width: fit-content; max-width: 100%;">
                    </div>
                  </div>
                  {% endif %}

                  {% if x.question_type == 'q_choices' %}
                  <div class="card-body" style="width: 100%;">
                    <div class="container">
                      <div class="row">
                        {% if x.answer1 == x.true %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-success" style="width: calc(100% )">{{x.answer1}}</label>
                          </div>
                        </div>
                        {% else %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-danger" style="width: calc(100% ) ">{{x.answer1}}</label>
                          </div>
                        </div>
                        {% endif %}

                        {% if x.answer2 == x.true %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <label class="btn btn-success" style="width: calc(100% )">{{x.answer2}}</label>
                        </div>
                        {% else %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <label class="btn btn-danger" style="width: calc(100% )">{{x.answer2}}</label>
                        </div>
                        {% endif %}

                        {% if x.answer3 == x.true %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <label class="btn btn-success" style="width: calc(100%)">{{x.answer3}}</label>
                        </div>
                        {% else %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <label class="btn btn-danger" style="width: calc(100%)">{{x.answer3}}</label>
                        </div>
                        {% endif %}

                        {% if x.answer4 == x.true %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <label class="btn btn-success" style="width: calc(100% )">{{x.answer4}}</label>
                        </div>
                        {% else %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <label class="btn btn-danger" style="width: calc(100% )">{{x.answer4}}</label>
                        </div>
                        {% endif %}
                      </div>
                    </div>
                  </div>
                  {% endif %}

                  {% if x.question_type == 'writing' %}
                  <div class="card-body" style="width: 100%;">
                    <div class="container">
                      <div class="row">
                        {% if assignment_opened_context.question.answered == True %}
                        <div>
                          <label for="writing-question" class="form-label">Answer</label>
                          <textarea class="form-control" id="writing-question" name="writing-answer"
                            rows="3">{{assignment_opened_context.question.writing_answer}}</textarea>
                        </div>
                        {% else %}
                        <div>
                          <label for="writing-question" class="form-label">Answer</label>
                          <textarea class="form-control" id="writing-question" name="writing-answer"
                            rows="3"></textarea>
                        </div>
                        {% endif %}
                      </div>
                    </div>
                  </div>
                  {% endif %}

                  <div class="card-footer w-100" style="padding-top:0 ;">
                    <div class="btn-group w-100">
                      <button type="button" class="btn btn-warning dropdown-toggle w-100" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        {% if LANGUAGE_CODE == 'ar' %}
                        تعديل
                        {% else %}
                        Edit
                        {% endif %}
                      </button>
                      <ul class="dropdown-menu w-100">
                        <div class="container">
                          <div class="row">
                            <form action="/assignment-functions" method="POST" class="w-100"
                              enctype="multipart/form-data">
                              {% csrf_token %}
                              <input type="hidden" hidden name="function-type" value="edit-question">
                              <input type="hidden" hidden name="assignment-id" value="{{assignment.assignment_id}}">
                              <input type="hidden" hidden name="lecture-id" value="{{lecture.id}}">
                              <input type="hidden" hidden name="part-id" value="{{part.part_id}}">
                              <input type="hidden" hidden name="question-id" value="{{x.question_id}}">

                              <div class="col-12 mt-3">
                                <label for="question"
                                  class="form-label">{% if LANGUAGE_CODE == 'ar' %}السؤال{% else %}Question{% endif %}</label>
                                <input type="text" id="question" name="question" class="form-control"
                                  placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل السؤال{% else %}Enter The Question{% endif %}"
                                  autocomplete="off" value="{{x.question}}" />
                              </div>

                              <div class="col-12 mt-3">
                                <input type="hidden" hidden name="question-type" value="{{x.question_type}}">
                              </div>

                              {% if x.question_type == 'q_choices' %}
                              <div class="col-12 mt-3">
                                <label for="true" class="form-label">{% if LANGUAGE_CODE == 'ar' %}الإجابة
                                  الصحيحة{% else %}True Answer{% endif %}</label>
                                <input type="text" id="true" name="true" class="form-control"
                                  placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الإجابة الصحيحة{% else %}Enter The True Answer{% endif %}"
                                  autocomplete="off" value="{{x.true}}" />
                              </div>

                              <hr class="dropdown-divider mt-3" />

                              <div class="col-12 mt-3">
                                <label for="answer-1" class="form-label">{% if LANGUAGE_CODE == 'ar' %}الإجابة
                                  1{% else %}Answer 1{% endif %}</label>
                                <input type="text" id="answer-1" name="q_a1" class="form-control"
                                  placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الإجابة 1{% else %}Enter The Answer 1{% endif %}"
                                  autocomplete="off" value="{{x.answer1}}" />
                              </div>

                              <div class="col-12 mt-3">
                                <label for="answer-2" class="form-label">{% if LANGUAGE_CODE == 'ar' %}الإجابة
                                  2{% else %}Answer 2{% endif %}</label>
                                <input type="text" id="answer-2" name="q_a2" class="form-control"
                                  placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الإجابة 2{% else %}Enter The Answer 2{% endif %}"
                                  autocomplete="off" value="{{x.answer2}}" />
                              </div>

                              <div class="col-12 mt-3">
                                <label for="answer-3" class="form-label">{% if LANGUAGE_CODE == 'ar' %}الإجابة
                                  3{% else %}Answer 3{% endif %}</label>
                                <input type="text" id="answer-3" name="q_a3" class="form-control"
                                  placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الإجابة 3{% else %}Enter The Answer 3{% endif %}"
                                  autocomplete="off" value="{{x.answer3}}" />
                              </div>

                              <div class="col-12 mt-3">
                                <label for="answer-4" class="form-label">{% if LANGUAGE_CODE == 'ar' %}الإجابة
                                  4{% else %}Answer 4{% endif %}</label>
                                <input type="text" id="answer-4" name="q_a4" class="form-control"
                                  placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الإجابة 4{% else %}Enter The Answer 4{% endif %}"
                                  autocomplete="off" value="{{x.answer4}}" />
                              </div>
                              {% endif %}

                              <hr class="dropdown-divider mt-3" />

                              {% if x.question_image %}
                              <div class="col-12 mt-3">
                                <div style="display: flex; justify-content: center; align-items: center; width: 100%;">
                                  <img src="{{x.question_image.url}}" alt=""
                                    style="width: fit-content; max-width: 100%;">
                                </div>
                              </div>
                              {% endif %}

                              <div class="col-12 mt-3">
                                <label for="question-image"
                                  class="form-label">{% if LANGUAGE_CODE == 'ar' %}صورة{% else %}Image{% endif %}</label>
                                <input type="file" name="question-image-upload" id="question-image" accept="image/*"
                                  class="form-control">
                              </div>

                              <hr class="dropdown-divider" />

                              <div class="col-12 mt-3">
                                <button type="submit"
                                  class="btn btn-success w-100">{% if LANGUAGE_CODE == 'ar' %}حفظ{% else %}Save{% endif %}</button>
                              </div>
                            </form>
                          </div>
                        </div>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
              {% endfor %}

              <!-- Questions  -->




              <!-- Assignment Settings  -->
              {% endif %}




              {% if assignment_status == 'not-started' %}
              <!-- Assignment Start -->
              <div class="col-12 col-md-8">
                <div class="card" style="padding: 0;">
                  <div class="card-header" style="display: flex; width: 100 ; justify-content: center;">
                    <button class="btn btn-primary btn-lg">
                      {{part.title}}
                    </button>
                  </div>
                  <div class="card-body" style="display: flex; width: 100%; flex-direction: column;">

                    <div class="assignment-object"
                      style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                      <div class="d-flex align-items-center">
                        <i class="fa-solid fa-question-circle text-primary" style="font-size: 20px;"></i>
                        <div style="margin-left: 10px;">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الأسئلة
                          {% else %}
                          Questions
                          {% endif %}
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <div>
                          {% if LANGUAGE_CODE == 'ar' %}
                          {{assignment.questions_count}} سؤال
                          {% else %}
                          {{assignment.questions_count}} Question
                          {% endif %}
                        </div>
                      </div>
                    </div>

                    <div class="assignment-object"
                      style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                      <div class="d-flex align-items-center">
                        <i class="fa-solid fa-clock-rotate-left text-primary" style="font-size: 20px;"></i>
                        <div style="margin-left: 10px;">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الوقت
                          {% else %}
                          Time
                          {% endif %}
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <div>
                          {{assignment.minutes}}
                          {% if LANGUAGE_CODE == 'ar' %}
                          دقيقة
                          {% else %}
                          min
                          {% endif %}
                        </div>
                      </div>
                    </div>

                    <div class="assignment-object mb-5"
                      style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                      <div class="d-flex align-items-center">
                        <i class="fa-solid fa-calendar-times text-primary" style="font-size: 20px;"></i>
                        <div style="margin-left: 10px;">
                          {% if LANGUAGE_CODE == 'ar' %}
                          تاريخ
                          {% else %}
                          Date
                          {% endif %}
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <div>{{assignment.created_at|date:"j/n/o - g:i A"}}</div>
                      </div>
                    </div>

                    <div class="mt-4" style="width: 100%; display: flex; justify-content: center;">
                      <form action="/assignment-functions" method="POST" class="w-100">
                        {% csrf_token %}
                        <input type="hidden" hidden name="function-type" value="start-assignment">
                        <input type="hidden" hidden name="assignment-id" value="{{assignment.assignment_id}}">
                        <input type="hidden" hidden name="lecture-id" value="{{lecture.id}}">
                        <input type="hidden" hidden name="part-id" value="{{part.part_id}}">
                        <button class="btn btn-outline-primary w-100">
                          {% if LANGUAGE_CODE == 'ar' %}
                          بدء
                          {% else %}
                          Start
                          {% endif %}
                        </button>
                      </form>
                    </div>

                  </div>

                </div>
              </div>
              <!-- Assignment Start -->
              {% endif %}



              {% if assignment_status == 'submitted' %}
              <!-- Assignment Submitted -->
              <div class="col-12 col-md-8">
                <div class="card" style="padding: 0;">
                  <div class="card-header" style="display: flex; width: 100 ; justify-content: center;">
                    <button class="btn btn-primary btn-lg">
                      {{part.title}}
                    </button>
                  </div>

                  <div class="card-header percentage" style="display: flex; width: 100 ; justify-content: center;">


                    <div id="myProgress">
                      <input id="percentage" value="{{student_submit_assignment.true_answers_percent}}" hidden>
                      <input id="percentage_color" value="{{bar_color}}" hidden>
                      <div id="myBar">{{student_submit_assignment.true_answers_percent}}%</div>
                    </div>

                    <!-- Progress Bar  -->
                    <script>
                      var elem = document.getElementById("myBar");
                      var percentage = document.getElementById("percentage").value;
                      var percentage_color = document.getElementById("percentage_color").value;


                      var width = percentage;

                      elem.style.width = width + "%";
                      elem.style.backgroundColor = percentage_color;
                    </script>
                    <!-- Progress Bar  -->


                  </div>

                  <div class="card-body" style="display: flex; width: 100%; flex-direction: column;">

                    <div class="assignment-object"
                      style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                      <div class="d-flex align-items-center">
                        <i class="fa-solid fa-question-circle text-primary" style="font-size: 20px;"></i>
                        <div style="margin-left: 10px;">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الأسئلة
                          {% else %}
                          Questions
                          {% endif %}
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <div>
                          {{assignment.questions_count}}
                          {% if LANGUAGE_CODE == 'ar' %}
                          سؤال
                          {% else %}
                          Question
                          {% endif %}
                        </div>
                      </div>
                    </div>

                    <div class="assignment-object mt-4"
                      style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                      <div class="d-flex align-items-center">
                        <i class="fa-solid fa-question-circle text-success" style="font-size: 20px;"></i>
                        <div style="margin-left: 10px;">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الإجابات الصحيحة
                          {% else %}
                          True Answers
                          {% endif %}
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <div>
                          {{student_submit_assignment.true_answers}}
                          {% if LANGUAGE_CODE == 'ar' %}
                          إجابة
                          {% else %}
                          Answer
                          {% endif %}
                        </div>
                      </div>
                    </div>

                    <div class="assignment-object"
                      style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                      <div class="d-flex align-items-center">
                        <i class="fa-solid fa-question-circle text-danger" style="font-size: 20px;"></i>
                        <div style="margin-left: 10px;">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الإجابات الخاطئة
                          {% else %}
                          False Answers
                          {% endif %}
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <div>
                          {{student_submit_assignment.false_answers}}
                          {% if LANGUAGE_CODE == 'ar' %}
                          إجابة
                          {% else %}
                          Answer
                          {% endif %}
                        </div>
                      </div>
                    </div>

                    <div class="assignment-object mb-4"
                      style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                      <div class="d-flex align-items-center">
                        <i class="fa-solid fa-clock text-warning" style="font-size: 20px;"></i>
                        <div style="margin-left: 10px;">
                          {% if LANGUAGE_CODE == 'ar' %}
                          مدة الإجابة
                          {% else %}
                          Answer Duration
                          {% endif %}
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <div>
                          {{student_submit_assignment.assignment_duration}}
                          {% if LANGUAGE_CODE == 'ar' %}
                          دقيقة
                          {% else %}
                          Min
                          {% endif %}
                        </div>
                      </div>
                    </div>

                    <div class="assignment-object"
                      style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                      <div class="d-flex align-items-center">
                        <i class="fa-solid fa-clock-rotate-left text-primary" style="font-size: 20px;"></i>
                        <div style="margin-left: 10px;">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الوقت
                          {% else %}
                          Time
                          {% endif %}
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <div>
                          {{assignment.minutes}}
                          {% if LANGUAGE_CODE == 'ar' %}
                          دقيقة
                          {% else %}
                          Min
                          {% endif %}
                        </div>
                      </div>
                    </div>

                    <div class="assignment-object mb-5"
                      style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                      <div class="d-flex align-items-center">
                        <i class="fa-solid fa-calendar-times text-primary" style="font-size: 20px;"></i>
                        <div style="margin-left: 10px;">
                          {% if LANGUAGE_CODE == 'ar' %}
                          تاريخ
                          {% else %}
                          Date
                          {% endif %}
                        </div>
                      </div>
                      <div class="d-flex align-items-center">
                        <div>{{assignment.created_at|date:"j/n/o - g:i A"}}</div>
                      </div>
                    </div>

                    {% if student_submit_assignment.award_lecture_id %}
                    <div class="assignment-object">
                      <div class="d-flex justify-content-center">
                        <div class="special-offer" style=" margin: 0; background-color: #f5f5f9;">
                          <span class="offer mt-4">
                            {% if LANGUAGE_CODE == 'ar' %}
                            خصم<br><em>{{student_submit_assignment.award_discount_value}}%</em>
                            {% else %}
                            off<br><em>{{student_submit_assignment.award_discount_value}}%</em>
                            {% endif %}
                          </span>
                          <h6>
                            {% if LANGUAGE_CODE == 'ar' %}
                            لقد فزت!
                            {% else %}
                            You Have Won!
                            {% endif %}
                          </h6>
                          <h4>
                            {% if LANGUAGE_CODE == 'ar' %}
                            خصم على <a
                              href="{% url 'lecture' student_submit_assignment.award_lecture_id %}">{{student_submit_assignment.award_lecture_name}}</a>
                            {% else %}
                            Discount on <a
                              href="{% url 'lecture' student_submit_assignment.award_lecture_id %}">{{student_submit_assignment.award_lecture_name}}</a>
                            {% endif %}
                          </h4>
                          <h4
                            style="background-color: white; padding: 8px; display: flex; justify-content: center; align-items: center; border-radius: 15px;">
                            <em>{{student_submit_assignment.award_discount}}</em></h4>
                          <a href="{% url 'lecture' student_submit_assignment.award_lecture_id %}"
                            class="right-angle-link mt-4"><i class="fa fa-angle-right"></i></a>
                        </div>
                      </div>
                    </div>
                    {% endif %}

                    <div class="w-100 mt-4" style="display: flex; flex-direction: row;">
                      <div style="padding: 10px; width: 50%;">
                        <a class="btn btn-outline-secondary w-100"
                          href="?view-answers=true&serial={{student_submit_assignment.serial}}">
                          {% if LANGUAGE_CODE == 'ar' %}
                          عرض الإجابات
                          {% else %}
                          View Answers
                          {% endif %}
                        </a>
                      </div>
                      <div style="padding: 10px; width: 50%;">
                        <a class="btn btn-outline-secondary w-100" href="{% url 'lecture' lecture.id %}">
                          {% if LANGUAGE_CODE == 'ar' %}
                          العودة إلى المحاضرة
                          {% else %}
                          Back To Lecture
                          {% endif %}
                        </a>
                      </div>
                    </div>

                  </div>


                </div>
              </div>

              {% if view_answers == True %}

              <!-- Student Answers  -->


              <div class="col-12 mt-5" id="reviewAnswers">
                <div class="card">
                  <div class="card-header" style="display: flex; justify-content: center; width: 100%;">
                    <div style="display: flex; flex-direction: row; align-items: center; ">
                      <i class="fa-solid fa-question-circle text-primary me-2" style="font-size: 30px;"></i>
                      <h3 style="display: flex; justify-content: center; padding: 0; margin: 0;">
                        {% if LANGUAGE_CODE == 'ar' %}
                        إجاباتك
                        {% else %}
                        Your Answers
                        {% endif %}
                      </h3>
                    </div>
                  </div>
                </div>
              </div>



              <div class="col-12 mt-4">
                <div class="card">







                  <div class="card-header" style="display: flex; justify-content: center; width: 100%;">
                    <div style="display: flex; flex-direction: row; align-items: center; ">
                      <i class="fa-solid fa-question-circle text-primary me-2" style="font-size: 25px;"></i>
                      <h4 style="display: flex; justify-content: center; padding: 0; margin: 0;">
                        {{student_answer_for_review.question_number}} -
                        {{student_answer_for_review.question}}
                      </h4>
                    </div>
                  </div>


                  {% if student_answer_for_review.question_image %}

                  <div class="card-header"
                    style="display: flex; justify-content: center; width: 100%; margin: 10px 0px;">
                    <div style="display: flex; flex-direction: row; align-items: center; ">

                      <img src="{{student_answer_for_review.question_image.url}}" alt=""
                        style="width: fit-content; max-width: 100%;">

                    </div>
                  </div>
                  {% endif %}


                  {% if student_answer_for_review.question_type == 'q_choices' %}
                  <div class="card-body" style="width: 100%;">

                    <div class="container">
                      <div class="row">


                        {% if student_answer_for_review.true == True %}

                        <!-- If Student Answer Is True  -->


                        {% if student_answer_for_review.answer1 == student_answer_for_review.question_true %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-success"
                              style="width: calc(100% )">{{student_answer_for_review.answer1}}</label>
                          </div>
                        </div>
                        {% else %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-primary"
                              style="width: calc(100% ) ">{{student_answer_for_review.answer1}}</label>
                          </div>
                        </div>
                        {% endif %}

                        {% if student_answer_for_review.answer2 == student_answer_for_review.answer %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <label class="btn btn-success"
                            style="width: calc(100% )">{{student_answer_for_review.answer2}}</label>
                        </div>
                        {% else %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <label class="btn btn-primary"
                            style="width: calc(100% )">{{student_answer_for_review.answer2}}</label>
                        </div>
                        {% endif %}



                        {% if student_answer_for_review.answer3 == student_answer_for_review.answer %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <label class="btn btn-success"
                            style="width: calc(100%)">{{student_answer_for_review.answer3}}</label>
                        </div>
                        {% else %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <label class="btn btn-primary"
                            style="width: calc(100%)">{{student_answer_for_review.answer3}}</label>
                        </div>
                        {% endif %}


                        {% if student_answer_for_review.answer4 == student_answer_for_review.answer %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <label class="btn btn-success"
                            style="width: calc(100% )">{{student_answer_for_review.answer4}}</label>
                        </div>
                        {% else %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <label class="btn btn-primary"
                            style="width: calc(100% )">{{student_answer_for_review.answer4}}</label>
                        </div>
                        {% endif %}



                        <!-- If Student Answer Is True  -->
                        {% else %}
                        <!-- If Student Answer Is False  -->


                        {% if student_answer_for_review.answer1 == student_answer_for_review.question_true %}

                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-success"
                              style="width: calc(100% )">{{student_answer_for_review.answer1}}</label>
                          </div>
                        </div>
                        {% else %}

                        {% if student_answer_for_review.answer1 == student_answer_for_review.answer %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-danger"
                              style="width: calc(100% ) ">{{student_answer_for_review.answer1}}</label>
                          </div>
                        </div>
                        {% else %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-primary"
                              style="width: calc(100% ) ">{{student_answer_for_review.answer1}}</label>
                          </div>
                        </div>
                        {% endif %}

                        {% endif %}



                        {% if student_answer_for_review.answer2 == student_answer_for_review.question_true %}

                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-success"
                              style="width: calc(100% )">{{student_answer_for_review.answer2}}</label>
                          </div>
                        </div>
                        {% else %}

                        {% if student_answer_for_review.answer2 == student_answer_for_review.answer %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-danger"
                              style="width: calc(100% ) ">{{student_answer_for_review.answer2}}</label>
                          </div>
                        </div>
                        {% else %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-primary"
                              style="width: calc(100% ) ">{{student_answer_for_review.answer2}}</label>
                          </div>
                        </div>
                        {% endif %}

                        {% endif %}


                        {% if student_answer_for_review.answer3 == student_answer_for_review.question_true %}

                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-success"
                              style="width: calc(100% )">{{student_answer_for_review.answer3}}</label>
                          </div>
                        </div>
                        {% else %}

                        {% if student_answer_for_review.answer3 == student_answer_for_review.answer %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-danger"
                              style="width: calc(100% ) ">{{student_answer_for_review.answer3}}</label>
                          </div>
                        </div>
                        {% else %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-primary"
                              style="width: calc(100% ) ">{{student_answer_for_review.answer3}}</label>
                          </div>
                        </div>
                        {% endif %}

                        {% endif %}



                        {% if student_answer_for_review.answer4 == student_answer_for_review.question_true %}

                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-success"
                              style="width: calc(100% )">{{student_answer_for_review.answer4}}</label>
                          </div>
                        </div>
                        {% else %}

                        {% if student_answer_for_review.answer4 == student_answer_for_review.answer %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-danger"
                              style="width: calc(100% ) ">{{student_answer_for_review.answer4}}</label>
                          </div>
                        </div>
                        {% else %}
                        <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                          <div class="w-100">
                            <label class="btn btn-primary"
                              style="width: calc(100% ) ">{{student_answer_for_review.answer4}}</label>
                          </div>
                        </div>
                        {% endif %}

                        {% endif %}






                        <!-- If Student Answer Is True  -->
                        {% endif %}







                      </div>
                    </div>

                  </div>
                  {% endif %}





                  {% if student_answer_for_review.question_type == 'writing' %}
                  <div class="card-body" style="width: 100%;">
                    <div class="container">
                      <div class="row">

                        {% if assignment_opened_context.question.answered == True %}

                        <div>
                          <label for="writing-question" class="form-label">Answer</label>
                          <textarea class="form-control" id="writing-question" name="writing-answer"
                            rows="3">{{assignment_opened_context.question.writing_answer}}</textarea>
                        </div>

                        {% else %}

                        <div>
                          <label for="writing-question" class="form-label">Answer</label>
                          <textarea class="form-control" id="writing-question" name="writing-answer"
                            rows="3"></textarea>
                        </div>

                        {% endif %}



                      </div>
                    </div>
                  </div>
                  {% endif %}



                  <!-- Question Polls  -->
                  <div class="container-fluid mt-3">
                    <div class="row">
                      <ul class="nav nav-tabs w-100"
                        style="border-bottom:none;display: flex; flex-direction: row; flex-wrap: wrap;display: flex; justify-content: center;">

                        {% for question in student_answers_for_review %}
                        <li class="mb-4 m-2 pr-bg"
                          style="color: white; border-radius: 50%; width: 50px; height: 50px; display: flex; justify-content: center; align-items: center; ">

                          {% if question.true == True %}
                          <a class="text-decoration-none bg-success btn"
                            href="?view-answers=true&serial={{student_submit_assignment.serial}}&question={{question.question_id}}#reviewAnswers"
                            style="color: white; width: 100%; border-radius: 50%; height: 100%; padding: 20px; display: flex; justify-content: center; align-items: center; font-size: 20px;">
                            {{question.question_number}}</a>
                          {% else %}
                          <a class="text-decoration-none bg-danger btn"
                            href="?view-answers=true&serial={{student_submit_assignment.serial}}&question={{question.question_id}}#reviewAnswers"
                            style="color: white; width: 100%; border-radius: 50%; height: 100%; padding: 20px; display: flex; justify-content: center; align-items: center; font-size: 20px;">
                            {{question.question_number}}</a>
                          {% endif %}


                        </li>
                        {% endfor %}



                      </ul>
                    </div>
                  </div>
                  <!-- Question Polls  -->






                </div>
              </div>


              <!-- Student Answers  -->


              {% endif %}



              <!-- Assignment Submitted -->
              {% endif %}


              {% if assignment_status == 'opened' %}
              <!-- Assignment Opened -->


              <form id="submitAssignment" action="/assignment-functions" method="POST">
                {% csrf_token %}


                <input type="hidden" hidden name="function-type" value="save-answer">
                <input type="hidden" hidden name="assignment-id" value="{{assignment.assignment_id}}">
                <input type="hidden" hidden name="lecture-id" value="{{lecture.id}}">
                <input type="hidden" hidden name="part-id" value="{{part.part_id}}">
                <input type="hidden" hidden name="question-id"
                  value="{{assignment_opened_context.question.question_id}}">


                <div id="destinationInputDiv">
                </div>

                <!-- Timer Script Inputs  -->
                <input type="hidden" id="duration" value="{{assignment_opened_context.assignment_duration_by_secs}}" />

                <!-- <input type="hidden" id="duration"
                  value="1500" /> -->
                <input type="hidden" id="remainingTime" name="remainingTime" />
                <!-- Timer Script Inputs  -->




                <div class="container">
                  <div class="row" style="display: flex; justify-content: center;">


                    <div class="col-12 col-md-8">
                      <div class="card" style="padding: 0;">
                        <div class="card-header"
                          style="display: flex; justify-content: center; width: 100%; flex-direction: column;">
                          <div style="width: 100%; display: flex; justify-content: center;" class="mb-3">
                            <button class="btn btn-primary btn-lg">
                              {{part.title}}
                            </button>
                          </div>

                          <div style="width: 100%; display: flex; justify-content: center;" class="mb-3">
                            <button class="btn btn-outline-secondary btn-lg" type="menu">
                              <div id="timer"></div>
                            </button>
                          </div>

                        </div>

                        <div class="card-body" style="display: flex; width: 100%; flex-direction: column;">

                          <div class="assignment-object"
                            style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-question-circle text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                الأسئلة
                                {% else %}
                                Questions
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{assignment.questions_count}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                سؤال
                                {% else %}
                                Question
                                {% endif %}
                              </div>
                            </div>
                          </div>

                          <div class="assignment-object"
                            style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-question-circle text-success" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                الأسئلة المجابة
                                {% else %}
                                Answered Questions
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{assignment_opened_context.answered_questions_number}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                سؤال
                                {% else %}
                                Question
                                {% endif %}
                              </div>
                            </div>
                          </div>

                          <div class="assignment-object"
                            style="padding: 10px; width: 100%; display: flex; justify-content: space-between;">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-clock-rotate-left text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                الوقت
                                {% else %}
                                Time
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{assignment.minutes}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                دقيقة
                                {% else %}
                                min
                                {% endif %}
                              </div>
                            </div>
                          </div>

                          <div class="mt-4" style="width: 100%; display: flex; justify-content: center;">
                            <button class="btn btn-outline-success w-100" name="destination" value="submit">
                              {% if LANGUAGE_CODE == 'ar' %}
                              تسليم
                              {% else %}
                              Submit
                              {% endif %}
                            </button>
                          </div>

                        </div>


                      </div>
                    </div>

                    <div class="col-12" style="margin-bottom: 90px;" id="questionsSection">
                    </div>

                    <div class="col-12 mt-5">
                      <div class="card" style="padding: 0;">





                        {% if assignment_opened_context.btn_mode == 'first' %}
                        <div class="card-header"
                          style="display: flex; justify-content: center; width: 100%; flex-direction: column;">
                          <div style="display: flex; flex-direction: row; width: 100%;">
                            <div class="p-2 w-100">
                              <button class="btn btn-warning w-100" type="submit" name="destination" value="next">
                                {% if LANGUAGE_CODE == 'ar' %}
                                التالي
                                {% else %}
                                Next
                                {% endif %}
                              </button>
                            </div>
                          </div>
                        </div>
                        {% endif %}

                        {% if assignment_opened_context.btn_mode == 'last' %}
                        <div class="card-header"
                          style="display: flex; justify-content: center; width: 100%; flex-direction: column;">
                          <div style="display: flex; flex-direction: row; width: 100%;">
                            <div class="p-2 w-100">
                              <button class="btn btn-info w-100" type="submit" name="destination" value="previous">
                                {% if LANGUAGE_CODE == 'ar' %}
                                السابق
                                {% else %}
                                Previous
                                {% endif %}
                              </button>
                            </div>
                          </div>
                        </div>
                        {% endif %}

                        {% if assignment_opened_context.btn_mode == 'normal' %}
                        <div class="card-header"
                          style="display: flex; justify-content: center; width: 100%; flex-direction: column;">
                          <div style="display: flex; flex-direction: row; width: 100%;">
                            <div class="p-2 w-50">
                              <button class="btn btn-info w-100" type="submit" name="destination" value="previous">
                                {% if LANGUAGE_CODE == 'ar' %}
                                السابق
                                {% else %}
                                Previous
                                {% endif %}
                              </button>
                            </div>
                            <div class="p-2 w-50">
                              <button class="btn btn-warning w-100" type="submit" name="destination" value="next">
                                {% if LANGUAGE_CODE == 'ar' %}
                                التالي
                                {% else %}
                                Next
                                {% endif %}
                              </button>
                            </div>
                          </div>
                        </div>
                        {% endif %}





                        <div class="card-header" style="display: flex; justify-content: center; width: 100%;">
                          <div style="display: flex; flex-direction: row; align-items: center; ">


                            <i class="fa-solid fa-question-circle text-primary me-2" style="font-size: 25px;"></i>




                            <h4 style="display: flex; justify-content: center; padding: 0; margin: 0;">
                              {{assignment_opened_context.question.question_number}} -
                              {{assignment_opened_context.question.question}}
                            </h4>



                          </div>
                        </div>



                        {% if assignment_opened_context.question.question_type == 'q_choices' %}
                        <input type="hidden" hidden name="question-type" value="q_choices">


                        <div class="card-body" style="width: 100%;">

                          <div class="container">
                            <div class="row">

                              {% if assignment_opened_context.question.answered == True %}

                              {% if assignment_opened_context.question.answer1 == assignment_opened_context.question.answer %}
                              <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                                <div class="w-100">
                                  <input type="radio" class="btn-check mr-2" name="answer" checked
                                    id="{{assignment_opened_context.question.answer1}}"
                                    value="{{assignment_opened_context.question.answer1}}" autocomplete="off" />
                                  <label class="btn " for="{{assignment_opened_context.question.answer1}}"
                                    style="width: calc(100% ) ">{{assignment_opened_context.question.answer1}}</label>
                                </div>
                              </div>
                              {% else %}
                              <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                                <div class="w-100">
                                  <input type="radio" class="btn-check mr-2" name="answer"
                                    id="{{assignment_opened_context.question.answer1}}"
                                    value="{{assignment_opened_context.question.answer1}}" autocomplete="off" />
                                  <label class="btn " for="{{assignment_opened_context.question.answer1}}"
                                    style="width: calc(100% ) ">{{assignment_opened_context.question.answer1}}</label>
                                </div>
                              </div>
                              {% endif %}

                              {% if assignment_opened_context.question.answer2 == assignment_opened_context.question.answer %}
                              <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                                <input type="radio" class="btn-check mr-2" name="answer" checked
                                  id="{{assignment_opened_context.question.answer2}}"
                                  value="{{assignment_opened_context.question.answer2}}" autocomplete="off" />
                                <label class="btn " style="width: calc(100% )"
                                  for="{{assignment_opened_context.question.answer2}}">{{assignment_opened_context.question.answer2}}</label>
                              </div>
                              {% else %}
                              <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                                <input type="radio" class="btn-check mr-2" name="answer"
                                  id="{{assignment_opened_context.question.answer2}}"
                                  value="{{assignment_opened_context.question.answer2}}" autocomplete="off" />
                                <label class="btn " style="width: calc(100% )"
                                  for="{{assignment_opened_context.question.answer2}}">{{assignment_opened_context.question.answer2}}</label>
                              </div>
                              {% endif %}



                              {% if assignment_opened_context.question.answer3 == assignment_opened_context.question.answer %}
                              <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                                <input type="radio" class="btn-check mr-2" name="answer" checked
                                  id="{{assignment_opened_context.question.answer3}}"
                                  value="{{assignment_opened_context.question.answer3}}" autocomplete="off" />
                                <label class="btn " style="width: calc(100%)"
                                  for="{{assignment_opened_context.question.answer3}}">{{assignment_opened_context.question.answer3}}</label>
                              </div>
                              {% else %}
                              <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                                <input type="radio" class="btn-check mr-2" name="answer"
                                  id="{{assignment_opened_context.question.answer3}}"
                                  value="{{assignment_opened_context.question.answer3}}" autocomplete="off" />
                                <label class="btn " style="width: calc(100%)"
                                  for="{{assignment_opened_context.question.answer3}}">{{assignment_opened_context.question.answer3}}</label>
                              </div>
                              {% endif %}


                              {% if assignment_opened_context.question.answer4 == assignment_opened_context.question.answer %}
                              <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                                <input type="radio" class="btn-check mr-2" name="answer" checked
                                  id="{{assignment_opened_context.question.answer4}}"
                                  value="{{assignment_opened_context.question.answer4}}" autocomplete="off" />
                                <label class="btn" style="width: calc(100% )"
                                  for="{{assignment_opened_context.question.answer4}}">{{assignment_opened_context.question.answer4}}</label>
                              </div>
                              {% else %}
                              <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                                <input type="radio" class="btn-check mr-2" name="answer"
                                  id="{{assignment_opened_context.question.answer4}}"
                                  value="{{assignment_opened_context.question.answer4}}" autocomplete="off" />
                                <label class="btn" style="width: calc(100% )"
                                  for="{{assignment_opened_context.question.answer4}}">{{assignment_opened_context.question.answer4}}</label>
                              </div>
                              {% endif %}



                              {% else %}

                              <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                                <div class="w-100">
                                  <input type="radio" class="btn-check mr-2" name="answer" checked
                                    id="{{assignment_opened_context.question.answer1}}"
                                    value="{{assignment_opened_context.question.answer1}}" autocomplete="off" />
                                  <label class="btn " for="{{assignment_opened_context.question.answer1}}"
                                    style="width: calc(100% ) ">{{assignment_opened_context.question.answer1}}</label>
                                </div>
                              </div>

                              <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                                <input type="radio" class="btn-check mr-2" name="answer"
                                  id="{{assignment_opened_context.question.answer2}}"
                                  value="{{assignment_opened_context.question.answer2}}" autocomplete="off" />
                                <label class="btn " style="width: calc(100% )"
                                  for="{{assignment_opened_context.question.answer2}}">{{assignment_opened_context.question.answer2}}</label>
                              </div>



                              <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                                <input type="radio" class="btn-check mr-2" name="answer"
                                  id="{{assignment_opened_context.question.answer3}}"
                                  value="{{assignment_opened_context.question.answer3}}" autocomplete="off" />
                                <label class="btn " style="width: calc(100%)"
                                  for="{{assignment_opened_context.question.answer3}}">{{assignment_opened_context.question.answer3}}</label>
                              </div>

                              <div class="col-12 col-md-6 col-lg-3 text-center mb-3">
                                <input type="radio" class="btn-check mr-2" name="answer"
                                  id="{{assignment_opened_context.question.answer4}}"
                                  value="{{assignment_opened_context.question.answer4}}" autocomplete="off" />
                                <label class="btn" style="width: calc(100% )"
                                  for="{{assignment_opened_context.question.answer4}}">{{assignment_opened_context.question.answer4}}</label>
                              </div>
                              {% endif %}





                            </div>
                          </div>

                        </div>
                        {% endif %}





                        {% if assignment_opened_context.question.question_type == 'writing' %}
                        <input type="hidden" hidden name="question-type" value="writing">

                        <div class="card-body" style="width: 100%;">
                          <div class="container">
                            <div class="row">

                              {% if assignment_opened_context.question.answered == True %}

                              <div>
                                <label for="writing-question" class="form-label">Answer</label>
                                <textarea class="form-control" id="writing-question" name="writing-answer"
                                  rows="3">{{assignment_opened_context.question.writing_answer}}</textarea>
                              </div>

                              {% else %}

                              <div>
                                <label for="writing-question" class="form-label">Answer</label>
                                <textarea class="form-control" id="writing-question" name="writing-answer"
                                  rows="3"></textarea>
                              </div>

                              {% endif %}



                            </div>
                          </div>
                        </div>

                        {% endif %}


                        <!-- Question Polls  -->
                        <div class="container-fluid mt-3">
                          <div class="row">
                            <ul class="nav nav-tabs w-100"
                              style="border-bottom:none;display: flex; flex-direction: row; flex-wrap: wrap;display: flex; justify-content: center;">

                              {% for question in assignment_opened_context.student_answers %}
                              <li class="mb-4 m-2 pr-bg"
                                style="color: white; border-radius: 50%; width: 50px; height: 50px; display: flex; justify-content: center; align-items: center; ">
                                {% if question.question_number == assignment_opened_context.question.question_number %}
                                <button class="text-decoration-none bg-primary btn" type="submit" name="destination"
                                  value="{{question.question_id}}"
                                  style="border: none; border-radius: 50%; color: white; width: 100%; height: 100%; padding: 20px; display: flex; justify-content: center; align-items: center; font-size: 20px;">
                                  {{question.question_number}}</button>
                                {% else %}


                                {% if question.answered == True %}
                                <button class="text-decoration-none bg-success btn" type="submit" name="destination"
                                  value="{{question.question_id}}"
                                  style="color: white; width: 100%; border-radius: 50%; height: 100%; padding: 20px; display: flex; justify-content: center; align-items: center; font-size: 20px;">
                                  {{question.question_number}}</button>
                                {% else %}
                                <button class="text-decoration-none bg-warning btn" type="submit" name="destination"
                                  value="{{question.question_id}}"
                                  style="color: white; width: 100%; border-radius: 50%; height: 100%; padding: 20px; display: flex; justify-content: center; align-items: center; font-size: 20px;">
                                  {{question.question_number}}</button>
                                {% endif %}


                                {% endif %}



                              </li>
                              {% endfor %}



                            </ul>
                          </div>
                        </div>
                        <!-- Question Polls  -->




                      </div>
                    </div>



                  </div>
                </div>


              </form>




              <!-- Timer Javascript  -->

              <script>
                // Get the duration from the hidden input
                const durationInput = document.getElementById('duration');
                let duration = parseInt(durationInput.value, 10);
                let timer;

                function updateTimer() {
                  const minutes = Math.floor(duration / 60);
                  const seconds = duration % 60;

                  document.getElementById('timer').textContent =
                    ` ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;

                  // Save remaining time in the hidden input
                  document.getElementById('remainingTime').value = duration;

                  // Check if the time is up
                  if (duration <= 0) {
                    clearInterval(timer);

                    const destinationInputDiv = document.getElementById('destinationInputDiv');
                    const input = document.createElement('input');
                    input.type = 'text';
                    input.name = 'destination';
                    input.value = 'submit';

                    destinationInputDiv.appendChild(input);

                    document.getElementById('submitAssignment').submit(); // Submit the form
                  } else {
                    duration--; // Decrease duration by 1 second
                  }
                }

                // Start the timer
                timer = setInterval(updateTimer, 1000);
              </script>
              <!-- Timer Javascript  -->


              <!-- Automatically Submit The Form When The User Leaves The Page  -->
              <script>
                // Flag to check if the form should be submitted
                var shouldSubmitForm = false;

                window.onbeforeunload = function () {
                  // Set the flag to true indicating the form should be submitted
                  shouldSubmitForm = true;
                };

                window.addEventListener('unload', function () {
                  // Check if the flag is set to true before submitting the form
                  if (shouldSubmitForm) {
                    document.getElementById('submitAssignment').submit();
                  }
                });
              </script>
              <!-- Automatically Submit The Form When The User Leaves The Page  -->




              <!-- Assignment Opened -->
              {% endif %}



            </div>
          </div>

        </div>
        <!-- Assignment Section -->
        {% endif %}


        {% if mode == 'attachment' %}
        <!-- Video Section -->
        <div class="col-12 mb-4">

          <div class="container-fluid">
            <div class="row" style="display: flex; justify-content: center; align-items: center;">

              <div class="col-12 col-md-8">
                <div class="card" style="padding: 0;">


                  {% if user_profile.instructor == True %}

                  <div class="card-body"
                    style="height: fit-content; padding: 0 ; display: flex; justify-content: center; align-items: center; padding: 30px 0px;">
                    <!-- PDF File Button -->
                    {% if part.type == 'file' %}
                    <a class="btn btn-primary btn-lg" href="{{part.pdf_file.url}}" target="_blank">
                      {% if LANGUAGE_CODE == 'ar' %}
                      عرض الملف
                      {% else %}
                      View File
                      {% endif %}
                    </a>

                    {% endif %}
                    <!-- PDF File Button  -->

                    <!-- Link Button  -->
                    {% if part.type == 'link' %}
                    <a class="btn btn-primary btn-lg" href="{{part.link}}" target="_blank">
                      {% if LANGUAGE_CODE == 'ar' %}
                      عرض الصفحة
                      {% else %}
                      View Page
                      {% endif %}
                    </a>

                    {% endif %}
                    <!-- Link Button  -->

                  </div>

                  <div class="card-header d-flex align-items-center justify-content-center"
                    style="padding: 0; padding-bottom: 10px;">
                    <h4 class="card-title" style=" color: black; font-weight: bold;">{{part.title}}</h4>
                  </div>

                  {% endif %}






                  {% if user_profile.instructor == False %}
                  <!-- If Student Didnt Exceed Views Limit Number  -->

                  <div class="card-body"
                    style="height: fit-content; padding: 0 ; display: flex; justify-content: center; align-items: center; padding: 30px 0px;">
                    <!-- PDF File Button -->
                    {% if part.type == 'file' %}
                    <a class="btn btn-primary btn-lg" href="{{part.pdf_file.url}}" target="_blank">
                      {% if LANGUAGE_CODE == 'ar' %}
                      عرض الملف
                      {% else %}
                      View File
                      {% endif %}
                    </a>

                    {% endif %}
                    <!-- PDF File Button  -->

                    <!-- Link Button  -->
                    {% if part.type == 'link' %}
                    <a class="btn btn-primary btn-lg" href="{{part.link}}" target="_blank">
                      {% if LANGUAGE_CODE == 'ar' %}
                      عرض الصفحة
                      {% else %}
                      View Page
                      {% endif %}
                    </a>

                    {% endif %}
                    <!-- Link Button  -->
                  </div>

                  <div class="card-header d-flex align-items-center justify-content-center"
                    style="padding: 0; padding-bottom: 10px;">
                    <h4 class="card-title" style=" color: black; font-weight: bold;">{{part.title}}</h4>
                  </div>



                  <!-- If Student Didnt Exceed Views Limit Number  -->
                  {% endif %}



                </div>

              </div>
            </div>
          </div>

        </div>
        <!--/ Video Section -->
        {% endif %}



      </div>

      <!-- Modals -->
      <div class="row">
        <div class="col-lg-4 col-md-6">
          <div class="mt-3">

            <!-- Error Login Modal  -->
            <div class="modal fade" id="error-login" aria-labelledby="modalToggleLabel" tabindex="-1"
              style="display: none" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">

                    <div class="illu" style="width: 100%; height: 300px; border-radius: 15px;">
                      <img src="{% static 'main/assets/images/app/error-login.svg' %}"
                        style="width: 100%; height: 100%;">
                    </div>

                    <div class="mb-3" style="display: flex; justify-content: center; align-items: center;">
                      <h4 class="modal-title">
                        {% if LANGUAGE_CODE == 'ar' %}
                        يجب عليك تسجيل الدخول أولاً
                        {% else %}
                        You Must Login First
                        {% endif %}
                      </h4>
                    </div>

                    <a type="button" href="{% url 'login' %}" class="btn btn-primary w-100 mt-2">
                      {% if LANGUAGE_CODE == 'ar' %}
                      تسجيل الدخول
                      {% else %}
                      Login
                      {% endif %}
                    </a>

                  </div>
                </div>
              </div>
            </div>
            <!-- Error Login Modal  -->



            <!-- Purchase Modal-->
            <div class="modal fade" id="purchase" aria-labelledby="modalToggleLabel" tabindex="-1" style="display: none"
              aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalToggleLabel">
                      {% if LANGUAGE_CODE == 'ar' %}
                      شراء
                      {% else %}
                      Purchase
                      {% endif %}
                      {{lecture.title}}
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <button type="button" data-bs-toggle="modal" data-bs-target="#modalwallet"
                      class="btn btn-primary w-100">
                      {% if LANGUAGE_CODE == 'ar' %}
                      الدفع من المحفظة
                      {% else %}
                      Pay From Wallet
                      {% endif %}
                    </button>
                    <button type="button" data-bs-toggle="modal" data-bs-target="#modalcode"
                      class="btn btn-primary w-100 mt-2">
                      {% if LANGUAGE_CODE == 'ar' %}
                      الدفع بكود
                      {% else %}
                      Pay With Code
                      {% endif %}
                    </button>
                  </div>
                  <div class="modal-footer">
                    <button class="btn btn-outline-danger" data-bs-dismiss="modal" aria-label="Close">
                      {% if LANGUAGE_CODE == 'ar' %}
                      إلغاء
                      {% else %}
                      Cancel
                      {% endif %}
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- Purchase Modal-->


            <!-- Modal Wallet-->
            <div class="modal fade" id="modalwallet" aria-hidden="true" aria-labelledby="modalwallet" tabindex="-1">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalwallet">
                      {% if LANGUAGE_CODE == 'ar' %}
                      شراء المحاضرة من المحفظة
                      {% else %}
                      Purchase Lecture From Wallet
                      {% endif %}
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <div class="d-flex justify-content-center">
                      {% if LANGUAGE_CODE == 'ar' %}
                      هل أنت متأكد أنك تريد شراء
                      ({{lecture.title}})
                      مقابل {{lecture.price}}
                      جنيه مصري؟
                      {% else %}
                      Are you sure you want to buy ({{lecture.title}}) for {{lecture.price}} EGP?
                      {% endif %}
                    </div>
                    <div class="d-flex justify-content-center mt-2">
                      <small>
                        {% if LANGUAGE_CODE == 'ar' %}
                        رصيد محفظتك: {{user_profile.money}} جنيه مصري
                        {% else %}
                        Your Wallet Credit: {{user_profile.money}} EGP
                        {% endif %}
                      </small>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button class="btn btn-outline-secondary" data-bs-target="#modalToggle" data-bs-toggle="modal"
                      data-bs-dismiss="modal">
                      {% if LANGUAGE_CODE == 'ar' %}
                      عودة
                      {% else %}
                      Back
                      {% endif %}
                    </button>

                    <button type="button" data-bs-toggle="modal" data-bs-target="#modaldiscountinput"
                      class="btn btn-secondary">
                      {% if LANGUAGE_CODE == 'ar' %}
                      تطبيق خصم
                      {% else %}
                      Apply Discount
                      {% endif %}
                    </button>

                    <form action="/purchase-lecture" method="post">
                      {% csrf_token %}
                      <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                      <button type="submit" class="btn btn-primary" style="padding-left: 25px; padding-right: 25px;">
                        {% if LANGUAGE_CODE == 'ar' %}
                        تأكيد
                        {% else %}
                        Confirm
                        {% endif %}
                      </button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
            <!-- Modal Wallet-->


            <!-- Modal Code-->
            <div class="modal fade" id="modalcode" aria-hidden="true" aria-labelledby="modalcode" tabindex="-1">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalcode">
                      {% if LANGUAGE_CODE == 'ar' %}
                      شراء المحاضرة بواسطة الكود
                      {% else %}
                      Purchase Lecture By Code
                      {% endif %}
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form action="/join-lecture" method="post">
                      {% csrf_token %}
                      <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>

                      <div class="mb-3">
                        <label class="form-label" for="code">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الكود
                          {% else %}
                          Code
                          {% endif %}
                        </label>
                        <div class="input-group input-group-merge">
                          <span id="code" class="input-group-text">
                            <i class="fa-solid fa-barcode text-primary" style="font-size: 20px;"></i>
                          </span>
                          <input type="text" class="form-control" name="code" id="code"
                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الكود هنا{% else %}Enter The Code Here{% endif %}" />
                        </div>
                      </div>

                      <button type="submit" class="btn btn-primary w-100">
                        {% if LANGUAGE_CODE == 'ar' %}
                        شحن
                        {% else %}
                        Charge
                        {% endif %}
                      </button>
                    </form>
                  </div>
                  <div class="modal-footer">
                    <button class="btn btn-outline-secondary" data-bs-target="#modalToggle" data-bs-toggle="modal"
                      data-bs-dismiss="modal">
                      {% if LANGUAGE_CODE == 'ar' %}
                      عودة
                      {% else %}
                      Back
                      {% endif %}
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- Modal Code-->



            <!-- Modal Discount Input-->
            <div class="modal fade" id="modaldiscountinput" aria-hidden="true" aria-labelledby="modalcode"
              tabindex="-1">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalcode">
                      {% if LANGUAGE_CODE == 'ar' %}
                      تطبيق خصم على شراء ({{lecture.title}})
                      {% else %}
                      Apply Discount To Purchase ({{lecture.title}})
                      {% endif %}
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form action="/discounts-functions" method="post">
                      {% csrf_token %}
                      <input type="text" name="function-type" value="redirect" hidden>
                      <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>

                      <div class="mb-3">
                        <label class="form-label" for="discount">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الخصم
                          {% else %}
                          Discount
                          {% endif %}
                        </label>
                        <div class="input-group input-group-merge">
                          <span id="discount" class="input-group-text">
                            <i class="fa-solid fa-tags text-primary" style="font-size: 20px;"></i>
                          </span>
                          <input type="text" class="form-control" name="discount" id="discount"
                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل كود الخصم هنا{% else %}Enter The Discount Here{% endif %}" />
                        </div>
                      </div>

                      <button type="submit" class="btn btn-primary w-100">
                        {% if LANGUAGE_CODE == 'ar' %}
                        تطبيق
                        {% else %}
                        Apply
                        {% endif %}
                      </button>
                    </form>
                  </div>
                  <div class="modal-footer">
                    <button class="btn btn-outline-secondary" data-bs-target="#modalToggle" data-bs-toggle="modal"
                      data-bs-dismiss="modal">
                      {% if LANGUAGE_CODE == 'ar' %}
                      العودة
                      {% else %}
                      Back
                      {% endif %}
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- Modal Discount Input-->



            <!-- Modal Discount  -->


            {% if discount_object %}
            {% if user_profile.instructor == False %}
            {% if status == 'not-purchased' %}
            <div id="myCustomModal" class="custom-modal">
              <div class="custom-modal-content">
                <span class="close-button" id="closeModal">
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </span>
                <h5 class="modal-title" id="modalcode">
                  {% if LANGUAGE_CODE == 'ar' %}
                  تطبيق خصم على الشراء
                  {% else %}
                  Apply Discount To Purchase
                  {% endif %}
                </h5>

                <div class="modal-body">
                  <div class="d-flex justify-content-center">
                    <h6>
                      {% if LANGUAGE_CODE == 'ar' %}
                      قيمة الخصم =
                      {% else %}
                      Discount Value =
                      {% endif %}
                    </h6>
                    <h5 class="ms-1 text-primary">{{discount_object.discount_value}}%</h5>
                  </div>
                  <div>
                    <p style="display: flex; justify-content: center;">
                      {% if LANGUAGE_CODE == 'ar' %}
                      هل أنت متأكد أنك تريد شراء ({{lecture.title}}) بسعر {{new_lecture_price}} جنيه بدلاً من
                      {{lecture.price}} جنيه؟
                      {% else %}
                      Are you sure you want to purchase ({{lecture.title}}) for {{new_lecture_price}} EGP instead of
                      {{lecture.price}} EGP?
                      {% endif %}
                    </p>
                  </div>
                  <div class="d-flex justify-content-center mt-2">
                    <small class="text-primary">
                      {% if LANGUAGE_CODE == 'ar' %}
                      ستوفر: {{cash_saved}} جنيه
                      {% else %}
                      Your Will Save: {{cash_saved}} EGP
                      {% endif %}
                    </small>
                  </div>
                  <div class="d-flex justify-content-center mt-2">
                    <small>
                      {% if LANGUAGE_CODE == 'ar' %}
                      رصيدك في المحفظة: {{user_profile.money}} جنيه
                      {% else %}
                      Your Wallet Credit: {{user_profile.money}} EGP
                      {% endif %}
                    </small>
                  </div>
                </div>
                <div class="modal-footer">
                  <a class="btn btn-outline-secondary" href="{% url 'lecture' lecture.id %}">
                    {% if LANGUAGE_CODE == 'ar' %}
                    العودة
                    {% else %}
                    Back
                    {% endif %}
                  </a>
                  <form action="/discounts-functions" method="post">
                    {% csrf_token %}
                    <input type="text" name="function-type" value="confirm" hidden>
                    <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                    <input type="text" name="discount" value="{{discount_object.discount_id}}" hidden>

                    <button type="submit" class="btn btn-primary" style="padding-left: 25px; padding-right: 25px;">
                      {% if LANGUAGE_CODE == 'ar' %}
                      تأكيد
                      {% else %}
                      Confirm
                      {% endif %}
                    </button>
                  </form>
                </div>
              </div>
            </div>
            {% endif %}
            {% endif %}
            {% endif %}


            <script>
              document.addEventListener("DOMContentLoaded", function () {
                var modal = document.getElementById("myCustomModal");
                var closeButton = document.getElementById("closeModal");

                // Show the modal when the page loads
                modal.classList.add("active");

                // Close the modal when the close button is clicked
                closeButton.onclick = function () {
                  modal.classList.remove("active");
                }

                // Close the modal if user clicks outside of the modal content
                window.onclick = function (event) {
                  if (event.target === modal) {
                    modal.classList.remove("active");
                  }
                }
              });
            </script>

            <!-- Modal Discount  -->

          </div>
        </div>
      </div>
      <!-- Modals  -->



















      {% if user_profile %}
      {% if user_profile.instructor == True %}

      <!-- Settings For Instructor  -->
      <!-- Settings -->
      <div class="row mt-5">
        <div class="col-12">
          <div class="card h-100">
            <div class="card-header d-flex align-items-center justify-content-between">
              {% if mode == 'normal' %}
              <h5 class="card-title m-0 me-2">
                {% if LANGUAGE_CODE == 'ar' %}
                إعدادات المحاضرة
                {% else %}
                Lecture Settings
                {% endif %}
              </h5>

              {% endif %}

              {% if mode == 'video' %}
              <h5 class="card-title m-0 me-2">
                {% if LANGUAGE_CODE == 'ar' %}
                إعدادات الفيديو
                {% else %}
                Video Part Settings
                {% endif %}
              </h5>

              {% endif %}

            </div>
            <div class="card-body">
              <ul class="p-0 m-0">

                {% if mode == 'normal' %}
                <li class="d-flex pb-3">
                  <button type="button" data-bs-toggle="offcanvas" data-bs-target="#addPartOffcanvas"
                    aria-controls="offcanvasStart"
                    style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                    <div class="avatar flex-shrink-0 me-3">
                      <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                        <i class="fa-solid fa-add text-primary" style="font-size: 20px;"></i>
                      </div>
                    </div>
                    <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                      <div class="me-2">
                        <h6 class="mb-0">
                          {% if LANGUAGE_CODE == 'ar' %}
                          إضافة جزء
                          {% else %}
                          Add Part
                          {% endif %}
                        </h6>

                      </div>
                    </div>
                  </button>
                </li>
                {% endif %}


                {% if mode == 'normal' %}
                <li class="d-flex pb-1">
                  <button type="button" data-bs-toggle="offcanvas" data-bs-target="#settingsOffcanvas"
                    aria-controls="offcanvasStart"
                    style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                    <div class="avatar flex-shrink-0 me-3">
                      <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                        <i class="fa-solid fa-gear text-primary" style="font-size: 20px;"></i>
                      </div>
                    </div>
                    <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                      <div class="me-2">
                        <h6 class="mb-0">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الإعدادات
                          {% else %}
                          Settings
                          {% endif %}</h6>
                      </div>
                    </div>
                  </button>
                </li>
                {% endif %}

                {% if mode == 'video' %}
                <li class="d-flex pb-3">
                  <button type="button" data-bs-toggle="modal" data-bs-target="#video-part-settings"
                    style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                    <div class="avatar flex-shrink-0 me-3">
                      <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                        <i class="fa-solid fa-gear text-primary" style="font-size: 20px;"></i>
                      </div>
                    </div>
                    <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                      <div class="me-2">
                        <h6 class="mb-0">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الإعدادات
                          {% else %}
                          Settings
                          {% endif %}</h6>
                      </div>
                    </div>
                  </button>
                </li>

                <li class="d-flex pb-3">
                  <button type="button" data-bs-toggle="modal" data-bs-target="#video-part-stats"
                    style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                    <div class="avatar flex-shrink-0 me-3">
                      <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                        <i class="fa-solid fa-database text-primary" style="font-size: 20px;"></i>
                      </div>
                    </div>
                    <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                      <div class="me-2">
                        {% if LANGUAGE_CODE == 'ar' %}
                        <h6 class="mb-0">الإحصائيات</h6>
                        {% else %}
                        <h6 class="mb-0">Statistics</h6>
                        {% endif %}

                      </div>
                    </div>
                  </button>
                </li>


                <li class="d-flex pb-3">
                  <a href="{% url 'lecture' lecture.id %}"
                    style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                    <div class="avatar flex-shrink-0 me-3">
                      <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                        <i class="fa-solid fa-arrow-left text-primary" style="font-size: 20px;"></i>
                      </div>
                    </div>
                    <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                      <div class="me-2">
                        {% if LANGUAGE_CODE == 'ar' %}
                        <h6 class="mb-0">رجوع</h6>
                        {% else %}
                        <h6 class="mb-0">Back</h6>
                        {% endif %}

                      </div>
                    </div>
                  </a>
                </li>
                {% endif %}


                {% if mode == 'attachment' %}
                <li class="d-flex pb-3">
                  <button type="button" data-bs-toggle="modal" data-bs-target="#attachment-part-settings"
                    style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                    <div class="avatar flex-shrink-0 me-3">
                      <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                        <i class="fa-solid fa-gear text-primary" style="font-size: 20px;"></i>
                      </div>
                    </div>
                    <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                      <div class="me-2">
                        {% if LANGUAGE_CODE == 'ar' %}
                        <h6 class="mb-0">الإعدادات</h6>
                        {% else %}
                        <h6 class="mb-0">Settings</h6>
                        {% endif %}

                      </div>
                    </div>
                  </button>
                </li>

                <li class="d-flex pb-3">
                  <button type="button" data-bs-toggle="modal" data-bs-target="#video-part-stats"
                    style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                    <div class="avatar flex-shrink-0 me-3">
                      <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                        <i class="fa-solid fa-database text-primary" style="font-size: 20px;"></i>
                      </div>
                    </div>
                    <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                      <div class="me-2">
                        {% if LANGUAGE_CODE == 'ar' %}
                        <h6 class="mb-0">الإحصائيات</h6>
                        {% else %}
                        <h6 class="mb-0">Statistics</h6>
                        {% endif %}

                      </div>
                    </div>
                  </button>
                </li>


                <li class="d-flex pb-3">
                  <a href="{% url 'lecture' lecture.id %}"
                    style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                    <div class="avatar flex-shrink-0 me-3">
                      <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                        <i class="fa-solid fa-arrow-left text-primary" style="font-size: 20px;"></i>
                      </div>
                    </div>
                    <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                      <div class="me-2">
                        {% if LANGUAGE_CODE == 'ar' %}
                        <h6 class="mb-0">رجوع</h6>
                        {% else %}
                        <h6 class="mb-0">Back</h6>
                        {% endif %}

                      </div>
                    </div>
                  </a>
                </li>
                {% endif %}

                {% if mode == 'lecture_code_students' %}
                <li class="d-flex pb-1">
                  <a href="{% url 'lecture' lecture.id %}"
                    style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                    <div class="avatar flex-shrink-0 me-3">
                      <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                        <i class="fa-solid fa-arrow-left text-primary" style="font-size: 20px;"></i>
                      </div>
                    </div>
                    <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                      <div class="me-2">
                        {% if LANGUAGE_CODE == 'ar' %}
                        <h6 class="mb-0">رجوع</h6>
                        {% else %}
                        <h6 class="mb-0">Back</h6>
                        {% endif %}

                      </div>
                    </div>
                    </button>
                </li>
                {% endif %}

                {% if mode == 'lecture_discount_students' %}
                <li class="d-flex pb-1">
                  <a href="{% url 'lecture' lecture.id %}"
                    style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                    <div class="avatar flex-shrink-0 me-3">
                      <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                        <i class="fa-solid fa-arrow-left text-primary" style="font-size: 20px;"></i>
                      </div>
                    </div>
                    <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                      <div class="me-2">
                        {% if LANGUAGE_CODE == 'ar' %}
                        <h6 class="mb-0">رجوع</h6>
                        {% else %}
                        <h6 class="mb-0">Back</h6>
                        {% endif %}

                      </div>
                    </div>
                    </button>
                </li>
                {% endif %}


              </ul>
            </div>
          </div>
        </div>
      </div>



      <!-- Settings Offcanvas  -->
      <div class="offcanvas offcanvas-start" tabindex="-1" id="settingsOffcanvas" aria-labelledby="offcanvasStartLabel">
        <div class="offcanvas-header" style="background-color: #7a6ad8;">
          {% if LANGUAGE_CODE == 'ar' %}
          <h5 id="offcanvasStartLabel" class="offcanvas-title" style="color: white;">إعدادات {{lecture.title}}</h5>
          {% else %}
          <h5 id="offcanvasStartLabel" class="offcanvas-title" style="color: white;">{{lecture.title}} Settings</h5>
          {% endif %}

          <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body  mx-0 flex-grow-0">





          <ul class="p-0 m-0">


            <!-- Settings  -->
            <li class="d-flex mb-4 pb-1">
              <button data-bs-target="#settings" type="button" data-bs-toggle="modal"
                style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                <div class="avatar flex-shrink-0 me-3">
                  <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                    <i class="fa-solid fa-gear text-primary" style="font-size: 20px;"></i>
                  </div>
                </div>
                <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                  <div class="me-2">
                    {% if LANGUAGE_CODE == 'ar' %}
                    <h6 class="mb-0">الإعدادات</h6>
                    {% else %}
                    <h6 class="mb-0">Settings</h6>
                    {% endif %}

                  </div>
                </div>
              </button>
            </li>

            <div class="modal fade" id="settings" tabindex="-1" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    {% if LANGUAGE_CODE == 'ar' %}
                    <h5 class="modal-title" id="modalCenterTitle">إعدادات المحاضرة</h5>
                    {% else %}
                    <h5 class="modal-title" id="modalCenterTitle">Lecture Settings</h5>
                    {% endif %}

                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>


                  <div class="modal-body">
                    <div class="row">

                      <div class="col-12 mb-3" style="display: flex; justify-content: center; align-items: center;">
                        {% if LANGUAGE_CODE == 'ar' %}
                        <h4>كود المحاضرة : {{lecture.code}}</h4>
                        {% else %}
                        <h4>Lecture Code : {{lecture.code}}</h4>
                        {% endif %}
                      </div>

                      <form action="/dashboard/lecture-settings" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>

                        <div class="col-12 mb-2">
                          {% if lecture.image %}
                          <img src="{{lecture.image.url}}" id="uploaded-image" class="group-image w-100 rounded" alt="">
                          {% else %}
                          <img src="{% static 'blank-lecture.jpeg' %}" id="uploaded-image"
                            class="group-image w-100 rounded" alt="">
                          {% endif %}
                        </div>

                        <div class="col-12 mb-3">
                          <label for="image-upload" class="form-label">
                            {% if LANGUAGE_CODE == 'ar' %}
                            صورة المحاضرة (صورة مصغرة)
                            {% else %}
                            Lecture Image (Thumbnail)
                            {% endif %}
                          </label>
                          <input type="file" name="image" id="image-upload" accept="image/*"
                            onchange="displayImage(event)" class="form-control group-image-input">
                        </div>

                        <div class="col-12 mb-3">
                          <label for="title" class="form-label">
                            {% if LANGUAGE_CODE == 'ar' %}
                            اسم المحاضرة (العنوان)
                            {% else %}
                            Lecture Name (Title)
                            {% endif %}
                          </label>
                          <input type="text" id="title" name="title" class="form-control"
                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الاسم{% else %}Enter Name{% endif %}"
                            value="{{lecture.title}}" />
                        </div>

                        <div class="col-12 mb-3">
                          <label for="price" class="form-label">
                            {% if LANGUAGE_CODE == 'ar' %}
                            سعر المحاضرة
                            {% else %}
                            Lecture Price
                            {% endif %}
                          </label>
                          <input type="text" id="price" name="price" class="form-control"
                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل السعر{% else %}Enter Price{% endif %}"
                            value="{{lecture.price}}" />
                        </div>

                        <div class="col-12 mb-3">
                          <label for="description" class="form-label">
                            {% if LANGUAGE_CODE == 'ar' %}
                            وصف المحاضرة
                            {% else %}
                            Lecture Description
                            {% endif %}
                          </label>
                          <input type="text" id="description" name="description" class="form-control"
                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الوصف{% else %}Enter Description{% endif %}"
                            value="{{lecture.caption}}" />
                        </div>

                        <div class="col-12 mb-3">
                          <select class="form-select" id="exampleFormControlSelect1" aria-label="Default select example"
                            name="year">
                            <option selected value="{{lecture.year}}">
                              <p style="text-transform: capitalize;">{{lecture.year}}</p>
                            </option>
                            <option value="first">
                              {% if LANGUAGE_CODE == 'ar' %}
                              الثانوية العامة الأولى
                              {% else %}
                              First Secondary
                              {% endif %}
                            </option>
                            <option value="second">
                              {% if LANGUAGE_CODE == 'ar' %}
                              الثانوية العامة الثانية
                              {% else %}
                              Second Secondary
                              {% endif %}
                            </option>
                            <option value="third">
                              {% if LANGUAGE_CODE == 'ar' %}
                              الثانوية العامة الثالثة
                              {% else %}
                              Third Secondary
                              {% endif %}
                            </option>
                          </select>
                        </div>

                        <div class="col-12 mb-2">
                          <button type="submit" class="btn btn-primary w-100">
                            {% if LANGUAGE_CODE == 'ar' %}
                            حفظ
                            {% else %}
                            Save
                            {% endif %}
                          </button>
                        </div>
                      </form>

                      <form action="/dashboard/delete-lecture" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                        <div class="col-12 mt-5">
                          <div class="card">
                            <h5 class="card-header">
                              {% if LANGUAGE_CODE == 'ar' %}
                              حذف المحاضرة
                              {% else %}
                              Delete Lecture
                              {% endif %}
                            </h5>
                            <div class="card-body">
                              <div class="mb-3 col-12 mb-0">
                                <div class="alert alert-warning">
                                  <h6 class="alert-heading fw-bold mb-1">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    هل أنت متأكد أنك تريد حذف هذه المحاضرة؟
                                    {% else %}
                                    Are you sure you want to delete this lecture?
                                    {% endif %}
                                  </h6>
                                  <p class="mb-0">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    بمجرد حذف هذه المحاضرة، لا يمكن العودة. يرجى التأكد.
                                    {% else %}
                                    Once you delete this lecture, there is no going back. Please be certain.
                                    {% endif %}
                                  </p>
                                </div>
                              </div>
                              <form id="formAccountDeactivation" onsubmit="return false">
                                <div class="form-check mb-3">
                                  <input class="form-check-input" type="checkbox" name="accountActivation"
                                    id="accountActivation" />
                                  <label class="form-check-label" for="accountActivation">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    أؤكد حذف هذه المحاضرة
                                    {% else %}
                                    I confirm to delete this lecture
                                    {% endif %}
                                  </label>
                                </div>
                                <button type="submit" class="btn btn-danger deactivate-account">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  حذف المحاضرة
                                  {% else %}
                                  Delete Lecture
                                  {% endif %}
                                </button>
                              </form>
                            </div>
                          </div>
                        </div>
                      </form>

                    </div>
                  </div>



                  <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                      {% if LANGUAGE_CODE == 'ar' %}
                      إغلاق
                      {% else %}
                      Close
                      {% endif %}
                    </button>
                  </div>






                </div>
              </div>
            </div>
            <!-- Settings  -->






            <!-- Lecture Students  -->
            <li class="d-flex mb-4 pb-1">
              <button data-bs-target="#students" type="button" data-bs-toggle="modal"
                style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                <div class="avatar flex-shrink-0 me-3">
                  <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                    <i class="fa-solid fa-user-group text-primary" style="font-size: 20px;"></i>
                  </div>
                </div>
                <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                  <div class="me-2">
                    {% if LANGUAGE_CODE == 'ar' %}
                    <h6 class="mb-0">الطلاب المشتركين</h6>
                    {% else %}
                    <h6 class="mb-0">Subscribed Students</h6>
                    {% endif %}

                  </div>
                </div>
              </button>
            </li>


            <div class="modal fade" id="students" tabindex="-1" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalCenterTitle">
                      {% if LANGUAGE_CODE == 'ar' %}
                      الطلاب المشتركين في
                      {% else %}
                      Subscribed Students
                      {% endif %} {{lecture.title}}
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <div class="row">
                      <div class="col-12">
                        <!-- Search -->
                        <div class="d-flex align-items-center" style="width: 100%;">
                          <i class="bx bx-search fs-4 lh-0"></i>
                          <input type="text" class="form-control border-0 shadow-none" id="group-students-filter-input"
                            placeholder="{% if LANGUAGE_CODE == 'ar' %}ابحث...{% else %}Search...{% endif %}"
                            style="width: 100%;" oninput="groupStudentsFilterText()" />
                        </div>
                        <!-- /Search -->
                      </div>

                      <hr class="mb-4">

                      <div class="filter-blocks-container">
                        {% for x in subscribed_students %}
                        <div class="filter-block mt-2" style="display: flex;">
                          <div class="avatar flex-shrink-0 me-3">
                            <div class="">
                              {% if x.user_image %}
                              <img src="{{x.user_image.url}}" class="w-100 rounded-circle">
                              {% else %}
                              <img src="{% static 'blank-profile-picture.jpg' %}" class="w-100 rounded-circle">
                              {% endif %}
                            </div>
                          </div>
                          <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                            <div class="me-2">
                              <a class="mb-0" href="{% url 'main' x.user.username %}">{{x.user_name}}</a>
                            </div>
                            <div class="dropdown">
                              <button class="btn p-0" type="button" id="transactionID" data-bs-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                <i class="bx bx-exit" style="font-size: 25px;"></i>
                              </button>
                              <div class="dropdown-menu dropdown-menu-end" aria-labelledby="transactionID">
                                <form action="/dashboard/remove-student-from-lecture" method="post">
                                  {% csrf_token %}
                                  <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                                  <input type="text" name="username" value="{{x.user.username}}" hidden>
                                  <button type="submit" class="dropdown-item">
                                    <i class="fa-solid fa-trash" style="font-size: 12px; padding-right: 10px;"></i>
                                    {% if LANGUAGE_CODE == 'ar' %}إزالة{% else %}Remove{% endif %}
                                  </button>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>
                        {% endfor %}
                      </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                      {% if LANGUAGE_CODE == 'ar' %}إغلاق{% else %}Close{% endif %}
                    </button>
                    <button type="button" class="btn btn-outline-primary" data-bs-target="#student" type="button"
                      data-bs-toggle="modal">
                      {% if LANGUAGE_CODE == 'ar' %}إضافة طالب جديد{% else %}Add New Student{% endif %}
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Lecture Students  -->




            <!-- Add Student  -->
            <li class="d-flex mb-4 pb-1">
              <button data-bs-target="#student" type="button" data-bs-toggle="modal"
                style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                <div class="avatar flex-shrink-0 me-3">
                  <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                    <i class="fa-solid fa-plus-circle text-primary" style="font-size: 20px;"></i>
                  </div>
                </div>
                <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                  <div class="me-2">
                    <h6 class="mb-0">
                      {% if LANGUAGE_CODE == 'ar' %}
                      إضافة طالب
                      {% else %}
                      Add Student
                      {% endif %}
                    </h6>

                  </div>
                </div>
              </button>
            </li>


            <div class="modal fade" id="student" tabindex="-1" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalCenterTitle">
                      {% if LANGUAGE_CODE == 'ar' %}
                      إضافة طالب إلى
                      {% else %}
                      Add Student To
                      {% endif %} {{lecture.title}}
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <div class="row">

                      <div class="col-12">
                        <!-- Search -->
                        <div class="d-flex align-items-center" style=" width: 100%;">
                          <i class="bx bx-search fs-4 lh-0"></i>
                          <input type="text" class="form-control border-0 shadow-none" id="add-student-filter-input"
                            placeholder="{% if LANGUAGE_CODE == 'ar' %}بحث...{% else %}Search...{% endif %}"
                            style="width: 100%;" oninput="addStudentFilterText()" />
                        </div>
                        <!-- /Search -->
                      </div>

                      <hr class="mb-4">

                      <div class="filter-blocks-container">

                        {% for x in not_subscribed_students %}
                        <div class="filter-block-add-student mt-2" style="display: flex;">
                          <div class="avatar flex-shrink-0 me-3">
                            <div class="">
                              {% if x.image %}
                              <img src="{{x.image.url}}" class="w-100 rounded-circle">
                              {% else %}
                              <img src="{% static 'blank-profile-picture.jpg' %}" class="w-100 rounded-circle">
                              {% endif %}
                            </div>
                          </div>
                          <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                            <div class="me-2">
                              <a class="mb-0" href="{% url 'main' x.user.username %}">{{x.name}}</a>
                            </div>
                            <div class="dropdown">
                              <button class="btn p-0" type="button" id="transactionID" data-bs-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                <i class="bx bx-plus" style="font-size: 25px;"></i>
                              </button>
                              <div class="dropdown-menu dropdown-menu-end" aria-labelledby="transactionID">
                                <form action="/dashboard/add-student-to-lecture" method="post">
                                  {% csrf_token %}
                                  <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                                  <input type="text" name="username" value="{{x.user.username}}" hidden>

                                  <button type="submit" class="dropdown-item">
                                    <i class="fa-solid fa-plus" style="font-size: 12px; padding-right: 10px;"></i>
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    إضافة
                                    {% else %}
                                    Add
                                    {% endif %}
                                  </button>

                                </form>
                              </div>
                            </div>
                          </div>
                        </div>
                        {% endfor %}

                      </div>

                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                      {% if LANGUAGE_CODE == 'ar' %}
                      إغلاق
                      {% else %}
                      Close
                      {% endif %}
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Add Student  -->







            <!-- Lecture Statistics  -->
            <li class="d-flex mb-4 pb-1">
              <button data-bs-target="#stats" type="button" data-bs-toggle="modal"
                style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                <div class="avatar flex-shrink-0 me-3">
                  <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                    <i class="fa-solid fa-chart-line text-primary" style="font-size: 20px;"></i>
                  </div>
                </div>
                <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                  <div class="me-2">
                    <h6 class="mb-0">
                      {% if LANGUAGE_CODE == 'ar' %}
                      إحصائيات المحاضرة
                      {% else %}
                      Lecture Statistics
                      {% endif %}
                    </h6>

                  </div>
                </div>
              </button>
            </li>


            <div class="modal fade" id="stats" tabindex="-1" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalCenterTitle">
                      {% if LANGUAGE_CODE == 'ar' %}
                      إحصائيات {{lecture.title}}
                      {% else %}
                      {{lecture.title}} Statistics
                      {% endif %}
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <div class="row">

                      <!-- Statistics Start -->

                      <!-- Total Students Subscribed  -->
                      <div class="col-md-6 col-12  mb-4 ">
                        <div class="card h-100 shadow">
                          <div class="card-header d-flex align-items-center justify-content-between">
                            <h5 class="card-title m-0 me-2">
                              {% if LANGUAGE_CODE == 'ar' %}
                              إجمالي الطلاب المشتركين
                              {% else %}
                              Total Students Subscribed
                              {% endif %}
                            </h5>
                          </div>
                          <div class="card-body"
                            style="display: flex; justify-content: center; align-items: center; flex-direction: column;">

                            <div class="progress-chart">
                              <div id="circle" class="circle"></div>
                              <div class="inner-text">
                                <span id="percentage"></span>
                                <input type="hidden" hidden id="students_percentage"
                                  value="{{subscribed_students_percentage}}">
                              </div>
                            </div>

                            <section class="mt-4">
                              <h5 style="color: black;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                {{subscribed_students|length}} طالب من {{all_students|length}}
                                {% else %}
                                {{subscribed_students|length}} Student From {{all_students|length}}
                                {% endif %}
                              </h5>
                            </section>

                          </div>
                        </div>
                      </div>
                      <!-- Total Students Subscribed  -->

                      <!--/ Statistics End  -->

                      <!-- General Statistics -->
                      <div class="col-12  mb-4 ">
                        <div class="card h-100 shadow">
                          <div class="card-body"
                            style="display: flex; justify-content: space-between; align-items: center; flex-direction: row;">

                            <div>
                              {% if LANGUAGE_CODE == 'ar' %}
                              إجمالي المشاهدات
                              {% else %}
                              Total Views
                              {% endif %}
                            </div>
                            <div>
                              <div
                                style="display: flex; justify-content: center;align-items: center; width: 30px; height: 30px; color: white;"
                                class="rounded-circle bg-primary">
                                {{lecture_views|length}}
                              </div>
                            </div>

                          </div>
                        </div>
                      </div>
                      <!-- General Statistics -->

                      <hr class="mt-4 mb-4">

                      <div class="mb-2"
                        style="display: flex; justify-content: center; align-items: center; width: 100%;">
                        <h4 class="card-title">
                          {% if LANGUAGE_CODE == 'ar' %}
                          المشاهدات
                          {% else %}
                          Videos Views
                          {% endif %}
                        </h4>
                      </div>

                      <div class="table-responsive text-nowrap">
                        <table class="table">
                          <thead>
                            <tr class="text-nowrap">
                              <th class="t-name">
                                {% if LANGUAGE_CODE == 'ar' %}
                                اسم الطالب
                                {% else %}
                                Student Name
                                {% endif %}
                              </th>
                              <th class="t-video">
                                {% if LANGUAGE_CODE == 'ar' %}
                                اسم الفيديو
                                {% else %}
                                Video Name
                                {% endif %}
                              </th>
                              <th class="t-date">
                                {% if LANGUAGE_CODE == 'ar' %}
                                التاريخ
                                {% else %}
                                Date
                                {% endif %}
                              </th>
                              <th class="t-profile"></th>
                            </tr>
                          </thead>

                          <tbody>
                            {% for x in lecture_views %}
                            <tr>
                              <td class="t-name">{{x.user_name}}</td>
                              <td class="t-video">{{x.title}}</td>
                              <td class="t-date">{{x.created_at|date:"j/n/o"}} , {{x.created_at|date:"h:i A"}}</td>
                              <td class="t-profile">
                                <a href="{% url 'main' x.user.username %}" class="btn btn-primary btn-sm">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  عرض الملف الشخصي
                                  {% else %}
                                  View Profile
                                  {% endif %}
                                </a>
                              </td>
                            </tr>
                            {% endfor %}
                          </tbody>

                        </table>
                      </div>

                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                      {% if LANGUAGE_CODE == 'ar' %}
                      إغلاق
                      {% else %}
                      Close
                      {% endif %}
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Lecture Statistics  -->



            <!-- Lecture Invitation Link  -->
            <li class="d-flex mb-4 pb-1">
              <button data-bs-target="#invite" type="button" data-bs-toggle="modal"
                style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                <div class="avatar flex-shrink-0 me-3">
                  <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                    <i class="fa-solid fa-barcode text-primary" style="font-size: 20px;"></i>
                  </div>
                </div>
                <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                  <div class="me-2">
                    <h6 class="mb-0">
                      {% if LANGUAGE_CODE == 'ar' %}
                      رابط اشتراك المحاضرة
                      {% else %}
                      Lecture Subscription Link
                      {% endif %}
                    </h6>

                  </div>
                </div>
              </button>
            </li>

            <div class="modal fade" id="invite" tabindex="-1" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalCenterTitle">
                      {% if LANGUAGE_CODE == 'ar' %}
                      رابط اشتراك المحاضرة
                      {% else %}
                      Lecture Subscription Link
                      {% endif %}
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                      aria-label="{% if LANGUAGE_CODE == 'ar' %}إغلاق{% else %}Close{% endif %}"></button>
                  </div>
                  <div class="modal-body">
                    <div class="row">
                      <form action="/dashboard/create-lecture-code" method="post">
                        {% csrf_token %}

                        <label for="students_number" class="form-label">
                          {% if LANGUAGE_CODE == 'ar' %}
                          توليد رابط اشتراك محاضرة جديد
                          {% else %}
                          Generate a New Lecture Subscription Link
                          {% endif %}
                        </label>
                        <div class="input-group">
                          <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                          <input id="students_number" name="students" type="text" class="form-control"
                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل عدد الطلاب{% else %}Enter Students Number{% endif %}"
                            aria-label="{% if LANGUAGE_CODE == 'ar' %}اسم المستلم{% else %}Recipient's username{% endif %}"
                            aria-describedby="button-addon2" />
                          <button class="btn btn-primary" type="submit" id="button-addon2">
                            {% if LANGUAGE_CODE == 'ar' %}
                            توليد
                            {% else %}
                            Generate
                            {% endif %}
                          </button>
                        </div>
                      </form>

                      <hr class="mt-3 mb-4">

                      <div class="table-responsive text-nowrap">
                        <table class="table">
                          <thead>
                            <tr class="text-nowrap">
                              <th class="t-link">
                                {% if LANGUAGE_CODE == 'ar' %}
                                الرابط
                                {% else %}
                                Link
                                {% endif %}
                              </th>
                              <th class="t-students-entered">
                                {% if LANGUAGE_CODE == 'ar' %}
                                الطلاب المسجلين
                                {% else %}
                                Students Entered
                                {% endif %}
                              </th>
                              <th class="t-students-number">
                                {% if LANGUAGE_CODE == 'ar' %}
                                عدد الطلاب
                                {% else %}
                                Students Number
                                {% endif %}
                              </th>
                              <th class="t-creation-date">
                                {% if LANGUAGE_CODE == 'ar' %}
                                تاريخ الإنشاء
                                {% else %}
                                Creation Date
                                {% endif %}
                              </th>
                              <th class="t-view-students"></th>
                              <th class="t-copy">
                                {% if LANGUAGE_CODE == 'ar' %}
                                نسخ
                                {% else %}
                                Copy
                                {% endif %}
                              </th>
                              <th class="t-delete">
                                {% if LANGUAGE_CODE == 'ar' %}
                                حذف
                                {% else %}
                                Delete
                                {% endif %}
                              </th>
                            </tr>
                          </thead>
                          <tbody>
                            {% for x in valid_codes %}
                            <tr>
                              <td class="t-link">{{x.code_id}} <span class="bg-primary text-white p-1"
                                  style="font-size: 10px;">{% if LANGUAGE_CODE == 'ar' %}صالح{% else %}Valid{% endif %}</span>
                              </td>
                              <td class="t-students-entered">{{x.used_times}}</td>
                              <td class="t-students-number">{{x.total_students_number}}</td>
                              <td class="t-creation-date">{{x.created_at}}</td>
                              <td class="t-view-students">
                                <a class="btn btn-outline-primary"
                                  href="{% url 'lecture-code-students' lecture.id x.code_id %}">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  عرض الطلاب
                                  {% else %}
                                  View Students
                                  {% endif %}
                                </a>
                              </td>
                              <td class="t-copy">
                                <input type="text"
                                  value="http://127.0.0.1:8000/ar/lecture/{{lecture.id}}/join/{{x.code_id}}"
                                  id="{{x.code_id}}" hidden>
                                <button type="button" class="btn btn-primary" onclick="copyValue('{{x.code_id}}')">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  نسخ
                                  {% else %}
                                  Copy
                                  {% endif %}
                                </button>
                              </td>
                              <td class="t-delete">
                                <form action="/dashboard/delete-lecture-code" method="post">
                                  {% csrf_token %}
                                  <input type="text" name="code-id" value="{{x.code_id}}" hidden>
                                  <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                                  <button class="btn btn-danger" type="submit">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    حذف
                                    {% else %}
                                    Delete
                                    {% endif %}
                                  </button>
                                </form>
                              </td>
                            </tr>
                            {% endfor %}

                            {% for x in expired_codes %}
                            <tr>
                              <td class="t-link">{{x.code_id}} <span class="bg-danger text-white p-1"
                                  style="font-size: 10px;">{% if LANGUAGE_CODE == 'ar' %}منتهي{% else %}Expired{% endif %}</span>
                              </td>
                              <td class="t-students-entered">{{x.used_times}}</td>
                              <td class="t-students-number">{{x.total_students_number}}</td>
                              <td class="t-creation-date">{{x.created_at}}</td>
                              <td class="t-view-students">
                                <a class="btn btn-outline-primary"
                                  href="{% url 'lecture-code-students' lecture.id x.code_id %}">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  عرض الطلاب
                                  {% else %}
                                  View Students
                                  {% endif %}
                                </a>
                              </td>
                              <td class="t-copy">
                                <input type="text"
                                  value="http://127.0.0.1:8000/ar/lecture/{{lecture.id}}/join/{{x.code_id}}"
                                  id="{{x.code_id}}" hidden>
                                <button type="button" class="btn btn-primary" onclick="copyValue('{{x.code_id}}')">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  نسخ
                                  {% else %}
                                  Copy
                                  {% endif %}
                                </button>
                              </td>
                              <td class="t-delete">
                                <form action="/dashboard/delete-lecture-code" method="post">
                                  {% csrf_token %}
                                  <input type="text" name="code-id" value="{{x.code_id}}" hidden>
                                  <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                                  <button class="btn btn-danger" type="submit">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    حذف
                                    {% else %}
                                    Delete
                                    {% endif %}
                                  </button>
                                </form>
                              </td>
                            </tr>
                            {% endfor %}

                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                      {% if LANGUAGE_CODE == 'ar' %}
                      إغلاق
                      {% else %}
                      Close
                      {% endif %}
                    </button>
                  </div>
                </div>
              </div>
            </div>


            <!-- Lecture Invitation Link  -->


            <!-- Discounts  -->
            <li class="d-flex mb-4 pb-1">
              <button data-bs-target="#discounts" type="button" data-bs-toggle="modal"
                style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                <div class="avatar flex-shrink-0 me-3">
                  <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                    <i class="fa-solid fa-tags text-primary" style="font-size: 20px;"></i>
                  </div>
                </div>
                <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                  <div class="me-2">
                    <h6 class="mb-0">
                      {% if LANGUAGE_CODE == 'ar' %}
                      خصومات المحاضرة
                      {% else %}
                      Lecture Discounts
                      {% endif %}
                    </h6>

                  </div>
                </div>
              </button>
            </li>

            <div class="modal fade" id="discounts" tabindex="-1" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalCenterTitle">
                      {% if LANGUAGE_CODE == 'ar' %}
                      خصومات المحاضرة
                      {% else %}
                      Lecture Discounts
                      {% endif %}
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <div class="row">
                      <form action="/dashboard/create-lecture-discount" method="post">
                        {% csrf_token %}
                        <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>

                        <label for="discount_value" class="form-label mb-1">
                          {% if LANGUAGE_CODE == 'ar' %}
                          قيمة الخصم
                          {% else %}
                          Discount Value
                          {% endif %}
                        </label>
                        <div class="input-group mb-3">
                          <input id="discount_value" name="discount" type="text" class="form-control"
                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل قيمة الخصم{% else %}Enter Discount Value{% endif %}" />
                        </div>

                        <label for="students_number" class="form-label mb-1">
                          {% if LANGUAGE_CODE == 'ar' %}
                          عدد الطلاب
                          {% else %}
                          Students Number
                          {% endif %}
                        </label>
                        <div class="input-group mb-4">
                          <input id="students_number" name="students" type="text" class="form-control"
                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل عدد الطلاب{% else %}Enter Students Number{% endif %}" />
                        </div>

                        <button class="btn btn-primary w-100" type="submit" id="button-addon2">
                          {% if LANGUAGE_CODE == 'ar' %}
                          توليد
                          {% else %}
                          Generate
                          {% endif %}
                        </button>
                      </form>

                      <hr class="mt-4 mb-4">

                      <div class="table-responsive text-nowrap">
                        <table class="table">
                          <thead>
                            <tr class="text-nowrap">
                              <th class="t-serial">
                                {% if LANGUAGE_CODE == 'ar' %}
                                الرقم التسلسلي
                                {% else %}
                                Serial
                                {% endif %}
                              </th>
                              <th class="t-value">
                                {% if LANGUAGE_CODE == 'ar' %}
                                القيمة
                                {% else %}
                                Value
                                {% endif %}
                              </th>
                              <th class="t-students-entered">
                                {% if LANGUAGE_CODE == 'ar' %}
                                مرات الاستخدام
                                {% else %}
                                Used Times
                                {% endif %}
                              </th>
                              <th class="t-students-number">
                                {% if LANGUAGE_CODE == 'ar' %}
                                عدد الطلاب
                                {% else %}
                                Students Number
                                {% endif %}
                              </th>
                              <th class="t-creation-date">
                                {% if LANGUAGE_CODE == 'ar' %}
                                تاريخ الإنشاء
                                {% else %}
                                Creation Date
                                {% endif %}
                              </th>
                              <th class="t-view-students"></th>
                              <th class="t-copy"></th>
                              <th class="t-delete"></th>
                            </tr>
                          </thead>
                          <tbody>
                            {% for x in valid_discounts %}
                            <tr>
                              <td class="t-serial">
                                {{x.discount_id}} <span class="bg-primary text-white p-1" style="font-size: 10px;">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  صالح
                                  {% else %}
                                  Valid
                                  {% endif %}
                                </span>
                              </td>
                              <td class="t-value">{{x.discount_value}}%</td>
                              <td class="t-students-entered">{{x.used_times}}</td>
                              <td class="t-students-number">{{x.total_students_number}}</td>
                              <td class="t-creation-date">{{x.created_at}}</td>
                              <td class="t-view-students">
                                <a class="btn btn-outline-primary"
                                  href="{% url 'lecture-code-students' lecture.id x.discount_id %}">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  عرض الطلاب
                                  {% else %}
                                  View Students
                                  {% endif %}
                                </a>
                              </td>
                              <td class="t-copy">
                                <input type="text"
                                  value="https://kerogoda.pythonanywhere.com/{% if LANGUAGE_CODE == 'ar' %}ar{% else %}en{% endif %}/lecture/{{lecture.id}}?discount={{x.discount_id}}"
                                  id="{{x.discount_id}}" hidden>
                                <button type="button" class="btn btn-primary" onclick="copyValue('{{x.discount_id}}')">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  نسخ
                                  {% else %}
                                  Copy
                                  {% endif %}
                                </button>
                              </td>
                              <td class="t-delete">
                                <form action="/dashboard/delete-lecture-discount" method="post">
                                  {% csrf_token %}
                                  <input type="text" name="discount-id" value="{{x.discount_id}}" hidden>
                                  <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                                  <button class="btn btn-danger" type="submit">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    حذف
                                    {% else %}
                                    Delete
                                    {% endif %}
                                  </button>
                                </form>
                              </td>
                            </tr>
                            {% endfor %}

                            {% for x in expired_discounts %}
                            <tr>
                              <td class="t-serial">
                                {{x.discount_id}} <span class="bg-danger text-white p-1" style="font-size: 10px;">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  منتهي الصلاحية
                                  {% else %}
                                  Expired
                                  {% endif %}
                                </span>
                              </td>
                              <td class="t-value">{{x.discount_value}}%</td>
                              <td class="t-students-entered">{{x.used_times}}</td>
                              <td class="t-students-number">{{x.total_students_number}}</td>
                              <td class="t-creation-date">{{x.created_at}}</td>
                              <td class="t-view-students">
                                <a class="btn btn-outline-primary"
                                  href="{% url 'lecture-code-students' lecture.id x.discount_id %}">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  عرض الطلاب
                                  {% else %}
                                  View Students
                                  {% endif %}
                                </a>
                              </td>
                              <td class="t-delete">
                                <form action="/dashboard/delete-lecture-discount" method="post">
                                  {% csrf_token %}
                                  <input type="text" name="discount-id" value="{{x.discount_id}}" hidden>
                                  <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                                  <button class="btn btn-danger" type="submit">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    حذف
                                    {% else %}
                                    Delete
                                    {% endif %}
                                  </button>
                                </form>
                              </td>
                            </tr>
                            {% endfor %}
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                      {% if LANGUAGE_CODE == 'ar' %}
                      إغلاق
                      {% else %}
                      Close
                      {% endif %}
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Discounts  -->





            <script>
              $(document).ready(function () {
                $('#discounts').modal('show'); // Show the modal on page load
              });
            </script>


            <script>
              function copyValue(inputId) {
                var input = document.getElementById(inputId);
                input.select();
                document.execCommand("copy");
                alert("Lecture Subscription Link Copied: " + input.value);

              }
            </script>


          </ul>








        </div>
      </div>
      <!-- Settings Offcanvas  -->




      <!-- Add Part Offcanvas  -->
      <div class="offcanvas offcanvas-end" tabindex="-1" id="addPartOffcanvas" aria-labelledby="offcanvasEndLabel">
        <div class="offcanvas-header" style="background-color: #7a6ad8;">
          <h5 id="offcanvasEndLabel" class="offcanvas-title" style="color: white;">
            {% if LANGUAGE_CODE == 'ar' %}
            إضافة جزء
            {% else %}
            Add Part
            {% endif %}
          </h5>

          <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body  mx-0 flex-grow-0">

          <!-- New Part  -->
          <li class="d-flex mb-4 pb-1">
            <button data-bs-target="#add-new-part" type="button" data-bs-toggle="modal"
              style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
              <div class="avatar flex-shrink-0 me-3">
                <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                  <i class="fa-solid fa-plus-circle text-primary" style="font-size: 20px;"></i>
                </div>
              </div>
              <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                <div class="me-2">
                  <h6 class="mb-0">
                    {% if LANGUAGE_CODE == 'ar' %}
                    جزء جديد
                    {% else %}
                    New Part
                    {% endif %}
                  </h6>

                </div>
              </div>
            </button>
          </li>

          <div class="modal fade" id="add-new-part" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="modalCenterTitle">
                    {% if LANGUAGE_CODE == 'ar' %}
                    إضافة جزء جديد
                    {% else %}
                    Add New Part
                    {% endif %}
                  </h5>

                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                  <div class="row">
                    <div class="col-12">
                      <div class="demo-inline-spacing mt-3">

                        <div class="list-group list-group-horizontal-md text-md-center">
                          <a class="list-group-item list-group-item-action active" id="home-list-item"
                            data-bs-toggle="list" href="#horizontal-video">
                            {% if LANGUAGE_CODE == 'ar' %}
                            فيديو
                            {% else %}
                            Video
                            {% endif %}
                          </a>
                          <a class="list-group-item list-group-item-action" id="profile-list-item" data-bs-toggle="list"
                            href="#horizontal-assignment">
                            {% if LANGUAGE_CODE == 'ar' %}
                            تكليف
                            {% else %}
                            Assignment
                            {% endif %}
                          </a>
                          <a class="list-group-item list-group-item-action" id="messages-list-item"
                            data-bs-toggle="list" href="#horizontal-file">
                            {% if LANGUAGE_CODE == 'ar' %}
                            ملف PDF
                            {% else %}
                            PDF File
                            {% endif %}
                          </a>
                          <a class="list-group-item list-group-item-action" id="settings-list-item"
                            data-bs-toggle="list" href="#horizontal-link">
                            {% if LANGUAGE_CODE == 'ar' %}
                            رابط
                            {% else %}
                            Link
                            {% endif %}
                          </a>
                        </div>


                        <div class="tab-content px-0 mt-0">


                          <!-- Video Tab  -->
                          <div class="tab-pane fade show active" id="horizontal-video" style="padding: 0; margin: 0;">





                            <div class="nav-align-top mb-4">

                              <ul class="nav nav-pills mb-3 nav-fill" role="tablist">
                                <li class="nav-item">
                                  <button type="button" class="nav-link active" role="tab" data-bs-toggle="tab"
                                    data-bs-target="#upload-nav-pill" aria-controls="navs-pills-justified-home"
                                    aria-selected="true">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    رفع
                                    {% else %}
                                    Upload
                                    {% endif %}
                                  </button>
                                </li>
                                <li class="nav-item">
                                  <button type="button" class="nav-link" role="tab" data-bs-toggle="tab"
                                    data-bs-target="#youtube-nav-pill" aria-controls="navs-pills-justified-profile"
                                    aria-selected="false">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    يوتيوب
                                    {% else %}
                                    Youtube
                                    {% endif %}
                                  </button>
                                </li>
                                <li class="nav-item">
                                  <button type="button" class="nav-link" role="tab" data-bs-toggle="tab"
                                    data-bs-target="#player-nav-pill" aria-controls="navs-pills-justified-messages"
                                    aria-selected="false">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    رابط مشغل
                                    {% else %}
                                    Player Link
                                    {% endif %}
                                  </button>
                                </li>
                              </ul>


                              <div class="tab-content">

                                <div class="tab-pane fade show active" id="upload-nav-pill" role="tabpanel">

                                  <form action="/dashboard/add-part" method="post" enctype="multipart/form-data">

                                    {% csrf_token %}

                                    <input type="text" name="type" value="video" hidden>
                                    <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>

                                    <!-- Missing Inputs  -->
                                    <input type="text" name="youtube-link" value="" hidden>
                                    <input type="text" name="player-link" value="" hidden>

                                    <div class="container-fluid" style="padding: 0; margin: 0;">
                                      <div class="row">

                                        <div class="col-12 mb-3">
                                          <div
                                            style="display: flex; justify-content: center; align-items: center; width: 100%;">
                                            <h4 class="modal-title" id="modalCenterTitle">
                                              {% if LANGUAGE_CODE == 'ar' %}
                                              رفع الفيديو
                                              {% else %}
                                              Upload Video
                                              {% endif %}
                                            </h4>
                                          </div>
                                        </div>

                                        <div class="col-12 mb-3">
                                          <video id="videoPlayer" controls style="width: 100%; display: none;"></video>
                                        </div>

                                        <div class="col-12 mb-3">
                                          <label for="videoInput" class="form-label">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            فيديو
                                            {% else %}
                                            Video
                                            {% endif %}
                                          </label>
                                          <input name="video" type="file" id="videoInput" accept="video/*"
                                            class="form-control group-image-input">
                                        </div>

                                        <div class="col-12 mb-3">
                                          <label for="title" class="form-label">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            اسم الفيديو (العنوان)
                                            {% else %}
                                            Video Name (Title)
                                            {% endif %}
                                          </label>
                                          <input type="text" name="title" id="title" class="form-control"
                                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل العنوان{% else %}Enter Title{% endif %}" />
                                        </div>

                                        <div class="col-12 mb-3">
                                          <label for="duration" class="form-label">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            مدة الفيديو
                                            {% else %}
                                            Video Duration
                                            {% endif %}
                                          </label>
                                          <input type="text" id="duration" name="duration" class="form-control"
                                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل مدة الفيديو (بالدقائق){% else %}Enter Video Duration (in mins){% endif %}" />
                                        </div>

                                        <div class="col-12 mb-3">
                                          <label for="views" class="form-label">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            حد المشاهدات
                                            {% else %}
                                            Views Limit
                                            {% endif %}
                                          </label>
                                          <input type="text" id="views" name="views" class="form-control"
                                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل حد المشاهدات{% else %}Enter Views Limit{% endif %}" />
                                        </div>

                                        <div class="col-12 mb-3">
                                          <button type="submit" class="btn btn-primary w-100">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            حفظ
                                            {% else %}
                                            Save
                                            {% endif %}
                                          </button>
                                        </div>
                                      </div>
                                    </div>

                                  </form>

                                </div>

                                <div class="tab-pane fade" id="youtube-nav-pill" role="tabpanel">

                                  <form action="/dashboard/add-part" method="post" enctype="multipart/form-data">

                                    {% csrf_token %}

                                    <input type="text" name="type" value="video" hidden>
                                    <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>

                                    <!-- Missing Input  -->
                                    <input type="text" name="player-link" value="" hidden>

                                    <div class="container-fluid" style="padding: 0; margin: 0;">
                                      <div class="row">

                                        <div class="col-12 mb-3">
                                          <div
                                            style="display: flex; justify-content: center; align-items: center; width: 100%;">
                                            <h4 class="modal-title" id="modalCenterTitle">
                                              {% if LANGUAGE_CODE == 'ar' %}
                                              تحميل فيديو يوتيوب
                                              {% else %}
                                              Upload Youtube Video
                                              {% endif %}
                                            </h4>
                                          </div>
                                        </div>

                                        <div class="col-12 mb-3">
                                          <iframe style="border-radius: 10px; display: none;" width="100%" height="300"
                                            src="" title="YouTube video player" id="youtubePlayer" frameborder="0"
                                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                            allowfullscreen></iframe>
                                        </div>

                                        <div class="col-12 mb-3">
                                          <label for="youtubeLink" class="form-label">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            رابط الفيديو (رابط يوتيوب)
                                            {% else %}
                                            Video Link (Youtube Link)
                                            {% endif %}
                                          </label>
                                          <input type="text" id="youtubeLink" class="form-control"
                                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل رابط الفيديو{% else %}Enter Video Link{% endif %}"
                                            oninput="generateEmbedLink()" />
                                        </div>

                                        <input type="text" id="returned-value" name="youtube-link"
                                          placeholder="Embed Link" hidden>

                                        <div class="col-12 mb-3">
                                          <label for="title" class="form-label">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            اسم الفيديو (العنوان)
                                            {% else %}
                                            Video Name (Title)
                                            {% endif %}
                                          </label>
                                          <input type="text" name="title" id="title" class="form-control"
                                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل العنوان{% else %}Enter Title{% endif %}" />
                                        </div>

                                        <div class="col-12 mb-3">
                                          <label for="duration" class="form-label">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            مدة الفيديو
                                            {% else %}
                                            Video Duration
                                            {% endif %}
                                          </label>
                                          <input type="text" id="duration" name="duration" class="form-control"
                                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل مدة الفيديو (بالدقائق){% else %}Enter Video Duration (in mins){% endif %}" />
                                        </div>

                                        <div class="col-12 mb-3">
                                          <label for="views" class="form-label">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            حد المشاهدات
                                            {% else %}
                                            Views Limit
                                            {% endif %}
                                          </label>
                                          <input type="text" id="views" name="views" class="form-control"
                                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل حد المشاهدات{% else %}Enter Views Limit{% endif %}" />
                                        </div>

                                        <div class="col-12 mb-3">
                                          <button type="submit" class="btn btn-primary w-100">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            حفظ
                                            {% else %}
                                            Save
                                            {% endif %}
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                  </form>

                                  <script>
                                    function generateEmbedLink() {
                                      // Get the YouTube link from the input
                                      const youtubeLink = document.getElementById('youtubeLink').value;
                                      const youtubePlayer = document.getElementById('youtubePlayer');
                                      let videoId = '';

                                      // Regular expression to extract video ID from the YouTube link
                                      const youtubeRegex =
                                        /(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?|.*[?&]v)\/|.*[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                                      const match = youtubeLink.match(youtubeRegex);

                                      // If there's a match, assign the video ID
                                      if (match && match[1]) {
                                        videoId = match[1];
                                      }

                                      // Create the embed link
                                      const embedLink = `https://www.youtube.com/embed/${videoId}`;

                                      // Set the embed link in the returned-value input
                                      document.getElementById('returned-value').value = embedLink;
                                      youtubePlayer.src = embedLink;
                                      youtubePlayer.style.display = 'block';

                                    }
                                  </script>

                                </div>

                                <div class="tab-pane fade" id="player-nav-pill" role="tabpanel">

                                  <form action="/dashboard/add-part" method="post" enctype="multipart/form-data">

                                    {% csrf_token %}

                                    <input type="text" name="type" value="video" hidden>
                                    <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>

                                    <!-- Missing Input  -->
                                    <input type="text" name="youtube-link" value="" hidden>

                                    <div class="container-fluid" style="padding: 0; margin: 0;">
                                      <div class="row">

                                        <div class="col-12 mb-3">
                                          <div
                                            style="display: flex; justify-content: center; align-items: center; width: 100%;">
                                            <h4 class="modal-title" id="modalCenterTitle">
                                              {% if LANGUAGE_CODE == 'ar' %}
                                              تحميل فيديو من مشغل خارجي
                                              {% else %}
                                              Upload External Player Video
                                              {% endif %}
                                            </h4>
                                          </div>
                                        </div>

                                        <div class="col-12 mb-3">
                                          <label for="playerLink" class="form-label">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            رابط الفيديو (رابط مشغل)
                                            {% else %}
                                            Video Link (Player Link)
                                            {% endif %}
                                          </label>
                                          <input type="text" id="playerLink" name="player-link" class="form-control"
                                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل رابط الفيديو{% else %}Enter Video Link{% endif %}" />
                                        </div>

                                        <div class="col-12 mb-3">
                                          <label for="title" class="form-label">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            اسم الفيديو (العنوان)
                                            {% else %}
                                            Video Name (Title)
                                            {% endif %}
                                          </label>
                                          <input type="text" name="title" id="title" class="form-control"
                                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل العنوان{% else %}Enter Title{% endif %}" />
                                        </div>

                                        <div class="col-12 mb-3">
                                          <label for="duration" class="form-label">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            مدة الفيديو
                                            {% else %}
                                            Video Duration
                                            {% endif %}
                                          </label>
                                          <input type="text" id="duration" name="duration" class="form-control"
                                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل مدة الفيديو (بالدقائق){% else %}Enter Video Duration (in mins){% endif %}" />
                                        </div>

                                        <div class="col-12 mb-3">
                                          <label for="views" class="form-label">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            حد المشاهدات
                                            {% else %}
                                            Views Limit
                                            {% endif %}
                                          </label>
                                          <input type="text" id="views" name="views" class="form-control"
                                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل حد المشاهدات{% else %}Enter Views Limit{% endif %}" />
                                        </div>

                                        <div class="col-12 mb-3">
                                          <button type="submit" class="btn btn-primary w-100">
                                            {% if LANGUAGE_CODE == 'ar' %}
                                            حفظ
                                            {% else %}
                                            Save
                                            {% endif %}
                                          </button>
                                        </div>
                                      </div>
                                    </div>

                                  </form>
                                </div>

                              </div>


                            </div>











                          </div>
                          <!-- Video Tab  -->

                          <!-- Assignment Tab  -->
                          <div class="tab-pane fade" id="horizontal-assignment">
                            <form action="/create-assignment" method="post" enctype="multipart/form-data">

                              {% csrf_token %}

                              <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>

                              <div class="container-fluid" style="padding: 0; margin: 0;">
                                <div class="row">

                                  <div class="col-12 mb-3">
                                    <div
                                      style="display: flex; justify-content: center; align-items: center; width: 100%;">
                                      <h4 class="modal-title" id="modalCenterTitle">
                                        {% if LANGUAGE_CODE == 'ar' %}
                                        رفع تكليف
                                        {% else %}
                                        Upload Assignment
                                        {% endif %}
                                      </h4>
                                    </div>
                                  </div>

                                  <div class="col-12 mb-3">
                                    <label for="title" class="form-label">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      اسم التكليف (العنوان)
                                      {% else %}
                                      Assignment Name (Title)
                                      {% endif %}
                                    </label>
                                    <input type="text" name="title" id="title" class="form-control"
                                      placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل العنوان{% else %}Enter Title{% endif %}" />
                                  </div>

                                  <div class="col-12 mb-3">
                                    <label for="time" class="form-label">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      وقت التكليف (بالدقائق)
                                      {% else %}
                                      Assignment Timer (Minutes)
                                      {% endif %}
                                    </label>
                                    <input type="text" name="time" id="time" class="form-control"
                                      placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الدقائق{% else %}Enter Minutes{% endif %}" />
                                  </div>

                                  <div class="col-12 mb-3">
                                    <select class="form-select" id="exampleFormControlSelect1"
                                      aria-label="{% if LANGUAGE_CODE == 'ar' %}اختر نوع الواجب{% else %}Default select example{% endif %}"
                                      name="type">
                                      <option value="test" selected>
                                        {% if LANGUAGE_CODE == 'ar' %}
                                        اختبار
                                        {% else %}
                                        Test
                                        {% endif %}
                                      </option>
                                      <option value="homework">
                                        {% if LANGUAGE_CODE == 'ar' %}
                                        واجب منزلي
                                        {% else %}
                                        Homework
                                        {% endif %}
                                      </option>
                                    </select>
                                  </div>

                                  <div class="col-12 mb-3">
                                    <button type="submit" class="btn btn-primary w-100">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      حفظ
                                      {% else %}
                                      Save
                                      {% endif %}
                                    </button>
                                  </div>
                                </div>
                              </div>

                            </form>
                          </div>
                          <!-- Assignment Tab  -->



                          <!-- File Tab  -->
                          <div class="tab-pane fade" id="horizontal-file">

                            <form action="/dashboard/add-part" method="post" enctype="multipart/form-data">

                              {% csrf_token %}

                              <input type="text" name="type" value="file" hidden>
                              <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>

                              <div class="container-fluid" style="padding: 0; margin: 0;">
                                <div class="row">

                                  <div class="col-12 mb-3">
                                    <div
                                      style="display: flex; justify-content: center; align-items: center; width: 100%;">
                                      <h4 class="modal-title" id="modalCenterTitle">
                                        {% if LANGUAGE_CODE == 'ar' %}
                                        رفع ملف PDF
                                        {% else %}
                                        Upload PDF File
                                        {% endif %}
                                      </h4>
                                    </div>
                                  </div>

                                  <div class="col-12 mb-3">
                                    <iframe id="pdfFramejs"
                                      style="display:none; width: 100%;height: fit-content; max-height: 600px;"></iframe>
                                  </div>

                                  <div class="col-12 mb-3">
                                    <label class="form-label">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      ملف
                                      {% else %}
                                      File
                                      {% endif %}
                                    </label>
                                    <input type="file" id="fileInputjs" name="file-upload" class="form-control"
                                      accept="application/pdf" required />
                                  </div>

                                  <div class="col-12 mb-3">
                                    <label for="title" class="form-label">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      اسم الملف (العنوان)
                                      {% else %}
                                      File Name (Title)
                                      {% endif %}
                                    </label>
                                    <input type="text" name="title" id="title" class="form-control"
                                      placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل العنوان{% else %}Enter Title{% endif %}" />
                                  </div>

                                  <div class="col-12 mb-3">
                                    <label for="pages-number" class="form-label">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      عدد الصفحات
                                      {% else %}
                                      Pages Number
                                      {% endif %}
                                    </label>
                                    <input type="text" name="pages-number" id="pages-number" class="form-control"
                                      placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل عدد الصفحات{% else %}Enter Pages Number{% endif %}" />
                                  </div>

                                  <div class="col-12 mb-3">
                                    <button type="submit" class="btn btn-primary w-100">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      حفظ
                                      {% else %}
                                      Save
                                      {% endif %}
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </form>

                            <script>
                              const fileInputjs = document.getElementById('fileInputjs');
                              const pdfFramejs = document.getElementById('pdfFramejs');

                              fileInputjs.addEventListener('change', function (event) {
                                const file = event.target.files[0];
                                if (file && file.type === "application/pdf") {
                                  const fileURL = URL.createObjectURL(file);
                                  pdfFramejs.src = fileURL;
                                  pdfFramejs.style.display = "block"; // Show the iframe
                                } else {
                                  alert(
                                    "{% if LANGUAGE_CODE == 'ar' %}يرجى رفع ملف PDF صالح.{% else %}Please upload a valid PDF file.{% endif %}"
                                  );
                                  pdfFramejs.src = ""; // Clear the iframe
                                  pdfFramejs.style.display = "none"; // Hide the iframe
                                }
                              });
                            </script>

                          </div>
                          <!-- File Tab  -->


                          <!-- Link Tab  -->
                          <div class="tab-pane fade" id="horizontal-link">

                            <form action="/dashboard/add-part" method="post" enctype="multipart/form-data">

                              {% csrf_token %}

                              <input type="text" name="type" value="link" hidden>
                              <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>

                              <div class="container-fluid" style="padding: 0; margin: 0;">
                                <div class="row">

                                  <div class="col-12 mb-3">
                                    <div
                                      style="display: flex; justify-content: center; align-items: center; width: 100%;">
                                      <h4 class="modal-title" id="modalCenterTitle">
                                        {% if LANGUAGE_CODE == 'ar' %}
                                        رفع رابط
                                        {% else %}
                                        Upload Link
                                        {% endif %}
                                      </h4>
                                    </div>
                                  </div>

                                  <div class="col-12 mb-3">
                                    <label for="link" class="form-label">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      رابط (URL)
                                      {% else %}
                                      Link (URL)
                                      {% endif %}
                                    </label>
                                    <input type="text" name="link" id="link" class="form-control"
                                      placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل رابط URL{% else %}Enter Link URL{% endif %}" />
                                  </div>

                                  <div class="col-12 mb-3">
                                    <label for="title" class="form-label">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      اسم الرابط (العنوان)
                                      {% else %}
                                      Link Name (Title)
                                      {% endif %}
                                    </label>
                                    <input type="text" name="title" id="title" class="form-control"
                                      placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل العنوان{% else %}Enter Title{% endif %}" />
                                  </div>

                                  <div class="col-12 mb-3">
                                    <button type="submit" class="btn btn-primary w-100">
                                      {% if LANGUAGE_CODE == 'ar' %}
                                      حفظ
                                      {% else %}
                                      Save
                                      {% endif %}
                                    </button>
                                  </div>
                                </div>
                              </div>
                            </form>

                          </div>
                          <!-- Link Tab  -->



                        </div>
                      </div>
                    </div>
                  </div>




                </div>

                <div class="modal-footer">
                  <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                    {% if LANGUAGE_CODE == 'ar' %}
                    إغلاق
                    {% else %}
                    Close
                    {% endif %}
                  </button>
                  <button type="button" class="btn btn-primary" data-bs-target="#add-existing-part" type="button"
                    data-bs-toggle="modal">
                    {% if LANGUAGE_CODE == 'ar' %}
                    إضافة جزء موجود
                    {% else %}
                    Add Existing Part
                    {% endif %}
                  </button>
                </div>


              </div>
            </div>
          </div>
          <!-- New Part  -->


          <!-- Existing Part  -->
          <li class="d-flex mb-4 pb-1">
            <button data-bs-target="#add-existing-part" type="button" data-bs-toggle="modal"
              style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
              <div class="avatar flex-shrink-0 me-3">
                <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                  <i class="fa-solid fa-plus text-primary" style="font-size: 20px;"></i>
                </div>
              </div>
              <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                <div class="me-2">
                  <h6 class="mb-0">
                    {% if LANGUAGE_CODE == 'ar' %}
                    جزء موجود
                    {% else %}
                    Existing Part
                    {% endif %}
                  </h6>

                </div>
              </div>
            </button>
          </li>

          <div class="modal fade" id="add-existing-part" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="modalCenterTitle">
                    {% if LANGUAGE_CODE == 'ar' %}
                    إضافة جزء موجود
                    {% else %}
                    Add Existing Part
                    {% endif %}
                  </h5>

                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <div class="row">


                    <ul class="p-0 m-0">

                      {% if another_lectures_parts %}
                      {% for x in another_lectures_parts %}
                      <li class="d-flex mb-3">
                        <div class="avatar flex-shrink-0 me-3">
                          <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">

                            {% if x.type == 'video' %}
                            <i class="fa-solid fa-video text-primary"
                              style="font-size: 20px; padding: 0; margin: 0;"></i>
                            {% endif %}

                            {% if x.type == 'assignment' %}
                            <i class="fa-solid fa-file-alt text-primary"
                              style="font-size: 20px; padding: 0; margin: 0;"></i>
                            {% endif %}

                            {% if x.type == 'file' %}
                            <i class="fa-solid fa-file text-primary"
                              style="font-size: 20px; padding: 0; margin: 0;"></i>
                            {% endif %}

                            {% if x.type == 'link' %}
                            <i class="fa-solid fa-link text-primary"
                              style="font-size: 20px; padding: 0; margin: 0;"></i>
                            {% endif %}


                          </div>
                        </div>
                        <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                          <div class="me-2">
                            <small class="text-muted d-block mb-1">{{x.created_at}}</small>
                            <h6 class="mb-0">{{x.title}}</h6>
                          </div>


                          <div class="dropdown">
                            <button class="btn p-0" type="button" id="transactionID" data-bs-toggle="dropdown"
                              aria-haspopup="true" aria-expanded="false">
                              <i class="bx bx-dots-vertical-rounded"></i>
                            </button>
                            <div class="dropdown-menu dropdown-menu-end" aria-labelledby="transactionID">
                              <form action="/dashboard/add-part-to-lecture" method="post">
                                {% csrf_token %}
                                <input type="text" name="part-id" value="{{x.part_id}}" hidden>
                                <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>

                                <input type="text" name="type" value="{{x.type}}" hidden>

                                {% if x.type == 'video' %}
                                <a class="dropdown-item" href="{% url 'lecture-video' x.lecture_id x.part_id %}"><i
                                    class="fa-solid fa-eye" style="font-size: 12px; padding-right: 10px;"></i>
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  عرض
                                  {% else %}
                                  View
                                  {% endif %}
                                </a>
                                {% endif %}

                                {% if x.type == 'assignment' %}
                                <a class="dropdown-item" href="{% url 'lecture-assignment' x.lecture_id x.part_id %}"><i
                                    class="fa-solid fa-eye" style="font-size: 12px; padding-right: 10px;"></i>
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  عرض
                                  {% else %}
                                  View
                                  {% endif %}
                                </a>
                                {% endif %}

                                {% if x.type == 'file' %}
                                <a class="dropdown-item" href="{% url 'lecture-attachment' x.lecture_id x.part_id %}"><i
                                    class="fa-solid fa-eye" style="font-size: 12px; padding-right: 10px;"></i>
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  عرض
                                  {% else %}
                                  View
                                  {% endif %}
                                </a>
                                {% endif %}

                                {% if x.type == 'link' %}
                                <a class="dropdown-item" href="{% url 'lecture-attachment' x.lecture_id x.part_id %}"><i
                                    class="fa-solid fa-eye" style="font-size: 12px; padding-right: 10px;"></i>
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  عرض
                                  {% else %}
                                  View
                                  {% endif %}
                                </a>
                                {% endif %}


                                <button type="submit" class="dropdown-item"><i class="fa-solid fa-plus-circle"
                                    style="font-size: 12px; padding-right: 10px;"></i>
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  اضافة
                                  {% else %}
                                  Add
                                  {% endif %}
                                </button>

                              </form>

                              {% if x.lecture_exist == False %}
                              <form action="/dashboard/delete-part" method="post" enctype="multipart/form-data">
                                {% csrf_token %}
                                <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                                <input type="text" name="part-id" value="{{x.part_id}}" hidden>
                                <input class="form-check-input" type="checkbox" name="accountActivation"
                                  id="accountActivation" checked hidden />
                                <button type="submit" class="dropdown-item"><i class="fa-solid fa-trash"
                                    style="font-size: 12px; padding-right: 10px;"></i>
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  مسح
                                  {% else %}
                                  Delete
                                  {% endif %}
                                </button>
                              </form>
                              {% endif %}

                            </div>

                          </div>

                        </div>
                      </li>
                      {% endfor %}
                      {% else %}
                      <div style="display: flex; justify-content: center; align-items: center; width: 100%;">
                        <h6 class="modal-title" id="modalCenterTitle">
                          {% if LANGUAGE_CODE == 'ar' %}
                          لا توجد أي أجزاء لم تُضاف إلى هذه المحاضرة
                          {% else %}
                          There aren't any parts not added to this lecture
                          {% endif %}
                        </h6>
                      </div>

                      {% endif %}



                    </ul>



                  </div>
                </div>

                <div class="modal-footer">
                  <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                    {% if LANGUAGE_CODE == 'ar' %}
                    إغلاق
                    {% else %}
                    Close
                    {% endif %}
                  </button>
                </div>


              </div>
            </div>
          </div>
          <!-- Existing Part  -->


        </div>
      </div>
      <!-- Add Part Offcanvas  -->









      <!-- Video Part Settings Modal  -->
      <div class="modal fade" id="video-part-settings" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalCenterTitle">
                {% if LANGUAGE_CODE == 'ar' %}
                إعدادات الجزء
                {% else %}
                Part Settings
                {% endif %}
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"
                aria-label="{% if LANGUAGE_CODE == 'ar' %}إغلاق{% else %}Close{% endif %}"></button>
            </div>

            <div class="modal-body">
              <div class="row">
                <form action="/dashboard/part-settings" method="post" enctype="multipart/form-data">
                  {% csrf_token %}
                  <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                  <input type="text" name="part-id" value="{{part.part_id}}" hidden>

                  <div class="col-12 mb-3">
                    <label for="title" class="form-label">
                      {% if LANGUAGE_CODE == 'ar' %}
                      اسم الجزء (العنوان)
                      {% else %}
                      Part Name (Title)
                      {% endif %}
                    </label>
                    <input type="text" id="title" name="title" class="form-control"
                      placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الاسم{% else %}Enter Name{% endif %}"
                      value="{{part.title}}" />
                  </div>

                  <div class="col-12 mb-3">
                    <label for="views" class="form-label">
                      {% if LANGUAGE_CODE == 'ar' %}
                      حد المشاهدات
                      {% else %}
                      Views Limit
                      {% endif %}
                    </label>
                    <input type="text" id="views" name="views" class="form-control"
                      placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل حد المشاهدات{% else %}Enter Views Limit{% endif %}"
                      value="{{part.views_limit}}" />
                  </div>

                  <div class="col-12 mb-4">
                    <label for="duration" class="form-label">
                      {% if LANGUAGE_CODE == 'ar' %}
                      المدة
                      {% else %}
                      Duration
                      {% endif %}
                    </label>
                    <input type="text" id="duration" name="duration" class="form-control"
                      placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل مدة الفيديو{% else %}Enter Video Duration{% endif %}"
                      value="{{part.duration}}" />
                  </div>

                  <div class="col-12 mb-3">
                    <div class="form-check mb-3">
                      <input class="form-check-input" type="checkbox" name="visible" id="visible"
                        {% if part.visible %}checked{% endif %} />
                      <label class="form-check-label" for="visible">
                        {% if LANGUAGE_CODE == 'ar' %}
                        مرئي للمستخدمين
                        {% else %}
                        Visible to users
                        {% endif %}
                      </label>
                    </div>
                  </div>

                  <div class="col-12 mb-3">
                    <div class="form-check mb-3">
                      <input class="form-check-input" type="checkbox" name="active" id="active"
                        {% if part.active %}checked{% endif %} />
                      <label class="form-check-label" for="active">
                        {% if LANGUAGE_CODE == 'ar' %}
                        جزء نشط (يظهر في الصفحة الرئيسية للمحاضرة)
                        {% else %}
                        Active Part (Appears on the lecture main page)
                        {% endif %}
                      </label>
                    </div>
                  </div>

                  <div class="col-12 mb-2">
                    <button type="submit" class="btn btn-primary w-100">
                      {% if LANGUAGE_CODE == 'ar' %}
                      حفظ
                      {% else %}
                      Save
                      {% endif %}
                    </button>
                  </div>
                </form>

                <form action="/dashboard/delete-part" method="post" enctype="multipart/form-data">
                  {% csrf_token %}
                  <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                  <input type="text" name="part-id" value="{{part.part_id}}" hidden>
                  <div class="col-12 mt-5">
                    <div class="card">
                      <h5 class="card-header">
                        {% if LANGUAGE_CODE == 'ar' %}
                        حذف الجزء
                        {% else %}
                        Delete Part
                        {% endif %}
                      </h5>
                      <div class="card-body">
                        <div class="mb-3 col-12 mb-0">
                          <div class="alert alert-warning">
                            <h6 class="alert-heading fw-bold mb-1">
                              {% if LANGUAGE_CODE == 'ar' %}
                              هل أنت متأكد أنك تريد حذف هذا الجزء؟
                              {% else %}
                              Are you sure you want to delete this part?
                              {% endif %}
                            </h6>
                            <p class="mb-0">
                              {% if LANGUAGE_CODE == 'ar' %}
                              بمجرد حذف هذا الجزء، لا يمكن العودة. يرجى التأكد.
                              {% else %}
                              Once you delete this part, there is no going back. Please be certain.
                              {% endif %}
                            </p>
                          </div>
                        </div>
                        <div class="form-check mb-3">
                          <input class="form-check-input" type="checkbox" name="accountActivation"
                            id="accountActivation" />
                          <label class="form-check-label" for="accountActivation">
                            {% if LANGUAGE_CODE == 'ar' %}
                            أؤكد حذف هذا الجزء
                            {% else %}
                            I confirm to delete this part
                            {% endif %}
                          </label>
                        </div>
                        <button type="submit" class="btn btn-danger deactivate-account">
                          {% if LANGUAGE_CODE == 'ar' %}
                          حذف الجزء
                          {% else %}
                          Delete Part
                          {% endif %}
                        </button>
                      </div>
                    </div>
                  </div>
                </form>
              </div>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                {% if LANGUAGE_CODE == 'ar' %}
                إغلاق
                {% else %}
                Close
                {% endif %}
              </button>
            </div>
          </div>
        </div>
      </div>
      <!-- Video Part Settings Modal  -->



      <!-- Video Part Stats Modal  -->
      <div class="modal fade" id="video-part-stats" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalCenterTitle">
                {% if LANGUAGE_CODE == 'ar' %}
                إحصائيات {{ part.title }}
                {% else %}
                {{ part.title }} Statistics
                {% endif %}
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"
                aria-label="{% if LANGUAGE_CODE == 'ar' %}إغلاق{% else %}Close{% endif %}"></button>
            </div>
            <div class="modal-body">
              <div class="row">

                <!-- General Statistics -->
                <div class="col-12 mb-4">
                  <div class="card h-100 shadow">
                    <div class="card-body"
                      style="display: flex; justify-content: space-between; align-items: center; flex-direction: row;">

                      <div>
                        {% if LANGUAGE_CODE == 'ar' %}
                        مشاهدات الجزء
                        {% else %}
                        Part Views
                        {% endif %}
                      </div>
                      <div>
                        <div
                          style="display: flex; justify-content: center;align-items: center; width: 30px; height: 30px; color: white;"
                          class="rounded-circle bg-primary">
                          {{ part_views|length }}
                        </div>
                      </div>

                    </div>
                  </div>
                </div>
                <!-- General Statistics -->

                <hr class="mt-4 mb-4">

                <div class="mb-2" style="display: flex; justify-content: center; align-items: center; width: 100%;">
                  <h4 class="card-title">
                    {% if LANGUAGE_CODE == 'ar' %}
                    مشاهدات الجزء
                    {% else %}
                    Part Views
                    {% endif %}
                  </h4>
                </div>

                <div class="table-responsive text-nowrap">
                  <table class="table">
                    <thead>
                      <tr class="text-nowrap">
                        <th class="t-name">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الطالب
                          {% else %}
                          Student
                          {% endif %}
                        </th>
                        <th class="t-date">
                          {% if LANGUAGE_CODE == 'ar' %}
                          التاريخ
                          {% else %}
                          Date
                          {% endif %}
                        </th>
                        <th class="t-profile"></th>
                      </tr>
                    </thead>

                    <tbody>
                      {% for x in part_views %}
                      <tr>
                        <td class="t-name">{{ x.user_name }}</td>
                        <td class="t-date">{{ x.created_at|date:"j/n/o" }}, {{ x.created_at|date:"h:i A" }}</td>
                        <td class="t-profile">
                          <a href="{% url 'main' x.user.username %}" class="btn btn-primary btn-sm">
                            {% if LANGUAGE_CODE == 'ar' %}
                            عرض الملف الشخصي
                            {% else %}
                            View Profile
                            {% endif %}
                          </a>
                        </td>
                      </tr>
                      {% endfor %}
                    </tbody>

                  </table>
                </div>

              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                {% if LANGUAGE_CODE == 'ar' %}
                إغلاق
                {% else %}
                Close
                {% endif %}
              </button>
            </div>
          </div>
        </div>
      </div>
      <!-- Video Part Stats Modal  -->



      <!-- Attachment Part Settings Modal  -->
      <div class="modal fade" id="attachment-part-settings" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="modalCenterTitle">
                {% if LANGUAGE_CODE == 'ar' %}
                إعدادات الجزء
                {% else %}
                Part Settings
                {% endif %}
              </h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"
                aria-label="{% if LANGUAGE_CODE == 'ar' %}إغلاق{% else %}Close{% endif %}"></button>
            </div>

            <div class="modal-body">
              <div class="row">

                <form action="/dashboard/part-settings" method="post" enctype="multipart/form-data">
                  {% csrf_token %}
                  <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                  <input type="text" name="part-id" value="{{part.part_id}}" hidden>

                  <input type="text" name="views" value="0" hidden>
                  <input type="text" name="duration" value="0" hidden>
                  <input type="text" name="active" value="off" hidden>

                  <div class="col-12 mb-3">
                    <label for="title" class="form-label">
                      {% if LANGUAGE_CODE == 'ar' %}
                      اسم الجزء (العنوان)
                      {% else %}
                      Part Name (Title)
                      {% endif %}
                    </label>
                    <input type="text" id="title" name="title" class="form-control"
                      placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الاسم{% else %}Enter Name{% endif %}"
                      value="{{part.title}}" />
                  </div>

                  {% if part.type == 'file' %}
                  <div class="col-12 mb-3">
                    <label for="pages-number" class="form-label">
                      {% if LANGUAGE_CODE == 'ar' %}
                      عدد الصفحات
                      {% else %}
                      Pages Number
                      {% endif %}
                    </label>
                    <input type="text" id="pages-number" name="pages-number" class="form-control"
                      placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل عدد الصفحات{% else %}Enter Pages Number{% endif %}"
                      value="{{part.pdf_file_pages_number}}" />
                  </div>
                  {% endif %}

                  <div class="col-12 mb-3">
                    <div class="form-check mb-3">
                      {% if part.visible == True %}
                      <input class="form-check-input" type="checkbox" name="visible" id="visible" checked />
                      {% else %}
                      <input class="form-check-input" type="checkbox" name="visible" id="visible" />
                      {% endif %}
                      <label class="form-check-label" for="visible">
                        {% if LANGUAGE_CODE == 'ar' %}
                        مرئي للمستخدمين
                        {% else %}
                        Visible to users
                        {% endif %}
                      </label>
                    </div>
                  </div>

                  <input class="form-check-input" type="checkbox" name="active" id="active" hidden />

                  <div class="col-12 mb-2">
                    <button type="submit" class="btn btn-primary w-100">
                      {% if LANGUAGE_CODE == 'ar' %}
                      حفظ
                      {% else %}
                      Save
                      {% endif %}
                    </button>
                  </div>
                </form>

                <form action="/dashboard/delete-part" method="post" enctype="multipart/form-data">
                  {% csrf_token %}
                  <input type="text" name="lecture-id" value="{{lecture.id}}" hidden>
                  <input type="text" name="part-id" value="{{part.part_id}}" hidden>
                  <div class="col-12 mt-5">
                    <div class="card">
                      <h5 class="card-header">
                        {% if LANGUAGE_CODE == 'ar' %}
                        حذف الجزء
                        {% else %}
                        Delete Part
                        {% endif %}
                      </h5>
                      <div class="card-body">
                        <div class="mb-3 col-12 mb-0">
                          <div class="alert alert-warning">
                            <h6 class="alert-heading fw-bold mb-1">
                              {% if LANGUAGE_CODE == 'ar' %}
                              هل أنت متأكد أنك تريد حذف هذا الجزء؟
                              {% else %}
                              Are you sure you want to delete this part?
                              {% endif %}
                            </h6>
                            <p class="mb-0">
                              {% if LANGUAGE_CODE == 'ar' %}
                              بمجرد حذف هذا الجزء، لا يمكن التراجع. يرجى التأكد.
                              {% else %}
                              Once you delete this part, there is no going back. Please be certain.
                              {% endif %}
                            </p>
                          </div>
                        </div>
                        <form id="formAccountDeactivation" onsubmit="return false">
                          <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" name="accountActivation"
                              id="accountActivation" />
                            <label class="form-check-label" for="accountActivation">
                              {% if LANGUAGE_CODE == 'ar' %}
                              أؤكد حذف هذا الجزء
                              {% else %}
                              I confirm to delete this part
                              {% endif %}
                            </label>
                          </div>
                          <button type="submit" class="btn btn-danger deactivate-account">
                            {% if LANGUAGE_CODE == 'ar' %}
                            حذف الجزء
                            {% else %}
                            Delete Part
                            {% endif %}
                          </button>
                        </form>
                      </div>
                    </div>
                  </div>
                </form>

              </div>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                {% if LANGUAGE_CODE == 'ar' %}
                إغلاق
                {% else %}
                Close
                {% endif %}
              </button>
            </div>

          </div>
        </div>
      </div>
      <!-- Attachment Part Settings Modal  -->



      <!-- Assignment Settings Offcanvas  -->
      <div class="offcanvas offcanvas-start" tabindex="-1" id="assignmentSettingsOffcanvas"
        aria-labelledby="offcanvasStartLabel">
        <div class="offcanvas-header" style="background-color: #7a6ad8;">
          <h5 id="offcanvasStartLabel" class="offcanvas-title" style="color: white;">
            {% if LANGUAGE_CODE == 'ar' %}
            {{ part.title }} إعدادات
            {% else %}
            {{ part.title }} Settings
            {% endif %}
          </h5>

          <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body  mx-0 flex-grow-0">





          <ul class="p-0 m-0">


            <!-- Settings  -->
            <li class="d-flex mb-4 pb-1">
              <button data-bs-target="#assignment-settings" type="button" data-bs-toggle="modal"
                style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                <div class="avatar flex-shrink-0 me-3">
                  <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                    <i class="fa-solid fa-gear text-primary" style="font-size: 20px;"></i>
                  </div>
                </div>
                <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                  <div class="me-2">
                    <h6 class="mb-0">
                      {% if LANGUAGE_CODE == 'ar' %}
                      الإعدادات
                      {% else %}
                      Settings
                      {% endif %}
                    </h6>

                  </div>
                </div>
              </button>
            </li>

            <div class="modal fade" id="assignment-settings" tabindex="-1" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalCenterTitle">
                      {% if LANGUAGE_CODE == 'ar' %}
                      إعدادات التكليف
                      {% else %}
                      Assignment Settings
                      {% endif %}
                    </h5>

                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>


                  <div class="modal-body">
                    <div class="row">
                      <form action="/assignment-functions" method="POST" class="w-100">
                        {% csrf_token %}
                        <input type="hidden" name="function-type" value="assignment-settings">
                        <input type="hidden" name="assignment-id" value="{{assignment.assignment_id}}">
                        <input type="hidden" name="lecture-id" value="{{lecture.id}}">
                        <input type="hidden" name="part-id" value="{{part.part_id}}">

                        <div class="col-12 mb-3">
                          <label for="title" class="form-label">
                            {% if LANGUAGE_CODE == 'ar' %}
                            اسم التكليف (العنوان)
                            {% else %}
                            Assignment Name (Title)
                            {% endif %}
                          </label>
                          <input type="text" id="title" name="title" class="form-control"
                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل الاسم{% else %}Enter Name{% endif %}"
                            value="{{part.title}}" />
                        </div>

                        <div class="col-12 mb-4">
                          <label for="duration" class="form-label">
                            {% if LANGUAGE_CODE == 'ar' %}
                            المدة (بالدقائق)
                            {% else %}
                            Duration (In Minutes)
                            {% endif %}
                          </label>
                          <input type="text" id="duration" name="duration" class="form-control"
                            placeholder="{% if LANGUAGE_CODE == 'ar' %}أدخل مدة الواجب (دقائق){% else %}Enter Assignment Duration (mins){% endif %}"
                            value="{{assignment.minutes}}" />
                        </div>

                        <div class="col-12 mb-3">
                          <select class="form-select" id="exampleFormControlSelect1" aria-label="Default select example"
                            name="type">
                            <option selected value="{{assignment.assignment_type}}">
                              <p style="text-transform: capitalize;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                {% if assignment.assignment_type == 'test' %}
                                اختبار
                                {% else %}
                                واجب منزلي
                                {% endif %}
                                {% else %}
                                {{assignment.assignment_type}}
                                {% endif %}
                              </p>
                            </option>
                            {% if assignment.assignment_type == 'test' %}
                            <option value="homework">
                              {% if LANGUAGE_CODE == 'ar' %}
                              واجب
                              {% else %}
                              Homework
                              {% endif %}
                            </option>
                            {% else %}
                            <option value="test">
                              {% if LANGUAGE_CODE == 'ar' %}
                              اختبار
                              {% else %}
                              Test
                              {% endif %}
                            </option>
                            {% endif %}
                          </select>
                        </div>

                        <div class="col-12 mb-3">
                          <div class="form-check mb-3">
                            {% if part.visible == True %}
                            <input class="form-check-input" type="checkbox" name="visible" id="visible" checked />
                            {% else %}
                            <input class="form-check-input" type="checkbox" name="visible" id="visible" />
                            {% endif %}
                            <label class="form-check-label" for="visible">
                              {% if LANGUAGE_CODE == 'ar' %}
                              مرئي للمستخدمين
                              {% else %}
                              Visible to users
                              {% endif %}
                            </label>
                          </div>
                        </div>

                        <div class="col-12 mb-2">
                          <button type="submit" class="btn btn-primary w-100">
                            {% if LANGUAGE_CODE == 'ar' %}
                            حفظ
                            {% else %}
                            Save
                            {% endif %}
                          </button>
                        </div>
                      </form>

                      <form action="/assignment-functions" method="POST" class="w-100">
                        {% csrf_token %}
                        <input type="hidden" name="function-type" value="delete-assignment">
                        <input type="hidden" name="assignment-id" value="{{assignment.assignment_id}}">
                        <input type="hidden" name="lecture-id" value="{{lecture.id}}">
                        <input type="hidden" name="part-id" value="{{part.part_id}}">

                        <div class="col-12 mt-5">
                          <div class="card">
                            <h5 class="card-header">
                              {% if LANGUAGE_CODE == 'ar' %}
                              حذف الواجب
                              {% else %}
                              Delete Assignment
                              {% endif %}
                            </h5>
                            <div class="card-body">
                              <div class="mb-3 col-12 mb-0">
                                <div class="alert alert-warning">
                                  <h6 class="alert-heading fw-bold mb-1">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    هل أنت متأكد أنك تريد حذف هذا الواجب؟
                                    {% else %}
                                    Are you sure you want to delete this assignment?
                                    {% endif %}
                                  </h6>
                                  <p class="mb-0">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    بمجرد حذف هذا الواجب، لا يمكن الرجوع. يرجى التأكد.
                                    {% else %}
                                    Once you delete this assignment, there is no going back. Please be certain.
                                    {% endif %}
                                  </p>
                                </div>
                              </div>
                              <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" name="confirmation"
                                  id="accountActivation" />
                                <label class="form-check-label" for="accountActivation">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  أؤكد حذف هذا الواجب
                                  {% else %}
                                  I confirm to delete this assignment
                                  {% endif %}
                                </label>
                              </div>
                              <button type="submit" class="btn btn-danger deactivate-account">
                                {% if LANGUAGE_CODE == 'ar' %}
                                حذف الواجب
                                {% else %}
                                Delete Assignment
                                {% endif %}
                              </button>
                            </div>
                          </div>
                        </div>
                      </form>
                    </div>
                  </div>



                  <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                      {% if LANGUAGE_CODE == 'ar' %}
                      اغلاق
                      {% else %}
                      Close
                      {% endif %}
                    </button>
                  </div>





                </div>
              </div>
            </div>
            <!-- Settings  -->











            <!-- Reward System  -->
            <li class="d-flex mb-4 pb-1">
              <button data-bs-target="#rewards" type="button" data-bs-toggle="modal"
                style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                <div class="avatar flex-shrink-0 me-3">
                  <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                    <i class="fa-solid fa-award text-primary" style="font-size: 20px;"></i>
                  </div>
                </div>
                <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                  <div class="me-2">
                    <h6 class="mb-0">
                      {% if LANGUAGE_CODE == 'ar' %}
                      نظام المكافآت
                      {% else %}
                      Reward System
                      {% endif %}
                    </h6>

                  </div>
                </div>
              </button>
            </li>


            <div class="modal fade" id="rewards" tabindex="-1" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalCenterTitle">
                      {% if LANGUAGE_CODE == 'ar' %}
                      {{ assignment.assignment_name }} مكافأت
                      {% else %}
                      {{ assignment.assignment_name }} Reward
                      {% endif %}
                    </h5>

                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>

                  <div class="modal-body">
                    <div class="row">

                      <form action="/assignment-functions" method="POST" class="w-100">
                        {% csrf_token %}
                        <input type="hidden" hidden name="function-type" value="reward-system">
                        <input type="hidden" hidden name="assignment-id" value="{{assignment.assignment_id}}">
                        <input type="hidden" hidden name="lecture-id" value="{{lecture.id}}">
                        <input type="hidden" hidden name="part-id" value="{{part.part_id}}">

                        {% if LANGUAGE_CODE == 'ar' %}
                        <label for="percentage_needed" class="form-label mb-1">النسبة المطلوبة</label>
                        <div class="input-group mb-3">
                          <input id="percentage_needed" name="percentage" type="text" class="form-control"
                            placeholder="أدخل النسبة المطلوبة" value="{{assignment.award_percentage_needed}}" />
                        </div>
                        <label for="discount_value" class="form-label mb-1">قيمة الخصم</label>
                        <div class="input-group mb-3">
                          <input id="discount_value" name="discount" type="text" class="form-control"
                            placeholder="أدخل قيمة الخصم" value="{{assignment.award_discount_value}}" />
                        </div>
                        <label for="award_lecture_id" class="form-label mb-1">محاضرة الجائزة</label>
                        <select class="form-select" id="award_lecture_id" aria-label="Default select example"
                          name="award_lecture_id">
                          {% if assignment.award_lecture_id %}
                          {% for x in another_lectures %}
                          {% if x.activated == True %}
                          <option value="{{x.id}}" selected>{{x.title}}</option>
                          {% else %}
                          <option value="{{x.id}}">{{x.title}}</option>
                          {% endif %}
                          {% endfor %}
                          {% else %}
                          <option value="" selected>--------------</option>
                          {% for x in another_lectures %}
                          <option value="{{x.id}}">{{x.title}}</option>
                          {% endfor %}
                          {% endif %}
                        </select>
                        <div class="form-check mb-3">
                          {% if assignment.award_system == True %}
                          <input class="form-check-input" type="checkbox" name="award_system" id="award_system"
                            checked />
                          <label class="form-check-label" for="award_system">النظام تشغيل/إيقاف</label>
                          {% else %}
                          <input class="form-check-input" type="checkbox" name="award_system" id="award_system" />
                          <label class="form-check-label" for="award_system">النظام تشغيل/إيقاف</label>
                          {% endif %}
                        </div>
                        {% else %}
                        <label for="percentage_needed" class="form-label mb-1">Percentage Needed</label>
                        <div class="input-group mb-3">
                          <input id="percentage_needed" name="percentage" type="text" class="form-control"
                            placeholder="Enter Percentage Needed" value="{{assignment.award_percentage_needed}}" />
                        </div>
                        <label for="discount_value" class="form-label mb-1">Discount Value</label>
                        <div class="input-group mb-3">
                          <input id="discount_value" name="discount" type="text" class="form-control"
                            placeholder="Enter Discount Value" value="{{assignment.award_discount_value}}" />
                        </div>
                        <label for="award_lecture_id" class="form-label mb-1">Award Lecture</label>
                        <select class="form-select" id="award_lecture_id" aria-label="Default select example"
                          name="award_lecture_id">
                          {% if assignment.award_lecture_id %}
                          {% for x in another_lectures %}
                          {% if x.activated == True %}
                          <option value="{{x.id}}" selected>{{x.title}}</option>
                          {% else %}
                          <option value="{{x.id}}">{{x.title}}</option>
                          {% endif %}
                          {% endfor %}
                          {% else %}
                          <option value="" selected>--------------</option>
                          {% for x in another_lectures %}
                          <option value="{{x.id}}">{{x.title}}</option>
                          {% endfor %}
                          {% endif %}
                        </select>
                        <div class="form-check mb-3">
                          {% if assignment.award_system == True %}
                          <input class="form-check-input" type="checkbox" name="award_system" id="award_system"
                            checked />
                          <label class="form-check-label" for="award_system">System ON/OFF</label>
                          {% else %}
                          <input class="form-check-input" type="checkbox" name="award_system" id="award_system" />
                          <label class="form-check-label" for="award_system">System ON/OFF</label>
                          {% endif %}
                        </div>
                        {% endif %}

                        <hr class="mb-4 mt-3">
                        <button class="btn btn-primary w-100" type="submit" id="button-addon2">Save</button>
                      </form>

                    </div>
                  </div>


                  <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                      {% if LANGUAGE_CODE == 'ar' %}
                      اغلاق
                      {% else %}
                      Close
                      {% endif %}
                    </button>
                    <button type="button" class="btn btn-outline-primary" data-bs-target="#rewarded-students"
                      type="button" data-bs-toggle="modal">
                      {% if LANGUAGE_CODE == 'ar' %}
                      عرض الطلاب الفائزون
                      {% else %}
                      View Rewarded Students
                      {% endif %}
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- Reward System  -->




            <!-- Rewarded Students  -->
            <div class="modal fade" id="rewarded-students" tabindex="-1" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalCenterTitle">
                      {% if LANGUAGE_CODE == 'ar' %}
                      الطلاب الفائزون
                      {% else %}
                      Rewarded Students
                      {% endif %}
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <div class="row">


                      <!-- Statistics Start -->


                      <!-- Total Students Rewarded  -->
                      <div class="col-md-6 col-12  mb-4 ">
                        <div class="card h-100 shadow">
                          <div class="card-header d-flex align-items-center justify-content-between">
                            <h5 class="card-title m-0 me-2">
                              {% if LANGUAGE_CODE == 'ar' %}
                              اجمالي الطلاب الفائزون
                              {% else %}
                              Total Students Rewarded
                              {% endif %}

                            </h5>
                          </div>
                          <div class="card-body"
                            style="display: flex; justify-content: center; align-items: center; flex-direction: column;">

                            <div class="progress-chart">
                              <div id="circle" class="circle"></div>
                              <div class="inner-text">
                                <span id="percentage"></span>
                                <input type="hidden" hidden id="rewarded_students_percentage"
                                  value="{{rewarded_students_percentage}}">
                              </div>
                            </div>

                            <section class="mt-4">
                              {% if LANGUAGE_CODE == 'ar' %}
                              <h5 style="color: black;">{{assignments_discounts|length}} طالب من اصل
                                {{applicants|length}}</h5>
                              {% else %}
                              <h5 style="color: black;">{{assignments_discounts|length}} Student From
                                {{applicants|length}}</h5>
                              {% endif %}

                            </section>


                          </div>
                        </div>
                      </div>
                      <!-- Total Students Rewarded  -->


                      <!--/ Statistics End  -->






                      <hr class="mt-4 mb-4">

                      <div class="mb-2"
                        style="display: flex; justify-content: center; align-items: center; width: 100%;">
                        <h4 class="card-title">
                          {% if LANGUAGE_CODE == 'ar' %}
                          الطلاب الفائزون
                          {% else %}
                          Rewarded Students
                          {% endif %}

                        </h4>
                      </div>

                      <div class="table-responsive text-nowrap">
                        <table class="table">
                          <thead>
                            <tr class="text-nowrap">
                              <th class="t-name">
                                {% if LANGUAGE_CODE == 'ar' %}
                                اسم الطالب
                                {% else %}
                                Student Name
                                {% endif %}
                              </th>
                              <th class="t-discount">
                                {% if LANGUAGE_CODE == 'ar' %}
                                الخصم
                                {% else %}
                                Discount
                                {% endif %}
                              </th>
                              <th class="t-date">
                                {% if LANGUAGE_CODE == 'ar' %}
                                التاريخ
                                {% else %}
                                Date
                                {% endif %}
                              </th>
                              <th class="t-profile">
                                {% if LANGUAGE_CODE == 'ar' %}
                                الملف الشخصي
                                {% else %}
                                Profile
                                {% endif %}
                              </th>
                              <th class="t-delete">
                                {% if LANGUAGE_CODE == 'ar' %}
                                حذف الخصم
                                {% else %}
                                Delete Discount
                                {% endif %}
                              </th>
                            </tr>
                          </thead>

                          <tbody>
                            {% for x in assignments_discounts %}
                            <tr>
                              <td class="t-name">
                                <a href="{% url 'main' x.awarded_username %}">{{x.awarded_username}}</a>
                              </td>
                              <td class="t-discount">{{x.discount_id}}</td>
                              <td class="t-date">{{x.created_at|date:"j/n/o"}} , {{x.created_at|date:"h:i A"}}</td>
                              <td class="t-profile">
                                <a href="{% url 'main' x.awarded_username %}" class="btn btn-primary btn-sm">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  عرض الملف الشخصي
                                  {% else %}
                                  View Profile
                                  {% endif %}
                                </a>
                              </td>
                              <td class="t-delete">
                                <form action="/dashboard/delete-lecture-discount" method="post">
                                  {% csrf_token %}
                                  <input type="text" name="discount-id" value="{{x.discount_id}}" hidden>
                                  <input type="text" name="lecture-id" value="{{x.lecture_id}}" hidden>
                                  <button class="btn btn-danger btn-sm" type="submit">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    حذف الخصم
                                    {% else %}
                                    Delete Discount
                                    {% endif %}
                                  </button>
                                </form>
                              </td>
                            </tr>
                            {% endfor %}
                          </tbody>
                        </table>
                      </div>






                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                      {% if LANGUAGE_CODE == 'ar' %}
                      اغلاق
                      {% else %}
                      Close
                      {% endif %}

                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- Rewarded Students  -->



            <!--  Applicants  -->
            <li class="d-flex mb-4 pb-1">
              <button data-bs-target="#applicants" type="button" data-bs-toggle="modal"
                style="display: flex; flex-direction: row; align-items: center; width: 100%; background-color: transparent; border: none; padding: 0;">
                <div class="avatar flex-shrink-0 me-3">
                  <div class="p-2" style="background-color: #eae9e9; border-radius: 10px;">
                    <i class="fa-solid fa-user-group text-primary" style="font-size: 20px;"></i>
                  </div>
                </div>
                <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                  <div class="me-2">
                    <h6 class="mb-0">
                      {% if LANGUAGE_CODE == 'ar' %}
                      المتقدمون
                      {% else %}
                      Applicants
                      {% endif %}
                    </h6>

                  </div>
                </div>
              </button>
            </li>

            <div class="modal fade" id="applicants" tabindex="-1" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="modalCenterTitle">
                      {% if LANGUAGE_CODE == 'ar' %}
                      {{ assignment.assignment_name }} المتقدمون
                      {% else %}
                      {{ assignment.assignment_name }} Applicants
                      {% endif %}
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <div class="row">
                      <form>
                        {% csrf_token %}

                        <label for="students_number" class="form-label">
                          {% if LANGUAGE_CODE == 'ar' %}
                          ابحث عن نتيجة
                          {% else %}
                          Search For A Result
                          {% endif %}
                        </label>
                        <div class="input-group">
                          <input type="text" name="lecture-id" value="{{ lecture.id }}" hidden>
                          <input id="students_number" name="students" type="text" class="form-control"
                            placeholder="{% if LANGUAGE_CODE == 'ar' %}ابحث حسب النتيجة أو اسم المستخدم{% else %}Search By Result Or Username{% endif %}"
                            aria-label="Recipient's username" aria-describedby="button-addon2" />
                          <button class="btn btn-primary" type="submit" id="button-addon2">
                            {% if LANGUAGE_CODE == 'ar' %}
                            بحث
                            {% else %}
                            Search
                            {% endif %}
                          </button>
                        </div>
                      </form>

                      <hr class="mt-3 mb-4">

                      <div class="table-responsive text-nowrap">
                        <table class="table">
                          <thead>
                            <tr class="text-nowrap">
                              <th class="t-student">
                                {% if LANGUAGE_CODE == 'ar' %}
                                طالب
                                {% else %}
                                Student
                                {% endif %}
                              </th>
                              <th class="t-result">
                                {% if LANGUAGE_CODE == 'ar' %}
                                نتيجة
                                {% else %}
                                Result
                                {% endif %}
                              </th>
                              <th class="t-serial">
                                {% if LANGUAGE_CODE == 'ar' %}
                                تسلسل
                                {% else %}
                                Serial
                                {% endif %}
                              </th>
                              <th class="t-open-date">
                                {% if LANGUAGE_CODE == 'ar' %}
                                تاريخ الفتح
                                {% else %}
                                Open Date
                                {% endif %}
                              </th>
                              <th class="t-submit-date">
                                {% if LANGUAGE_CODE == 'ar' %}
                                تاريخ التقديم
                                {% else %}
                                Submit Date
                                {% endif %}
                              </th>
                              <th class="t-view"></th>
                              <th class="t-delete"></th>
                            </tr>
                          </thead>
                          <tbody>
                            {% for x in applicants %}
                            <tr>
                              <td class="t-student"><a href="{% url 'main' x.user.username %}">{{ x.user_name }}</a>
                              </td>
                              <td class="t-result">{{ x.true_answers }}</td>
                              <td class="t-serial">{{ x.serial }}</td>
                              <td class="t-open-date">{{ x.opened_at }}</td>
                              <td class="t-submit-date">{{ x.submited_at }}</td>
                              <td class="t-view">
                                <a class="btn btn-outline-primary">
                                  {% if LANGUAGE_CODE == 'ar' %}
                                  عرض الإجابات
                                  {% else %}
                                  View Answers
                                  {% endif %}
                                </a>
                              </td>
                              <td class="t-delete">
                                <form action="/assignment-functions" method="POST" class="w-100"
                                  enctype="multipart/form-data">
                                  {% csrf_token %}
                                  <input type="hidden" hidden name="function-type" value="delete-trial">
                                  <input type="hidden" hidden name="assignment-id"
                                    value="{{ assignment.assignment_id }}">
                                  <input type="hidden" hidden name="lecture-id" value="{{ lecture.id }}">
                                  <input type="hidden" hidden name="part-id" value="{{ part.part_id }}">
                                  <input type="hidden" hidden name="serial" value="{{ x.serial }}">
                                  <button class="btn btn-danger" type="submit">
                                    {% if LANGUAGE_CODE == 'ar' %}
                                    حذف التجربة
                                    {% else %}
                                    Delete Trial
                                    {% endif %}
                                  </button>
                                </form>
                              </td>
                            </tr>
                            {% endfor %}
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">
                      {% if LANGUAGE_CODE == 'ar' %}
                      إغلاق
                      {% else %}
                      Close
                      {% endif %}
                    </button>
                  </div>
                </div>
              </div>
            </div>


            <!-- Applicants  -->



            <script>
              function copyValue(inputId) {
                var input = document.getElementById(inputId);
                input.select();
                document.execCommand("copy");
                alert("Lecture Subscription Link Copied: " + input.value);

              }
            </script>


          </ul>








        </div>
      </div>
      <!-- Assignment Settings Offcanvas  -->


      <!-- Settings -->
      <!-- Settings For Instructor  -->


      {% endif %}
      {% endif %}













      <!-- Lecture Parts  -->
      <!-- Put Class "show" To Make Accordion active if get:lecture == accordion.id  -->
      <div class="row mt-5 mb-3">

        <div class="col-12" data-aos="fade-up" data-aos-delay="200" data-aos-duration="600">
          <div class="card bg-primary">
            <div class="card-body" style="padding: 15px;">
              <div class="accordion" id="accordionExample">


                {% if parts %}

                {% for x in parts %}


                {% if user_profile.instructor == True %}
                <!-- Show All Parts Without Problems  -->
                {% if x.type == 'video' %}
                <div class="card accordion-item active">
                  <h2 class="accordion-header" id="headingOne">
                    <button type="button" class="accordion-button" onclick="showDiv({{x.part_number}})">
                      {{x.title}}
                    </button>
                  </h2>

                  <div id="{{x.part_number}}" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <div class="rounded"
                        style="width: 100%; height: 100%; background-color: #f5f5f9; display: flex; flex-direction: column; padding: 6px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                          <div style="display: flex;">
                            <div class="avatar flex-shrink-0 me-3">
                              <div style="background-color: white; border-radius: 10px; padding: 7px;"><i
                                  class="fa-solid fa-video text-primary" style="font-size: 20px;"></i></div>
                            </div>
                            <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                              <div class="me-2">
                                <h6 class="mb-0">{{x.title}}</h6>
                              </div>
                            </div>
                          </div>
                          <div>
                            {% if status == 'purchased' %}
                            <a class="btn btn-outline-primary" href="{% url 'lecture-video' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              مشاهدة
                              {% else %}
                              Watch
                              {% endif %}
                            </a>
                            {% endif %}

                            {% if status == 'instructor' %}
                            <a class="btn btn-outline-primary" href="{% url 'lecture-video' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              الاعدادات
                              {% else %}
                              Settings
                              {% endif %}</a>
                            {% endif %}

                          </div>
                        </div>
                        <hr class="text-primary">

                        <div style="display: flex; flex-direction: column; padding: 5px;">

                          <div class="d-flex justify-content-between">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-clock text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                زمن المحتوي
                                {% else %}
                                Content
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.duration}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                دقيقة
                                {% else %}
                                min
                                {% endif %}
                              </div>
                            </div>
                          </div>

                          <div class="d-flex justify-content-between mt-2">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-lock text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                حد المشاهدات
                                {% else %}
                                Views Limit
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.views_limit}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                مشاهدات
                                {% else %}
                                Views
                                {% endif %}
                              </div>
                            </div>
                          </div>

                          {% if status == 'purchased' %}
                          <div class="d-flex justify-content-between mt-2">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-eye text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                عدد المشاهدات
                                {% else %}
                                Views Number
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.views}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                مشاهدات
                                {% else %}
                                Views
                                {% endif %}</div>
                            </div>
                          </div>
                          {% endif %}

                          {% if user_profile %}
                          {% if user_profile.instructor == True %}
                          <div class="d-flex justify-content-between mt-2">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-eye text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                اجمالي عدد المشاهدات
                                {% else %}
                                Total Views Number
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.part_total_views}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                مشاهدات
                                {% else %}
                                Views
                                {% endif %}
                              </div>
                            </div>
                          </div>
                          {% endif %}
                          {% endif %}

                        </div>

                      </div>
                    </div>
                  </div>
                </div>
                {% endif %}

                {% if x.type == 'assignment' %}
                <div class="card accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                    <button type="button" class="accordion-button" onclick="showDiv({{x.part_number}})">
                      {{x.title}}
                    </button>
                  </h2>

                  <div id="{{x.part_number}}" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <div class="rounded"
                        style="width: 100%; height: 100%; background-color: #f5f5f9; display: flex; flex-direction: column; padding: 6px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                          <div style="display: flex;">
                            <div class="avatar flex-shrink-0 me-3">
                              <div style="background-color: white; border-radius: 10px; padding: 7px;">
                                <i class="fa-solid fa-file-alt text-primary" style="font-size: 25px;"></i>
                              </div>
                            </div>
                            <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                              <div class="me-2">
                                <h6 class="mb-0">{{x.title}}</h6>
                              </div>
                            </div>
                          </div>
                          <div>
                            {% if status == 'purchased' %}
                            <a class="btn btn-outline-primary"
                              href="{% url 'lecture-assignment' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              فتح
                              {% else %}
                              Open
                              {% endif %}
                            </a>
                            {% endif %}

                            {% if status == 'instructor' %}
                            <a class="btn btn-outline-primary"
                              href="{% url 'lecture-assignment' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              الاعدادات
                              {% else %}
                              Settings
                              {% endif %}
                            </a>
                            {% endif %}
                          </div>
                        </div>
                        <hr class="text-primary">

                        <div style="display: flex; flex-direction: column; padding: 5px;">

                          <div class="d-flex justify-content-between">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-circle-question text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                الاسئلة
                                {% else %}
                                Questions
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.assignment_questions_number}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                سؤال
                                {% else %}
                                Question
                                {% endif %}
                              </div>
                            </div>
                          </div>



                          {% if status == 'purchased' %}
                          <div class="d-flex justify-content-between mt-2">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-square-poll-vertical text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                النسبة المئوية
                                {% else %}
                                Your Percentage
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.assignment_user_percentage}}%</div>
                            </div>
                          </div>
                          {% endif %}

                          {% if status == 'instructor' %}
                          <div class="d-flex justify-content-between mt-2">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-square-poll-horizontal text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                عدد المتقدمين
                                {% else %}
                                Total Applicants
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.assignment_total_applicants}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                طالب
                                {% else %}
                                Student
                                {% endif %}
                              </div>
                            </div>
                          </div>
                          {% endif %}


                        </div>

                      </div>
                    </div>
                  </div>
                </div>
                {% endif %}

                {% if x.type == 'file' %}
                <div class="card accordion-item">
                  <h2 class="accordion-header" id="headingThree">
                    <button type="button" class="accordion-button collapsed" onclick="showDiv({{x.part_number}})">
                      {{x.title}}
                    </button>
                  </h2>
                  <div id="{{x.part_number}}" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <div class="rounded"
                        style="width: 100%; height: 100%; background-color: #f5f5f9; display: flex; flex-direction: column; padding: 6px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                          <div style="display: flex;">
                            <div class="avatar flex-shrink-0 me-3">
                              <div style="background-color: white; border-radius: 10px; padding: 7px;"><i
                                  class="fa-solid fa-folder text-primary" style="font-size: 20px;"></i></div>
                            </div>
                            <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                              <div class="me-2">
                                <h6 class="mb-0">{{x.title}}</h6>
                              </div>
                            </div>
                          </div>
                          <div>
                            {% if status == 'purchased' %}
                            <a class="btn btn-outline-primary"
                              href="{% url 'lecture-attachment' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              فتح
                              {% else %}
                              Open
                              {% endif %}
                            </a>
                            {% endif %}

                            {% if status == 'instructor' %}
                            <a class="btn btn-outline-primary"
                              href="{% url 'lecture-attachment' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              الاعدادات
                              {% else %}
                              Settings
                              {% endif %}
                            </a>
                            {% endif %}
                          </div>
                        </div>
                        <hr class="text-primary">
                        <div style="display: flex; flex-direction: column; padding: 5px;">
                          <div class="d-flex justify-content-between">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-file text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                عدد الصفحات
                                {% else %}
                                Pages
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.pdf_file_pages_number}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                صفحة
                                {% else %}
                                Page
                                {% endif %}
                              </div>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>

                  </div>
                </div>
                {% endif %}

                {% if x.type == 'link' %}
                <div class="card accordion-item">
                  <h2 class="accordion-header" id="headingThree">
                    <button type="button" class="accordion-button collapsed" onclick="showDiv({{x.part_number}})">
                      {{x.title}}
                    </button>
                  </h2>
                  <div id="{{x.part_number}}" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <div class="rounded"
                        style="width: 100%; height: 100%; background-color: #f5f5f9; display: flex; flex-direction: column; padding: 6px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                          <div style="display: flex;">
                            <div class="avatar flex-shrink-0 me-3">
                              <div style="background-color: white; border-radius: 10px; padding: 7px;"><i
                                  class="fa-solid fa-link text-primary" style="font-size: 20px;"></i></div>
                            </div>
                            <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                              <div class="me-2">
                                <h6 class="mb-0">{{x.title}}</h6>
                              </div>
                            </div>
                          </div>
                          <div>
                            {% if status == 'purchased' %}
                            <a class="btn btn-outline-primary"
                              href="{% url 'lecture-attachment' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              فتح
                              {% else %}
                              Open
                              {% endif %}</a>
                            {% endif %}

                            {% if status == 'instructor' %}
                            <a class="btn btn-outline-primary"
                              href="{% url 'lecture-attachment' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              الاعدادات
                              {% else %}
                              Settings
                              {% endif %}
                            </a>
                            {% endif %}
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
                {% endif %}
                <!-- Show All Parts Without Problems  -->
                {% else %}



                {% if x.visible == True  %}


                {% if x.type == 'video' %}
                <div class="card accordion-item active">
                  <h2 class="accordion-header" id="headingOne">
                    <button type="button" class="accordion-button" onclick="showDiv({{x.part_number}})">
                      {{x.title}}
                    </button>
                  </h2>

                  <div id="{{x.part_number}}" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <div class="rounded"
                        style="width: 100%; height: 100%; background-color: #f5f5f9; display: flex; flex-direction: column; padding: 6px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                          <div style="display: flex;">
                            <div class="avatar flex-shrink-0 me-3">
                              <div style="background-color: white; border-radius: 10px; padding: 7px;"><i
                                  class="fa-solid fa-video text-primary" style="font-size: 20px;"></i></div>
                            </div>
                            <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                              <div class="me-2">
                                <h6 class="mb-0">{{x.title}}</h6>
                              </div>
                            </div>
                          </div>
                          <div>
                            {% if status == 'purchased' %}
                            <a class="btn btn-outline-primary" href="{% url 'lecture-video' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              مشاهدة
                              {% else %}
                              Watch
                              {% endif %}
                            </a>
                            {% endif %}

                            {% if status == 'instructor' %}
                            <a class="btn btn-outline-primary" href="{% url 'lecture-video' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              الاعدادات
                              {% else %}
                              Settings
                              {% endif %}</a>
                            {% endif %}

                          </div>
                        </div>
                        <hr class="text-primary">

                        <div style="display: flex; flex-direction: column; padding: 5px;">

                          <div class="d-flex justify-content-between">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-clock text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                زمن المحتوي
                                {% else %}
                                Content
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.duration}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                دقيقة
                                {% else %}
                                min
                                {% endif %}
                              </div>
                            </div>
                          </div>

                          <div class="d-flex justify-content-between mt-2">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-lock text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                حد المشاهدات
                                {% else %}
                                Views Limit
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.views_limit}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                مشاهدات
                                {% else %}
                                Views
                                {% endif %}
                              </div>
                            </div>
                          </div>

                          {% if status == 'purchased' %}
                          <div class="d-flex justify-content-between mt-2">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-eye text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                عدد المشاهدات
                                {% else %}
                                Views Number
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.views}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                مشاهدة
                                {% else %}
                                View
                                {% endif %}
                              </div>
                            </div>
                          </div>
                          {% endif %}

                          {% if user_profile %}
                          {% if user_profile.instructor == True %}
                          <div class="d-flex justify-content-between mt-2">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-eye text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                اجمالي عدد المشاهدات
                                {% else %}
                                Total Views Number
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.part_total_views}} View</div>
                            </div>
                          </div>
                          {% endif %}
                          {% endif %}

                        </div>

                      </div>
                    </div>
                  </div>
                </div>
                {% endif %}

                {% if x.type == 'assignment' %}
                <div class="card accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                    <button type="button" class="accordion-button" onclick="showDiv({{x.part_number}})">
                      {{x.title}}
                    </button>
                  </h2>

                  <div id="{{x.part_number}}" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <div class="rounded"
                        style="width: 100%; height: 100%; background-color: #f5f5f9; display: flex; flex-direction: column; padding: 6px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                          <div style="display: flex;">
                            <div class="avatar flex-shrink-0 me-3">
                              <div style="background-color: white; border-radius: 10px; padding: 7px;">
                                <i class="fa-solid fa-file-alt text-primary" style="font-size: 25px;"></i>
                              </div>
                            </div>
                            <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                              <div class="me-2">
                                <h6 class="mb-0">{{x.title}}</h6>
                              </div>
                            </div>
                          </div>
                          <div>
                            {% if status == 'purchased' %}
                            <a class="btn btn-outline-primary"
                              href="{% url 'lecture-assignment' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              فتح
                              {% else %}
                              Open
                              {% endif %}
                            </a>
                            {% endif %}

                            {% if status == 'instructor' %}
                            <a class="btn btn-outline-primary"
                              href="{% url 'lecture-assignment' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              الاعدادات
                              {% else %}
                              Settings
                              {% endif %}
                            </a>
                            {% endif %}
                          </div>
                        </div>
                        <hr class="text-primary">

                        <div style="display: flex; flex-direction: column; padding: 5px;">

                          <div class="d-flex justify-content-between">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-circle-question text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                الاسئلة
                                {% else %}
                                Questions
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.assignment_questions_number}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                سؤال
                                {% else %}
                                Question
                                {% endif %}
                              </div>
                            </div>
                          </div>



                          {% if status == 'purchased' %}
                          <div class="d-flex justify-content-between mt-2">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-square-poll-vertical text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                النسبة المئوية
                                {% else %}
                                Your Percentage
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.assignment_user_percentage}}%</div>
                            </div>
                          </div>
                          {% endif %}

                          {% if status == 'instructor' %}
                          <div class="d-flex justify-content-between mt-2">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-square-poll-horizontal text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                عدد المتقدمين
                                {% else %}
                                Total Applicants
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.assignment_total_applicants}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                طالب
                                {% else %}
                                Student
                                {% endif %}
                              </div>
                            </div>
                          </div>
                          {% endif %}


                        </div>

                      </div>
                    </div>
                  </div>
                </div>
                {% endif %}

                {% if x.type == 'file' %}
                <div class="card accordion-item">
                  <h2 class="accordion-header" id="headingThree">
                    <button type="button" class="accordion-button collapsed" onclick="showDiv({{x.part_number}})">
                      {{x.title}}
                    </button>
                  </h2>
                  <div id="{{x.part_number}}" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <div class="rounded"
                        style="width: 100%; height: 100%; background-color: #f5f5f9; display: flex; flex-direction: column; padding: 6px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                          <div style="display: flex;">
                            <div class="avatar flex-shrink-0 me-3">
                              <div style="background-color: white; border-radius: 10px; padding: 7px;"><i
                                  class="fa-solid fa-folder text-primary" style="font-size: 20px;"></i></div>
                            </div>
                            <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                              <div class="me-2">
                                <h6 class="mb-0">{{x.title}}</h6>
                              </div>
                            </div>
                          </div>
                          <div>
                            {% if status == 'purchased' %}
                            <a class="btn btn-outline-primary"
                              href="{% url 'lecture-attachment' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              فتح
                              {% else %}
                              Open
                              {% endif %}
                            </a>
                            {% endif %}

                            {% if status == 'instructor' %}
                            <a class="btn btn-outline-primary"
                              href="{% url 'lecture-attachment' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              الاعدادات
                              {% else %}
                              Settings
                              {% endif %}
                            </a>
                            {% endif %}
                          </div>
                        </div>
                        <hr class="text-primary">
                        <div style="display: flex; flex-direction: column; padding: 5px;">
                          <div class="d-flex justify-content-between">
                            <div class="d-flex align-items-center">
                              <i class="fa-solid fa-file text-primary" style="font-size: 20px;"></i>
                              <div style="margin-left: 10px;">
                                {% if LANGUAGE_CODE == 'ar' %}
                                عدد الصفحات
                                {% else %}
                                Pages
                                {% endif %}
                              </div>
                            </div>
                            <div class="d-flex align-items-center">
                              <div>{{x.pdf_file_pages_number}}
                                {% if LANGUAGE_CODE == 'ar' %}
                                صفحة
                                {% else %}
                                Page
                                {% endif %}
                              </div>
                            </div>
                          </div>
                        </div>

                      </div>
                    </div>

                  </div>
                </div>
                {% endif %}

                {% if x.type == 'link' %}
                <div class="card accordion-item">
                  <h2 class="accordion-header" id="headingThree">
                    <button type="button" class="accordion-button collapsed" onclick="showDiv({{x.part_number}})">
                      {{x.title}}
                    </button>
                  </h2>
                  <div id="{{x.part_number}}" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      <div class="rounded"
                        style="width: 100%; height: 100%; background-color: #f5f5f9; display: flex; flex-direction: column; padding: 6px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                          <div style="display: flex;">
                            <div class="avatar flex-shrink-0 me-3">
                              <div style="background-color: white; border-radius: 10px; padding: 7px;"><i
                                  class="fa-solid fa-link text-primary" style="font-size: 20px;"></i></div>
                            </div>
                            <div class="d-flex w-100 flex-wrap align-items-center justify-content-between gap-2">
                              <div class="me-2">
                                <h6 class="mb-0">{{x.title}}</h6>
                              </div>
                            </div>
                          </div>
                          <div>
                            {% if status == 'purchased' %}
                            <a class="btn btn-outline-primary"
                              href="{% url 'lecture-attachment' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              فتح
                              {% else %}
                              Open
                              {% endif %}</a>
                            {% endif %}

                            {% if status == 'instructor' %}
                            <a class="btn btn-outline-primary"
                              href="{% url 'lecture-attachment' lecture.id x.part_id %}">
                              {% if LANGUAGE_CODE == 'ar' %}
                              الاعدادات
                              {% else %}
                              Settings
                              {% endif %}
                            </a>
                            {% endif %}
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
                {% endif %}


                {% else %}
                {% if parts|length == 1 %}
                <!-- If Parts Is invisible  -->
                <div class="illu" style="width: 100%; height: 300px; border-radius: 15px;">
                  <img src="{% static 'main/assets/images/app/error-no-data.svg' %}" style="width: 100%; height: 100%;">
                </div>

                <div style="width: 100%; display: flex; justify-content: center; align-items: center;">
                  {% if LANGUAGE_CODE == 'ar' %}
                  <h4 style="color: white;">أجزاء المحاضرة ستتم إضافتها قريباً</h4>
                  {% else %}
                  <h4 style="color: white;">Lecture Parts Will Be Added Soon</h4>
                  {% endif %}

                </div>
                <!-- If Parts Is invisible  -->
                {% endif%}

                {% endif %}
                {% endif %}



                {% endfor %}

                {% else %}
                <!-- If there isnt parts yet  -->
                <div class="illu" style="width: 100%; height: 300px; border-radius: 15px;">
                  <img src="{% static 'main/assets/images/app/error-no-data.svg' %}" style="width: 100%; height: 100%;">
                </div>

                <div style="width: 100%; display: flex; justify-content: center; align-items: center;">
                  {% if LANGUAGE_CODE == 'ar' %}
                  <h4 style="color: white;">أجزاء المحاضرة ستتم إضافتها قريباً</h4>
                  {% else %}
                  <h4 style="color: white;">Lecture Parts Will Be Added Soon</h4>
                  {% endif %}

                </div>
                <!-- If there isnt parts yet  -->
                {% endif %}



              </div>

            </div>
          </div>
        </div>

      </div>
      <!-- Lecture Parts  -->






      <!-- Questions Sections  -->

      {% if status == 'purchased' %}
      <div class="row mt-5" data-aos="fade-up" data-aos-delay="200" data-aos-duration="600">
        <div class="col-12">
          <div class="card">
            <div class="card-body rounded p-4">

              <form action="/questions-functions" method="POST" class="w-100" enctype="multipart/form-data">
                {% csrf_token %}
                <input type="hidden" hidden name="function-type" value="send-question">
                <input type="hidden" hidden name="student-username" value="{{ user_profile.user.username }}">
                <input type="hidden" hidden name="destination" value="lecture">
                <input type="hidden" hidden name="lecture-id" value="{{ lecture.id }}">

                <label for="exampleFormControlTextarea1" class="form-label mb-3">
                  {% if LANGUAGE_CODE == 'ar' %}
                  هل لديك أي أسئلة؟
                  {% else %}
                  Any Questions?
                  {% endif %}
                </label>
                <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"
                  placeholder="{% if LANGUAGE_CODE == 'ar' %}اترك سؤالك هنا.{% else %}Leave Your Question Here.{% endif %}"
                  name="question"></textarea>
                <button class="btn btn-primary mt-3 mb-3" type="submit">
                  {% if LANGUAGE_CODE == 'ar' %}
                  إرسال
                  {% else %}
                  Send
                  {% endif %}
                </button>
                <br>
                {% if LANGUAGE_CODE == 'ar' %}
                سنقوم بإبلاغك عندما يتم الرد على سؤالك، سيكون الرد في <a
                  href="{% url 'inbox' request.user.username %}">صندوق الوارد</a>.
                {% else %}
                We Will Notify You When It Is Answered, The Answer Will Be In Your <a
                  href="{% url 'inbox' request.user.username %}">Inbox</a>.
                {% endif %}
              </form>
            </div>
          </div>
        </div>
      </div>

      {% endif %}

      <!-- Questions Sections  -->



    </div>
    <!-- / Content -->

    <!-- Footer  -->
    <section style="margin-top: 100px;">
      <!-- Footer -->
      <footer class="text-center text-white" style="background-color: #7a6ad8;">
        <!-- Grid container -->
        <div class="container p-4 pb-0">
          <!-- Section: CTA -->
          <section class="social-media-section">
            <p class="d-flex justify-content-center align-items-center">
              {% if platform.facebook %}
              <span class="me-3">
                <a href="{{platform.facebook}}" style="background: none; border: none;">
                  <i class="bx bxl-facebook-circle text-white" style="font-size: 40px;"></i>
                </a>
              </span>
              {% endif %}

              {% if platform.whatsapp %}
              <span class="me-3">
                <a href="https://wa.me/2{{platform.whatsapp}}" style="background: none; border: none;">
                  <i class="bx bxl-whatsapp text-white" style="font-size: 45px;"></i>
                </a>
              </span>
              {% endif %}

              {% if platform.instagram %}
              <span class="me-3">
                <a href="{{platform.instagram}}" style="background: none; border: none;">
                  <i class="bx bxl-instagram-alt text-white" style="font-size: 45px;"></i>
                </a>
              </span>
              {% endif %}

              {% if platform.youtube %}
              <span class="me-3">
                <a href="{{platform.youtube}}" style="background: none; border: none;">
                  <i class="bx bxl-youtube text-white" style="font-size: 52px;"></i>
                </a>
              </span>
              {% endif %}

              {% if platform.telegram %}
              <span class="me-3">
                <a href="{{platform.telegram}}" style="background: none; border: none;">
                  <i class="bx bxl-telegram text-white" style="font-size: 45px;"></i>
                </a>
              </span>
              {% endif %}

              {% if platform.tiktok %}
              <span class="me-3">
                <a href="{{platform.tiktok}}" style="background: none; border: none;">
                  <i class="bx bxl-tiktok text-white" style="font-size: 40px;"></i>
                </a>
              </span>
              {% endif %}

              {% if platform.twitter %}
              <span class="me-3">
                <a href="{{platform.twitter}}" style="background: none; border: none;">
                  <i class="bx bxl-twitter text-white" style="font-size: 40px;"></i>
                </a>
              </span>
              {% endif %}

            </p>
          </section>
          <!-- Section: CTA -->
        </div>
        <!-- Grid container -->

        <!-- Copyright -->
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
          © <script>
            document.write(new Date().getFullYear());
          </script> Copyright . All Rights Reserved . Developed By <a
            style="font-weight: bold; font-size: 25px; color: white;" href="https://mina-emad.netlify.app">Mina Emad</a>
        </div>
        <!-- Copyright -->
      </footer>
      <!-- Footer -->
    </section>
    <!-- Footer  -->

    <div class="content-backdrop fade"></div>
  </div>
  <!-- Content wrapper -->




  <!-- Overlay -->
  <div class="layout-overlay layout-menu-toggle"></div>
</div>
<!-- / Layout wrapper -->



<!-- Filter JS  -->
<script src="{% static 'profile/assets/js/filter.js' %}"></script>


<!-- Percentage  -->
<script>
  var studentsPercentage = document.getElementById('students_percentage').value;
  var circle = document.getElementById('circle');
  var percentage = document.getElementById('percentage');

  var progress = 0;
  var interval = setInterval(increaseProgress, 20);

  function increaseProgress() {
    progress += 1;
    circle.style.transform = `rotate(${progress / 100 * 360}deg)`;
    percentage.innerHTML = `${progress}%`;

    if (progress >= studentsPercentage) {
      clearInterval(interval);
    }
  }
</script>
<!-- Percentage  -->




<script>
  const Input = document.getElementById('videoInput');
  const progressBar = document.querySelector('.progress');

  Input.addEventListener('change', (event) => {
    const file = event.target.files[0];
    const fileSize = file.size;
    const chunkSize = 1024 * 1024; // 1MB
    let offset = 0;

    const reader = new FileReader();

    reader.onloadend = () => {
      if (offset < fileSize) {
        const percentLoaded = (offset / fileSize) * 100;
        progressBar.style.width = percentLoaded + '%';

        readChunk();
      }
    };

    const readChunk = () => {
      const chunk = file.slice(offset, offset + chunkSize);

      reader.readAsArrayBuffer(chunk);
      offset += chunkSize;
    };

    readChunk();
  });
</script>



<script>
  // Selecting the necessary elements
  const videoInput = document.getElementById('videoInput');
  const videoPlayer = document.getElementById('videoPlayer');

  // Function to handle the change event on the input element
  function handleInputChange(event) {
    const file = event.target.files[0];
    const fileURL = URL.createObjectURL(file);

    // Set the file URL as the source of the videoPlayer
    videoPlayer.src = fileURL;
    videoPlayer.style.display = 'block';
  }

  // Adding an event listener to the input element
  videoInput.addEventListener('change', handleInputChange);
</script>



<script>
  function showDiv(btnId) {
    var div = document.getElementById(btnId);
    if (div.style.display === "none") {
      div.style.display = "block";
    } else {
      div.style.display = "none";
    }
  }
</script>

<script>
  function displayImage(event) {
    var image = document.getElementById('uploaded-image');
    image.src = URL.createObjectURL(event.target.files[0]);
    image.style.display = 'block';
  }
</script>




{% endblock content %}